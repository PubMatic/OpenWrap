!(function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var r in e)t.d(n,r,function(t){return e[t]}.bind(null,r));return n},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)})([(function(e,t){t.COMMON={BID_PRECISION:2,DEAL_KEY_FIRST_PART:"pwtdeal_",DEAL_KEY_VALUE_SEPARATOR:"_-_",PREBID_PREFIX:"PB_",CONFIG:"config",DIV_ID:"divID",PARAMS:"params",SIZES:"sizes",HEIGHT:"height",WIDTH:"width",SLOTS:"slots",KEY_GENERATION_PATTERN_VALUE:"kgpv",KEY_VALUE_PAIRS:"kvp",IMPRESSION_ID:"iid",PARENT_ADAPTER_PREBID:"prebid",ANALYTICS_CURRENCY:"USD",NATIVE_MEDIA_TYPE_CONFIG:"nativeConfig",NATIVE_ONLY:"nativeOnly",OW_CLICK_NATIVE:"openwrap-native-click",BID_ID:"owbidid",AD_SERVER_CURRENCY:"adServerCurrency",SINGLE_IMPRESSION:"singleImpression",PREBID_NAMESPACE:"owpbjs",IH_NAMESPACE:"ihowpbjs",ENABLE_USER_ID:"identityEnabled",IDENTITY_PARTNERS:"identityPartners",IDENTITY_CONSUMERS:"identityConsumers",IDENTITY_ONLY:"identityOnly",PREBID:"prebid",PROTOCOL:"https://",SLOT_CONFIG:"slotConfig",DEFAULT:"default",MCONF_REGEX:"regex",ADSERVER:"adserver",OWVERSION:"owv",PBVERSION:"pbv",SCHAINOBJECT:"sChainObj",SCHAIN:"sChain",PBJS_NAMESPACE:"prebidObjName",TEST_GROUP_DETAILS:"testConfigDetails",TEST_PWT:"test_pwt",PRICE_GRANULARITY:"priceGranularity",GRANULARITY_MULTIPLIER:"granularityMultiplier",TEST_PARTNER:"test_adapters",REDUCE_CODE_SIZE:"reduceCodeSize",TEST_IDENTITY_PARTNER:"test_identityPartners",IH_ANALYTICS_ADAPTER_EXPIRY:"ihAnalyticsAdapterExpiry",IH_ANALYTICS_ADAPTER_DEFAULT_EXPIRY:7,EXTERNAL_FLOOR_WO_CONFIG:"External Floor w/o Config",HARD_FLOOR:"hard"},t.CONFIG={GLOBAL:"global",ADAPTERS:"adapters",COMMON:"pwt",TIMEOUT:"t",KEY_GENERATION_PATTERN:"kgp",REGEX_KEY_GENERATION_PATTERN:"kgp_rx",REGEX_KEY_LOOKUP_MAP:"klm_rx",KEY_LOOKUP_MAP:"klm",SERVER_SIDE_KEY:"sk",PUBLISHER_ID:"pubid",PROFILE_ID:"pid",PROFILE_VERSION_ID:"pdvid",LOGGER_URL:"dataURL",TRACKER_URL:"winURL",REV_SHARE:"rev_share",THROTTLE:"throttle",BID_PASS_THROUGH:"pt",GLOBAL_KEY_VALUE:"gkv",MASK_BIDS:"maksBids",META_DATA_PATTERN:"metaDataPattern",SEND_ALL_BIDS:"sendAllBids",SERVER_SIDE_ENABLED:"serverSideEnabled",GDPR_CONSENT:"gdpr",CONSENT_STRING:"cns",GDPR_CMPAPI:"cmpApi",GDPR_TIMEOUT:"gdprTimeout",GDPR_AWC:"awc",DEFAULT_GDPR_CMPAPI:"iab",DEFAULT_GDPR_TIMEOUT:1e4,DEFAULT_GDPR_AWC:"0",DEFAULT_SINGLE_IMPRESSION:"0",DEFAULT_USER_ID_MODULE:"0",DEFAULT_IDENTITY_ONLY:"0",DEFAULT_GDPR_CONSENT:"0",DISABLE_AJAX_TIMEOUT:"disableAjaxTimeout",CCPA_CONSENT:"ccpa",CCPA_CMPAPI:"ccpaCmpApi",CCPA_TIMEOUT:"ccpaTimeout",DEFAULT_CCPA_CMPAPI:"iab",DEFAULT_CCPA_TIMEOUT:1e4,CACHE_PATH:"/cache",CACHE_URL:"https://ow.pubmatic.com",VIDEO_PARAM:"video",ENABLE_PB_PM_ANALYTICS:"pubAnalyticsAdapter",FLOOR_PRICE_MODULE_ENABLED:"floorPriceModuleEnabled",FLOOR_AUCTION_DELAY:"floorAuctionDelay",DEFAULT_FLOOR_AUCTION_DELAY:100,FLOOR_JSON_URL:"jsonUrl",FLOOR_ENFORCE_JS:"floorType",DEFAULT_FLOOR_ENFORCE_JS:!0,USE_PREBID_KEYS:"usePBJSKeys",AB_TEST_ENABLED:"abTestEnabled",TIMEOUT_ADJUSTMENT:50,SSO_ENABLED:"ssoEnabled",FLOOR_SOURCE:"floorSource"},t.METADATA_MACROS={WIDTH:"_W_",HEIGHT:"_H_",PARTNER:"_P_",GROSS_ECPM:"_GE_",NET_ECPM:"_NE_",BID_COUNT:"_BC_",PARTNER_COUNT:"_PC_"},t.MACROS={WIDTH:"_W_",HEIGHT:"_H_",AD_UNIT_ID:"_AU_",AD_UNIT_INDEX:"_AUI_",INTEGER:"_I_",DIV:"_DIV_"},t.SLOT_STATUS={CREATED:0,PARTNERS_CALLED:1,TARGETING_ADDED:2,DISPLAYED:3},t.WRAPPER_TARGETING_KEYS={BID_ID:"pwtsid",BID_STATUS:"pwtbst",BID_ECPM:"pwtecp",BID_DEAL_ID:"pwtdid",BID_ADAPTER_ID:"pwtpid",BID_SIZE:"pwtsz",PUBLISHER_ID:"pwtpubid",PROFILE_ID:"pwtprofid",PROFILE_VERSION_ID:"pwtverid",META_DATA:"pwtm",PLATFORM_KEY:"pwtplt",USER_IDS:"pwtuid",CACHE_ID:"pwtcid",CACHE_URL:"pwtcurl",CACHE_PATH:"pwtcpath"},t.IGNORE_PREBID_KEYS={hb_bidder:1,hb_adid:1,hb_pb:1,hb_size:1,hb_deal:1,hb_uuid:1,hb_cache_host:1,hb_cache_id:1,hb_adomain:1},t.LOGGER_PIXEL_PARAMS={TIMESTAMP:"tst",PAGE_URL:"purl",PAGE_DOMAIN:"orig",TIMEOUT:"to"},t.MESSAGES={M1:": In fetchbids.",M2:": Throttled.",M3:": adapter must implement the fetchBids() function.",M4:"BidManager: entry ",M5:": Callback.",M6:"bidAlreadExists : ",M7:": Exiting from fetchBids.",M8:". Config not found, ignored.",M10:"Bid is rejected as ecpm is NULL.",M11:"Bid is rejected as ecpm is NaN: ",M12:"Existing bid ecpm: ",M13:", is lower than new bid ecpm ",M14:", so we are replacing bid from partner ",M15:", is greater than new bid ecpm ",M16:", so we are not replacing bid from partner ",M17:"Post timeout bid, ignored.",M18:"Bid is selected for partner ",M19:": Found winning adapterID: ",M20:"Bid is rejected as ecpm is empty string.",M21:": error in respose handler.",M22:"Bid is rejected as ecpm is <= 0.",M23:"Existing bid is default-bid with zero ecpm, thus replacing it with the new bid from partner ",M24:"Passsed argument is not a bidAdaptor",M25:"Bid details not found for bidID: ",M26:"Currency Module is Activated. Ad Server Currency is: ",M27:"Invalid regex pattern ",M28:"Unable to match regex pattern as kgpv length is not 3",M29:"Unable to parse Partner configuration",M30:"AB Test Enabled With Config",M31:"AB Test Enabled With Partner Config",M32:"Invalid MediaConfig regex pattern : ",IDENTITY:{M1:"Unable to get User Id from OpenIdentity",M2:"Setting UserIds to EB ",M3:"Unable to parse User ID configuration",M4:"User Id Configuration Sent to prebid ",M5:"Identity only enabled, no need to process. Calling Original function ",M6:" function is not available. Make sure userId module is included."}},t.PLATFORM_VALUES={DISPLAY:"display",NATIVE:"native",VIDEO:"video"},t.FORMAT_VALUES={BANNER:"banner",VIDEO:"video",NATIVE:"native",OTHER:"other"},t.HOOKS={PREBID_SET_CONFIG:"HookForPrebidSetConfig",PREBID_REQUEST_BIDS:"HookForPrebidRequestBids",BID_RECEIVED:"HookForBidReceived",POST_AUCTION_KEY_VALUES:"HookForPostAuctionKeyValues"},t.SRA_ENABLED_BIDDERS={rubicon:1,improvedigital:2},t.EXCLUDE_IDENTITY_PARAMS=["rev_share","timeout","throttle"],t.TOLOWERCASE_IDENTITY_PARAMS=["storage.type"],t.JSON_VALUE_KEYS=["params.clientIdentifier"],t.AD_SERVER={DFP:"DFP",CUSTOM:"CUSTOM"},t.SPECIAL_CASE_ID_PARTNERS={intentIqId:{"params.partner":"number"},sharedId:{"params.syncTime":"number"},id5Id:{"params.partner":"number"},parrableId:{"params.timezoneFilter.allowedZones":"array"},imuid:{"params.cid":"number"},identityLink:{"storage.refreshInSeconds":"number"},merkleId:{"params.ssp_ids":"array"},liveIntentId:{"params.requestedAttributesOverrides":"customObject"}},t.ID_PARTNERS_CUSTOM_VALUES={id5Id:[{key:"params.provider",value:"pubmatic-identity-hub"}],identityLink:[{key:"storage.refreshInSeconds",value:"1800"}]},t.EXCLUDE_PARTNER_LIST=["pubProvidedId"],t.MEDIATYPE={BANNER:0,VIDEO:1,NATIVE:2},t.BID_STATUS={BID_REJECTED:"bidRejected"},t.PUBMATIC_ALIASES=["pubmatic2"],t.PBSPARAMS={adapter:"prebidServer",endpoint:"https://ow.pubmatic.com/pbs/openrtb2/auction",syncEndpoint:"https://ow.pubmatic.com/cookie_sync/?sec=1"},t.TIMEOUT_CONFIG={MaxTimeout:500,MinTimeout:200},t.DEFAULT_ALIASES={adg:"adgeneration",districtm:"appnexus",districtmDMX:"dmx",pubmatic2:"pubmatic"},t.YAHOOSSP="yahoossp",t.REGEX_BROWSERS=[/\b(?:crmo|crios)\/([\w\.]+)/i,/edg(?:e|ios|a)?\/([\w\.]+)/i,/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i,/opios[\/ ]+([\w\.]+)/i,/\bopr\/([\w\.]+)/i,/(kindle)\/([\w\.]+)/i,/(lunascape)[\/ ]?([\w\.]*)/i,/(maxthon)[\/ ]?([\w\.]*)/i,/(netfront)[\/ ]?([\w\.]*)/i,/(jasmine)[\/ ]?([\w\.]*)/i,/(blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock)\/([-\w\.]+)/i,/(rockmelt)\/([-\w\.]+)/i,/(midori)\/([-\w\.]+)/i,/(epiphany)\/([-\w\.]+)/i,/(silk)\/([-\w\.]+)/i,/(skyfire)\/([-\w\.]+)/i,/(ovibrowser)\/([-\w\.]+)/i,/(bolt)\/([-\w\.]+)/i,/(iron)\/([-\w\.]+)/i,/(vivaldi)\/([-\w\.]+)/i,/(iridium)\/([-\w\.]+)/i,/(phantomjs)\/([-\w\.]+)/i,/(bowser)\/([-\w\.]+)/i,/(quark)\/([-\w\.]+)/i,/(qupzilla)\/([-\w\.]+)/i,/(falkon)\/([-\w\.]+)/i,/(rekonq)\/([-\w\.]+)/i,/(puffin)\/([-\w\.]+)/i,/(brave)\/([-\w\.]+)/i,/(whale)\/([-\w\.]+)/i,/(qqbrowserlite)\/([-\w\.]+)/i,/(qq)\/([-\w\.]+)/i,/(duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i,/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i,/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i,/konqueror\/([\w\.]+)/i,/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i,/yabrowser\/([\w\.]+)/i,/(avast|avg)\/([\w\.]+)/i,/\bfocus\/([\w\.]+)/i,/\bopt\/([\w\.]+)/i,/coc_coc\w+\/([\w\.]+)/i,/dolfin\/([\w\.]+)/i,/coast\/([\w\.]+)/i,/miuibrowser\/([\w\.]+)/i,/fxios\/([-\w\.]+)/i,/\bqihu|(qi?ho?o?|360)browser/i,/(oculus)browser\/([\w\.]+)/i,/(samsung)browser\/([\w\.]+)/i,/(sailfish)browser\/([\w\.]+)/i,/(huawei)browser\/([\w\.]+)/i,/(comodo_dragon)\/([\w\.]+)/i,/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i,/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i,/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i,/\bgsa\/([\w\.]+) .*safari\//i,/headlesschrome(?:\/([\w\.]+)| )/i,/ wv\).+(chrome)\/([\w\.]+)/i,/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i,/(chrome|chromium|crios)\/v?([\w\.]+)/i,/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i,/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i,/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i,/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i,/(navigator|netscape\d?)\/([-\w\.]+)/i,/mobile vr; rv:([\w\.]+)\).+firefox/i,/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],t.BROWSER_MAPPING=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90]}),(function(e,t,i){var n=i(2),r=i(0),o=i(3),a=i(5),s=i(4);t.debugLogIsEnabled=!1,t.visualDebugLogIsEnabled=!1;var d=Object.prototype.toString,c=this;c.idsAppendedToAdUnits=!1,t.mediaTypeConfig={};var u=parseInt(o[r.CONFIG.COMMON][r.COMMON.IDENTITY_ONLY]||r.CONFIG.DEFAULT_IDENTITY_ONLY)?r.COMMON.IH_NAMESPACE:r.COMMON.PREBID_NAMESPACE;t.pbNameSpace=u,t.isA=function(e,t){return d.call(e)==="[object "+t+"]"},t.isFunction=function(e){return c.isA(e,"Function")},t.isString=function(e){return c.isA(e,"String")},t.isArray=function(e){return c.isA(e,"Array")},t.isNumber=function(e){return c.isA(e,"Number")},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isOwnProperty=function(e,t){return!(!c.isObject(e)||!e.hasOwnProperty)&&e.hasOwnProperty(t)},t.isUndefined=function(e){return void 0===e},t.enableDebugLog=function(){c.debugLogIsEnabled=!0},t.isDebugLogEnabled=function(){return c.debugLogIsEnabled},t.enableVisualDebugLog=function(){c.debugLogIsEnabled=!0,c.visualDebugLogIsEnabled=!0},t.isEmptyObject=function(e){return c.isObject(e)&&0===Object.keys(e).length},t.log=function(e){c.debugLogIsEnabled&&console&&this.isFunction(console.log)&&(this.isString(e)?console.log((new Date).getTime()+" : [OpenWrap] : "+e):console.log(e))},t.logError=function(e){c.debugLogIsEnabled&&console&&this.isFunction(console.log)&&(this.isString(e)?console.error((new Date).getTime()+" : [OpenWrap] : "+e):console.error(e))},t.logWarning=function(e){c.debugLogIsEnabled&&console&&this.isFunction(console.log)&&(this.isString(e)?console.warn((new Date).getTime()+" : [OpenWrap] : "+e):console.warn(e))},t.error=function(e){console.log((new Date).getTime()+" : [OpenWrap] : [Error]",e)},t.getCurrentTimestampInMs=function(){return(new window.Date).getTime()},t.getCurrentTimestamp=function(){var e=new Date;return Math.round(e.getTime()/1e3)};var p,l=(p=0,function(){return++p});t.utilGetIncrementalInteger=l,t.getUniqueIdentifierStr=function(){return l()+window.Math.random().toString(16).substr(2)},t.copyKeyValueObject=function(e,t){if(c.isObject(e)&&c.isObject(t)){var i=c;c.forEachOnObject(t,(function(n,r){if(t[n]=i.isArray(r)?r:[r],i.isOwnProperty(e,n)){if(!c.isArray(e[n])){var o=e[n];e[n]=[o]}e[n].push(r)}else e[n]=[r]}))}},t.getIncrementalInteger=(function(){var e=0;return function(){return++e}})(),t.generateUUID=function(){var e=(new window.Date).getTime(),t=window.decodeURIComponent(this.pageURL).toLowerCase().replace(/[^a-z,A-Z,0-9]/gi,""),i=t.length;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx-zzzzz".replace(/[xyz]/g,(function(n){var r,o=(e+16*Math.random())%16|0;switch(e=Math.floor(e/16),n){case"x":r=o;break;case"z":r=t[Math.floor(Math.random()*i)];break;default:r=3&o|8}return r.toString(16)}))};var g=new RegExp(r.MACROS.WIDTH,"g"),f=new RegExp(r.MACROS.HEIGHT,"g"),m=new RegExp(r.MACROS.AD_UNIT_ID,"g"),h=new RegExp(r.MACROS.AD_UNIT_INDEX,"g"),E=new RegExp(r.MACROS.INTEGER,"g"),w=new RegExp(r.MACROS.DIV,"g");t.generateSlotNamesFromPattern=function(e,t,i,n){var r,o,a,s,d=[],u={};if(c.isObject(e)&&c.isFunction(e.getSizes)){o=e.getSizes();var p=c.isFunction(e.getDivID)?e.getDivID():e.getSlotId().getDomId();if(i){o=[].concat(e.getSizes());var l=c.mediaTypeConfig[p];l&&l.video&&o.unshift([0,0])}if((a=o.length)>0)for(s=0;a>s;s++)if(2==o[s].length&&o[s][0]&&o[s][1]||0==o[s][0]&&0==o[s][1]||c.isFunction(o[s].getWidth)&&c.isFunction(o[s].getHeight)){var I=c.isFunction(e.getAdUnitID)?e.getAdUnitID():e.getSlotId().getAdUnitPath(),y=(p=c.isFunction(e.getDivID)?e.getDivID():e.getSlotId().getDomId(),c.isFunction(e.getAdUnitIndex)?e.getAdUnitIndex():e.getSlotId().getId().split("_")[1]),O=0==o[s][0]?0:o[s][0]||o[s].getWidth(),v=0==o[s][1]?0:o[s][1]||o[s].getHeight();r=(r=t).replace(m,I).replace(h,y).replace(E,c.getIncrementalInteger()).replace(w,p).replace(g,O).replace(f,v),0==O&&0==v?n[0]=r:c.isOwnProperty(u,r)||(u[r]="",d.push(r))}}return d},t.forEachGeneratedKey=function(e,t,i,n,o,a,s,d){var u=a.length,p=i[r.CONFIG.KEY_GENERATION_PATTERN]||i[r.CONFIG.REGEX_KEY_GENERATION_PATTERN]||"";u>0&&p.length>3&&c.forEachOnArray(a,(function(r,a){var u=[],l=c.generateSlotNamesFromPattern(a,p,!0,u);l.length>0&&c.callHandlerFunctionForMapping(e,t,i,n,o,l,a,s,d,p,u)}))},t.callHandlerFunctionForMapping=function(e,t,i,o,d,u,p,l,g,f,m){var h=i[r.CONFIG.KEY_LOOKUP_MAP]||i[r.CONFIG.REGEX_KEY_LOOKUP_MAP]||null,E=f.indexOf(r.MACROS.WIDTH)>=0&&f.indexOf(r.MACROS.HEIGHT)>=0,w=!!i[r.CONFIG.REGEX_KEY_LOOKUP_MAP],I=void 0;const y=n.getAdapterNameForAlias(e);var O=r.PUBMATIC_ALIASES.indexOf(y)>-1,v=!1;c.forEachOnArray(u,(function(n,d){var u=null,f=!1,y=p.getSizes();if(null==h)m&&1==m.length&&(d=m[0]),f=!0;else{if(w){c.debugLogIsEnabled&&c.log(console.time("Time for regexMatching for key "+d));var S=c.getConfigFromRegex(h,d);c.debugLogIsEnabled&&c.log(console.timeEnd("Time for regexMatching for key "+d)),S?(u=S.config,I=S.regexPattern):v=!!O}else m&&1==m.length&&(u=h[Object.keys(h).filter((function(e){return e.toLowerCase()===m[0].toLowerCase()}))])&&(d=m[0]),u||(u=h[Object.keys(h).filter((function(e){return e.toLowerCase()===d.toLowerCase()}))]);!u&&!O||v?c.log(e+": "+d+r.MESSAGES.M8):f=!0}if(f){if(1==g){var b=a.createBid(e,d);b.setDefaultBidStatus(1).setReceivedTime(c.getCurrentTimestampInMs()),s.setBidFromBidder(p.getDivID(),b),b.setRegexPattern(I)}l(e,t,i,o,d,E,p,c.getPartnerParams(u),y[n][0],y[n][1],I)}}))},t.resizeWindow=function(e,t,i,n){if(i&&t)try{var r=e.defaultView.frameElement,o=[];if(n){var a=document.getElementById(n),s=a.querySelector("div");o.push(s),o.push(s.querySelector("iframe")),r=a.querySelector("iframe")}o.push(r),o.forEach((function(e){e&&(e.width=""+t,e.height=""+i,e.style.width=t+"px",e.style.height=i+"px")}))}catch(e){c.logError("Creative-Resize; Error in resizing creative")}},t.writeIframe=function(e,t,i,n,r){e.write('<iframe frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" scrolling="no" width="'+i+'" hspace="0" vspace="0" height="'+n+'"'+(r?' style="'+r+'"':"")+' src="'+t+'"></iframe>')},t.displayCreative=function(e,t){t&&t.pbbid&&"video"==t.pbbid.mediaType&&t.renderer&&c.isObject(t.renderer)?c.isFunction(t.renderer.render)&&t.renderer.render(t.getPbBid()):(c.resizeWindow(e,t.width,t.height),t.adHtml?(t.adHtml=c.replaceAuctionPrice(t.adHtml,t.getGrossEcpm()),e.write(t.adHtml)):t.adUrl?(t.adUrl=c.replaceAuctionPrice(t.adUrl,t.getGrossEcpm()),c.writeIframe(e,t.adUrl,t.width,t.height,"")):(c.logError("creative details are not found"),c.logError(t)))},t.forEachOnObject=function(e,t){if(c.isObject(e)&&c.isFunction(t))for(var i in e)c.isOwnProperty(e,i)&&t(i,e[i])},t.forEachOnArray=function(e,t){if(c.isArray(e)&&c.isFunction(t))for(var i=0,n=e.length;n>i;i++)t(i,e[i])},t.trim=function(e){return c.isString(e)?e.replace(/^\s+/g,"").replace(/\s+$/g,""):e},t.getTopFrameOfSameDomain=function(e){try{if(e.parent.document!=e.document)return c.getTopFrameOfSameDomain(e.parent)}catch(e){}return e},t.metaInfo={},t.getMetaInfo=function(e){var t,i={};i.pageURL="",i.refURL="",i.protocol="https://",i.secure=1,i.isInIframe=c.isIframe(e);try{t=c.getTopFrameOfSameDomain(e),i.refURL=(t.refurl||t.document.referrer||"").substr(0,512),i.pageURL=(t!==window.top&&""!=t.document.referrer?t.document.referrer:t.location.href).substr(0,512),i.protocol=(function(e){return"http:"===e.location.protocol?(i.secure=0,"http://"):(i.secure=1,"https://")})(t)}catch(e){}return i.pageDomain=c.getDomainFromURL(i.pageURL),c.metaInfo=i,i},t.isIframe=function(e){try{return e.self!==e.top}catch(e){return!1}},t.findQueryParamInURL=function(e,t){return c.isOwnProperty(c.parseQueryParams(e),t)},t.parseQueryParams=function(e){var t=c.createDocElement(window,"a");t.href=e;var i={};if(t.search){var n=t.search.replace("?","");n=n.split("&"),c.forEachOnArray(n,(function(e,t){var n=(t=t.split("="))[0]||"",r=t[1]||"";i[n]=r}))}return i},t.createDocElement=function(e,t){return e.document.createElement(t)},t.addHookOnFunction=function(e,t,i,n){var r=e;if(e=t?e.__proto__:e,c.isObject(e)&&c.isFunction(e[i])){var o=e[i];e[i]=n(r,o)}else c.logWarning("in assignNewDefination: oldReference is not a function")},t.getBididForPMP=function(e,t){var i=(e=e.split(",")).length,n=t.length,o="",a="";if(0!=i){for(var s=0;n>s;s++){for(var d=0;i>d;d++)if(e[d].indexOf(t[s])>=0){o=e[d];break}if(""!=o)break}""==o?(o=e[0],this.log("No PMP-Deal was found matching PriorityArray, So Selecting first PMP-Deal: "+o)):this.log("Selecting PMP-Deal: "+o);var c=o.split(r.COMMON.DEAL_KEY_VALUE_SEPARATOR);if(3==c.length&&(a=c[2]),a)return a;this.log("Error: bidID not found in PMP-Deal: "+o)}else this.log("Error: Unable to find bidID as values array is empty.")},t.insertHtmlIntoIframe=function(e){if(e){var t=document.createElement("iframe");t.id=c.getUniqueIdentifierStr(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",(function(e,t,i,n){var r;t=t||document,r=i?t.getElementsByTagName(i):t.getElementsByTagName("head");try{if((r=r.length?r:t.getElementsByTagName("body")).length){r=r[0];var o=n?null:r.firstChild;r.insertBefore(e,o)}}catch(e){}})(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close()}},t.createInvisibleIframe=function(){var e=c.createDocElement(window,"iframe");return e.id=c.getUniqueIdentifierStr(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.style="display:none",e},t.addMessageEventListener=function(e,t){return"function"!=typeof t?(c.log("EventHandler should be a function"),!1):(e.addEventListener?e.addEventListener("message",t,!1):e.attachEvent("onmessage",t),!0)},t.safeFrameCommunicationProtocol=function(e){try{var t;if(msgData=window.JSON.parse(e.data),!msgData.pwt_type)return;switch(window.parseInt(msgData.pwt_type)){case 1:if(window.PWT.isSafeFrame)return;if(p=t=s.getBidById(msgData.pwt_bidID)){var i=(l=p.bid).getAdapterID(),r=p.slotid,o={pwt_type:2,pwt_bid:l};c.vLogInfo(r,{type:"disp",adapter:i}),s.executeMonetizationPixel(r,l),l&&l.pbbid&&"video"==l.pbbid.mediaType&&l.renderer&&c.isObject(l.renderer)?c.isFunction(l.renderer.render)&&l.renderer.render(l.getPbBid()):(c.resizeWindow(window.document,l.width,l.height,r),e.source.postMessage(window.JSON.stringify(o),msgData.pwt_origin))}break;case 2:if(!window.PWT.isSafeFrame)return;if(msgData.pwt_bid)if((l=msgData.pwt_bid).adHtml)try{var a=c.createInvisibleIframe(window.document);if(!a)throw{message:"Failed to create invisible frame.",name:""};if(a.setAttribute("width",l.width),a.setAttribute("height",l.height),a.style="",window.document.body.appendChild(a),!a.contentWindow)throw{message:"Unable to access frame window.",name:""};var d=a.contentWindow.document;if(!d)throw{message:"Unable to access frame window document.",name:""};var u='<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><base target="_top" /><script>inDapIF=true;</script></head>';u+="<body>",u+="<script>var $sf = window.parent.$sf;</script>",u+="<script>setInterval(function(){try{var fr = window.document.defaultView.frameElement;fr.width = window.parent.document.defaultView.innerWidth;fr.height = window.parent.document.defaultView.innerHeight;}catch(e){}}, 200);</script>",u+=l.adHtml,u+="</body></html>",d.write(u),d.close()}catch(e){c.logError("Error in rendering creative in safe frame."),c.log(e),c.log("Rendering synchronously."),c.displayCreative(window.document,msgData.pwt_bid)}else l.adUrl?c.writeIframe(window.document,l.adUrl,l.width,l.height,""):(c.logWarning("creative details are not found"),c.log(l));break;case 3:if(n.isPrebidPubMaticAnalyticsEnabled())e={message:"Prebid Native",adId:msgData.pwt_bidID,action:msgData.pwt_action},window.postMessage(JSON.stringify(e),"*");else{var p;if(p=t=s.getBidById(msgData.pwt_bidID)){var l;i=(l=p.bid).getAdapterID(),r=p.slotid,c.vLogInfo(r,{type:"disp",adapter:i}),msgData.pwt_action&&"imptrackers"==msgData.pwt_action&&s.executeMonetizationPixel(r,l),s.fireTracker(l,msgData.pwt_action)}}}var g=JSON.parse(localStorage.getItem("PROFILE_AUCTION_INFO_"+window.location.hostname))||{};null!==g&&g.slotLevelFrquencyDepth&&(g.slotLevelFrquencyDepth[g.codeAdUnitMap[t&&t.slotid]].impressionServed=g.slotLevelFrquencyDepth[g.codeAdUnitMap[t&&t.slotid]].impressionServed+1,g.impressionServed=g.impressionServed+1),localStorage.setItem("PROFILE_AUCTION_INFO_"+window.location.hostname,JSON.stringify(g))}catch(e){}},t.addMessageEventListenerForSafeFrame=function(e){c.addMessageEventListener(e,c.safeFrameCommunicationProtocol)},t.getElementLocation=function(e){var t,i=0,n=0;if(c.isFunction(e.getBoundingClientRect))t=e.getBoundingClientRect(),i=Math.floor(t.left),n=Math.floor(t.top);else for(;e;)i+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;return{x:i,y:n}},t.createVLogInfoPanel=function(e,t){var i,n,r,o=window.document;if(c.visualDebugLogIsEnabled&&(i=o.getElementById(e))&&t.length&&t[0][0]&&t[0][1]&&(r=e+"-pwtc-info",!c.isUndefined(o.getElementById(r)))){var a=c.getElementLocation(i);(n=o.createElement("div")).id=r,n.style="position: absolute; /*top: "+a.y+"px;*/ left: "+a.x+"px; width: "+t[0][0]+"px; height: "+t[0][1]+"px; border: 1px solid rgb(255, 204, 52); padding-left: 11px; background: rgb(247, 248, 224) none repeat scroll 0% 0%; overflow: auto; z-index: 9999997; visibility: hidden;opacity:0.9;font-size:13px;font-family:monospace;";var s=o.createElement("img");s.src=c.metaInfo.protocol+"ads.pubmatic.com/AdServer/js/pwt/close.png",s.style="cursor:pointer; position: absolute; top: 2px; left: "+(a.x+t[0][0]-16-15)+"px; z-index: 9999998;",s.title="close",s.onclick=function(){n.style.display="none"},n.appendChild(s),n.appendChild(o.createElement("br"));for(var d="Slot: "+e+" | ",u=0;u<t.length;u++)d+=(0!=u?", ":"")+t[u][0]+"x"+t[u][1];n.appendChild(o.createTextNode(d)),n.appendChild(o.createElement("br")),i.parentNode.insertBefore(n,i)}},t.realignVLogInfoPanel=function(e){var t,i,n,r=window.document;if(c.visualDebugLogIsEnabled&&(t=r.getElementById(e))&&(n=e+"-pwtc-info",i=r.getElementById(n))){var o=c.getElementLocation(t);i.style.visibility="visible",i.style.left=o.x+"px",i.style.height=t.clientHeight+"px"}},t.vLogInfo=function(e,t){var i,n,r=window.document;if(c.visualDebugLogIsEnabled){var o=e+"-pwtc-info";if(i=r.getElementById(o)){switch(t.type){case"bid":var a=t.latency,s=t.bidDetails,d="";0>a&&(a=0),d=t.hasOwnProperty("adServerCurrency")&&void 0!==t.adServerCurrency?0==t.adServerCurrency?"USD":t.adServerCurrency:"USD",n="Bid: "+t.bidder+(t.s2s?"(s2s)":"")+": "+s.getNetEcpm()+"("+s.getGrossEcpm()+")"+d+" :"+a+"ms",s.getPostTimeoutStatus()&&(n+=": POST-TIMEOUT");break;case"win-bid":s=t.bidDetails,d="",d=t.hasOwnProperty("adServerCurrency")&&void 0!==t.adServerCurrency?0==t.adServerCurrency?"USD":t.adServerCurrency:"USD",n="Winning Bid: "+s.getAdapterID()+": "+s.getNetEcpm()+d;break;case"win-bid-fail":n="There are no bids from PWT";break;case"hr":n="----------------------";break;case"disp":n="Displaying creative from "+t.adapter}i.appendChild(r.createTextNode(n)),i.appendChild(r.createElement("br"))}}},t.getExternalBidderStatus=function(e){var t=!0;return c.forEachOnArray(e,(function(e,i){t=window.OWT.externalBidderStatuses[i]?t&&window.OWT.externalBidderStatuses[i].status:t})),t},t.resetExternalBidderStatus=function(e){c.forEachOnArray(e,(function(e,t){c.log("resetExternalBidderStatus: "+t),window.OWT.externalBidderStatuses[t]=void 0}))},t.ajaxRequest=function(e,t,i,n){try{var r,o=!0,a=(n=n||{}).method||(i?"POST":"GET");if(window.XMLHttpRequest?(r=new window.XMLHttpRequest,c.isUndefined(r.responseType)&&(o=!1)):o=!1,!o)return void c.log("Ajax is not supported");r.onreadystatechange=function(){4===r.readyState&&t&&t(r.responseText,r)},r.open(a,e),n.withCredentials&&(r.withCredentials=!0),n.preflight&&r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-Type",n.contentType||"text/plain"),r.send("POST"===a&&i)}catch(e){c.log("Failed in Ajax"),c.log(e)}},t.getAdUnitConfig=function(e,t){function i(){return E?Object.keys(u.config).toString().toLowerCase().indexOf(E.toLowerCase())>-1:void 0}function o(){return!(!u||1!=u[r.COMMON.MCONF_REGEX])}var a,s={},d={},u=n.getSlotConfiguration();if(u)if(u.configPattern&&""!=u.configPattern.trim()||(u.configPattern="_AU_")){var p=u.configPattern,l=!0,g=!0,f=!0,m=void 0,h=c.isFunction(t.getDivID)?t.getDivID():t.getSlotId().getDomId(),E=c.generateSlotNamesFromPattern(t,p,!1)[0];if(c.isOwnProperty(u.config,r.COMMON.DEFAULT)&&(u.config[r.COMMON.DEFAULT].banner&&c.isOwnProperty(u.config[r.COMMON.DEFAULT].banner,"enabled")&&!u.config[r.COMMON.DEFAULT].banner.enabled&&(f=!1),u.config[r.COMMON.DEFAULT].native&&c.isOwnProperty(u.config[r.COMMON.DEFAULT].native,"enabled")&&!u.config[r.COMMON.DEFAULT].native.enabled&&(g=!1),u.config[r.COMMON.DEFAULT].video&&c.isOwnProperty(u.config[r.COMMON.DEFAULT].video,"enabled")&&!u.config[r.COMMON.DEFAULT].video.enabled&&(l=!1),(m=u.config[r.COMMON.DEFAULT]).renderer&&!c.isEmptyObject(m.renderer)&&(s.renderer=m.renderer)),c.isOwnProperty(u.config,E)||i()||o()){const e=i()?u.config[E]:o()?(Object.keys(u.config).forEach((function(e){try{if(e.length>0&&e!=r.COMMON.DEFAULT&&E.match(new RegExp(e,"i")))return void(a=e)}catch(t){c.log(r.MESSAGES.M32+JSON.stringify(e))}})),a?u.config[a]:void 0):void 0;e&&(m=e),m||(m=u.config[Object.keys(u.config).filter((function(e){return e.toLocaleLowerCase()===E.toLowerCase()}))]),c.log("Config"+JSON.stringify(m)+" found for adSlot: "+JSON.stringify(t))}else c.log("Considering Default Config for "+JSON.stringify(t));if(m){if(g&&m.native&&(!c.isOwnProperty(m.native,"enabled")||m.native.enabled)&&(m.native.config?d.native=m.native.config:c.logWarning("Native Config will not be considered as no config has been provided for slot"+JSON.stringify(t)+" or there is no configuration defined in default.")),l&&m.video&&(!c.isOwnProperty(m.video,"enabled")||m.video.enabled)&&(n.getAdServer()!=r.AD_SERVER.DFP?m.video.config?(d.video=m.video.config,m.video.partnerConfig&&(d.partnerConfig=m.video.partnerConfig)):c.logWarning("Video Config will not be considered as no config has been provided for slot"+JSON.stringify(t)+" or there is no configuration defined in default."):c.logWarning("Video Config will not be considered with DFP selected as AdServer.")),m.renderer&&!c.isEmptyObject(m.renderer)&&(s.renderer=m.renderer),!f||m.banner&&c.isOwnProperty(m.banner,"enabled")&&!m.banner.enabled)return c.mediaTypeConfig[h]=d,s.mediaTypeObject=d,s}else c.log("Config not found for adSlot: "+JSON.stringify(t))}else c.logWarning("Slot Type not found in config. Please provide slotType in configuration");return d.banner={sizes:e},c.mediaTypeConfig[h]=d,s.mediaTypeObject=d,s},t.addEventListenerForClass=function(e,t,i,n){if("function"!=typeof n)return c.log("EventHandler should be a function"),!1;var r=c.findElementsByClass(e,i);e.addEventListener||(t="on"+t);for(var o=0;o<r.length;o++)r[o].addEventListener(t,n,!0);return!0},t.findElementsByClass=function(e,t){return e.document.getElementsByClassName(t)||[]},t.getBidFromEvent=function(e){return e&&e.target&&e.target.attributes&&e.target.attributes[r.COMMON.BID_ID]&&e.target.attributes[r.COMMON.BID_ID].value||""},t.getAdFormatFromBidAd=function(e){var t=void 0;if(e&&c.isString(e))try{if(new RegExp(/VAST\s+version/).test(e))t=r.FORMAT_VALUES.VIDEO;else{var i=JSON.parse(e.replace(/\\/g,""));i&&i.native&&(t=r.FORMAT_VALUES.NATIVE)}}catch(e){t=r.FORMAT_VALUES.BANNER}return t},t.handleHook=function(e,t){c.isFunction(window.PWT[e])&&(c.log("For Hook-name: "+e+", calling window.PWT."+e+"function."),window.PWT[e].apply(window.PWT,t))},t.getCurrencyToDisplay=function(){var e=n.getAdServerCurrency();if(0==e&&(e="USD"),n.getAdServerCurrency()&&window[r.COMMON.PREBID_NAMESPACE]&&c.isFunction(window[r.COMMON.PREBID_NAMESPACE].getConfig)){var t=window[r.COMMON.PREBID_NAMESPACE].getConfig();if(t&&t.currency&&t.currency.adServerCurrency)return t.currency.adServerCurrency}return e},t.getConfigFromRegex=function(e,t){for(var i=null,n=t.split("@"),o=0;o<e.length;o++){var a=e[o],s=a.rx;if(3==n.length)try{if(n[0].match(new RegExp(s.AU,"i"))&&n[1].match(new RegExp(s.DIV,"i"))&&n[2].match(new RegExp(s.SIZE,"i"))){i={config:a.rx_config,regexPattern:s.AU+"@"+s.DIV+"@"+s.SIZE};break}}catch(e){c.logError(r.MESSAGES.M27+JSON.stringify(s))}else c.logWarning(r.MESSAGES.M28+t)}return i},t.getUserIdConfiguration=function(){var e=[];return window[u].onSSOLogin({}),c.forEachOnObject(n.getIdentityPartners(),(function(t,i){r.EXCLUDE_PARTNER_LIST.indexOf(t)<0&&e.push(c.getUserIdParams(i))})),c.log(r.MESSAGES.IDENTITY.M4+JSON.stringify(e)),e},t.getUserIds=function(){return c.isFunction(window[r.COMMON.PREBID_NAMESPACE].getUserIds)?window[r.COMMON.PREBID_NAMESPACE].getUserIds():(c.logWarning("getUserIds"+r.MESSAGES.IDENTITY.M6),void 0)},t.getUserIdsAsEids=function(){return c.isFunction(window[r.COMMON.PREBID_NAMESPACE].getUserIdsAsEids)?window[r.COMMON.PREBID_NAMESPACE].getUserIdsAsEids():(c.logWarning("getUserIdsAsEids"+r.MESSAGES.IDENTITY.M6),void 0)
},t.getNestedObjectFromArray=function(e,t,i){for(var n=e,r=n,o=0;o<t.length-1;o++)r[t[o]]||(r[t[o]]={}),r=r[t[o]];return r[t[t.length-1]]=i,n},t.getNestedObjectFromString=function(e,t,i,n){var r=i.split(t);return 1==r.length?e[i]=n:e=c.getNestedObjectFromArray(e,r,n),e},t.deleteCustomParams=function(e){return delete e.custom,e},t.getUserIdParams=function(e){var t={};for(var i in c.applyDataTypeChangesIfApplicable(e),c.applyCustomParamValuesfApplicable(e),e)try{-1==r.EXCLUDE_IDENTITY_PARAMS.indexOf(i)&&(r.TOLOWERCASE_IDENTITY_PARAMS.indexOf(i)>-1&&(e[i]=e[i].toLowerCase()),r.JSON_VALUE_KEYS.indexOf(i)>-1&&(e[i]=JSON.parse(e[i])),t=c.getNestedObjectFromString(t,".",i,e[i]))}catch(e){c.logWarning(r.MESSAGES.IDENTITY.M3,e)}return t&&t.params&&"true"==t.params.loadATS&&c.initLiveRampAts(t),t&&t.params&&"true"==t.params.loadIDP&&c.initZeoTapJs(t),t&&t.params&&"true"==t.params.loadLauncher&&c.initLauncherJs(t),t&&t.custom&&"true"==t.custom.loadLaunchPad&&c.initLiveRampLaunchPad(t),c.deleteCustomParams(t)},t.getPartnerParams=function(e){var t={};for(var i in e)try{t=c.getNestedObjectFromString(t,".",i,e[i])}catch(e){c.logWarning(r.MESSAGES.M29,e)}return t},t.getAdDomain=function(e){if(e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0){var t=e.meta.advertiserDomains[0];if(t)try{return new URL(t).hostname.replace("www.","")}catch(e){return c.log("Adomain URL (Not a proper URL):"+t),t.split("/")[0].replace("www.","")}}},t.getTgid=function(){var e=parseInt(PWT.testGroupId||0);return 15>=e&&e>=0?e:0},t.generateMonetizationPixel=function(e,t){var i,o,a,d,u,p,l,g=n.getMonetizationPixelURL(),f=n.getPublisherId(),m="";const h=t.pbbid&&t.pbbid.prebidBidId||t.prebidBidId;if(g){o=c.isFunction(t.getGrossEcpm)?t.getGrossEcpm(!0):n.getAdServerCurrency()&&c.isFunction(t.getCpmInNewCurrency)?window.parseFloat(t.getCpmInNewCurrency(r.COMMON.ANALYTICS_CURRENCY)):n.isPrebidPubMaticAnalyticsEnabled()&&t.originalCpm?t.originalCpm:t.cpm,"pubmaticServer"==(u=c.isFunction(t.getAdapterID)?t.getAdapterID():t.bidderCode)&&(u=t.originalBidder||"pubmatic"),p=n.getAdapterNameForAlias(u),i=c.isFunction(t.getNetEcpm)?t.getNetEcpm(!0):window.parseFloat((o*n.getAdapterRevShare(u)).toFixed(r.COMMON.BID_PRECISION)),d=c.isFunction(t.getBidID)?t.getBidID():n.isPrebidPubMaticAnalyticsEnabled()&&t.adId?t.adId:window.PWT.bidMap[e].adapters[u].bids[Object.keys(window.PWT.bidMap[e].adapters[u].bids)[0]].bidID,a=c.isFunction(t.getKGPV)?t.getKGPV():window.PWT.bidMap[e].adapters[u].bids[Object.keys(window.PWT.bidMap[e].adapters[u].bids)[0]].getKGPV(!1,t.mediaType),m=c.isFunction(t.getsspID)?t.getsspID():t.sspID||"",l=s.getAdUnitInfo(e).adUnitId||e;var E=window.PWT.bidMap[e].getImpressionID(),w=window.PWT.newAdUnits&&window.PWT.newAdUnits[E]&&window.PWT.newAdUnits[E][e]&&window.PWT.newAdUnits[E][e].pubmaticAutoRefresh&&window.PWT.newAdUnits[E][e].pubmaticAutoRefresh.isRefreshed?1:0;const I=c.getAdDomain(t.pbbid||t)||void 0,y=window.PWT.floorData&&window.PWT.floorData[E]&&window.PWT.floorData[E].floorRequestData?0==window.PWT.floorData[E].floorRequestData.skipped?0:1:void 0;return g+="pubid="+f,g+="&purl="+window.encodeURIComponent(c.metaInfo.pageURL),g+="&tst="+c.getCurrentTimestamp(),g+="&iid="+window.encodeURIComponent(window.PWT.bidMap[e].getImpressionID()),g+="&bidid="+(h?window.encodeURIComponent(h):window.encodeURIComponent(d)),g+="&origbidid="+window.encodeURIComponent(d),g+="&pid="+window.encodeURIComponent(n.getProfileID()),g+="&pdvid="+window.encodeURIComponent(n.getProfileDisplayVersionID()),g+="&slot="+window.encodeURIComponent(e),g+="&au="+window.encodeURIComponent(l),g+="&bc="+window.encodeURIComponent(u),g+="&pn="+window.encodeURIComponent(p),g+="&en="+window.encodeURIComponent(i),g+="&eg="+window.encodeURIComponent(o),g+="&kgpv="+window.encodeURIComponent(a),g+="&piid="+window.encodeURIComponent(m),g+="&rf="+window.encodeURIComponent(w),g+="&plt="+window.encodeURIComponent(c.getDevicePlatform()),g+=c.isFunction(t.getWidth)&&c.isFunction(t.getHeight)?"&psz="+window.encodeURIComponent(t.getWidth()+"x"+t.getHeight()):c.isFunction(t.getSize)?"&psz="+window.encodeURIComponent(t.getSize()):"&psz="+window.encodeURIComponent(t.width+"x"+t.height),g+="&tgid="+window.encodeURIComponent(c.getTgid()),I&&(g+="&adv="+window.encodeURIComponent(I)),g+="&orig="+window.encodeURIComponent(c.metaInfo&&c.metaInfo.pageDomain||""),g+="&ss="+window.encodeURIComponent(c.isFunction(t.getServerSideStatus)?t.getServerSideStatus()?1:0:n.isServerSideAdapter(u)?1:0),null!=y&&(g+="&fskp="+window.encodeURIComponent(y)),g+="&af="+window.encodeURIComponent(c.isFunction(t.getAdFormat)?t.getAdFormat():t.mediaType||void 0),r.COMMON.PROTOCOL+g}},t.UpdateVastWithTracker=function(e,t){try{var i=(new DOMParser).parseFromString(t,"application/xml"),r=i.createElement("Impression");return r.innerHTML=n.isPrebidPubMaticAnalyticsEnabled()?"":"<![CDATA["+c.generateMonetizationPixel(e.adUnitCode,e)+"]]>",1==i.getElementsByTagName("Wrapper").length?i.getElementsByTagName("Wrapper")[0].appendChild(r):1==i.getElementsByTagName("InLine").length&&i.getElementsByTagName("InLine")[0].appendChild(r),(new XMLSerializer).serializeToString(i)}catch(e){return t}},t.getDomainFromURL=function(e){var t=window.document.createElement("a");return t.href=e,t.hostname},t.replaceAuctionPrice=function(e,t){return e?e.replace(/\$\{AUCTION_PRICE\}/g,t):void 0},t.getCustomParamsForDFPVideo=function(e,t){const i=t&&t.adserverTargeting||{};var n={};for(var r in i)c.isOwnProperty(i,r)&&(n[r]=c.isArray(i[r])?i[r].join():i[r]);return e=Object.assign({},n,e)},t.getDevicePlatform=function(){var e=3;try{var t=navigator.userAgent;if(t&&c.isString(t)&&""!=t.trim()){t=t.toLowerCase().trim();var i=new RegExp("(mobi|tablet|ios).*");e=t.match(i)?2:1}}catch(e){c.logError("Unable to get device platform",e)}return e},t.getOWConfig=function(){return{timeout:n.getTimeout(),openwrap_version:n[r.COMMON.OWVERSION],prebid_version:n[r.COMMON.PBVERSION],profileId:n.getProfileID(),profileVersionId:n.getProfileDisplayVersionID()}},t.updateAdUnits=function(e){c.isArray(e)?e.forEach((function(e){e.bids.forEach((function(e){c.updateUserIds(e)}))})):c.isEmptyObject(e)||e.bids.forEach((function(e){c.updateUserIds(e)}))},t.updateUserIds=function(e){if(c.isUndefined(e.userId)?e.userId=c.getUserIds():e.userId&&(e.userId=Object.assign(e.userId,c.getUserIds())),c.isUndefined(e.userIdAsEids))e.userIdAsEids=c.getUserIdsAsEids();else if(c.isArray(e.userIdAsEids)){var t=new Set,i=c.getUserIdsAsEids().concat(e.userIdAsEids);c.isArray(i)&&i.length>0&&(i=i.filter((function(e){if(e.source){if(t.has(e.source))return!1;t.add(e.source)}return!0}))),e.userIdAsEids=i}},t.getLiverampParams=function(e){e.params.cssSelectors&&e.params.cssSelectors.length>0&&(e.params.cssSelectors=e.params.cssSelectors.split(","));var t=window[u].getUserIdentities()||{},i=n.isSSOEnabled()||!1,r=e.params.detectionMechanism,o="true"===e.params.enableCustomId,a={placementID:e.params.pid,storageType:e.params.storageType,logging:e.params.logging};switch(o&&(a.accountID=e.params.accountID,a.customerIDRegex=e.params.customerIDRegex,a.detectionSubject="customerIdentifier"),r){case void 0:case"detect":a.detectionType=e.params.detectionType,a.urlParameter=e.params.urlParameter,a.cssSelectors=e.params.cssSelectors,a.detectDynamicNodes=e.params.detectDynamicNodes,a.detectionEventType=e.params.detectionEventType,e.params.triggerElements&&e.params.triggerElements.length>0&&(e.params.triggerElements=e.params.triggerElements.split(","),a.triggerElements=e.params.triggerElements);break;case"direct":if(a.emailHashes=void 0,window.PWT&&window.PWT.OVERRIDES_SCRIPT_BASED_MODULES&&window.PWT.OVERRIDES_SCRIPT_BASED_MODULES.includes("identityLink")||void 0===window.PWT.OVERRIDES_SCRIPT_BASED_MODULES){var s=i&&t.emailHash?t.emailHash:t.pubProvidedEmailHash?t.pubProvidedEmailHash:void 0;a.emailHashes=s&&[s.MD5,s.SHA1,s.SHA256]||void 0}o&&c.isFunction(window[u].getUserIdentities)&&void 0!==window[u].getUserIdentities()&&(a.customerID=window[u].getUserIdentities().customerID||void 0)}return a},t.getEmailHashes=function(){var e=window[u].getUserIdentities()||{},t=n.isSSOEnabled()&&e.emailHash?e.emailHash:e.pubProvidedEmailHash?e.pubProvidedEmailHash:void 0,i=[];return c.forEachOnObject(t,(function(e,t){void 0!==t&&i.push(t)})),i.length>0?i:void 0},t.initLiveRampLaunchPad=function(e){var t,i="https://launchpad-wrapper.privacymanager.io/"+e.custom.configurationId+"/launchpad-liveramp.js";(t=document.createElement("script")).onload=function(){__launchpad("addEventListener",1,(function(){if((!ats.outputCurrentConfiguration().DETECTION_MODULE_INFO||ats.outputCurrentConfiguration().ENVELOPE_MODULE_INFO.ENVELOPE_MODULE_CONFIG.startWithExternalId)&&(window.PWT&&window.PWT.OVERRIDES_SCRIPT_BASED_MODULES&&window.PWT.OVERRIDES_SCRIPT_BASED_MODULES.includes("identityLink")||void 0===window.PWT.OVERRIDES_SCRIPT_BASED_MODULES)){var e=c.getEmailHashes();e&&window.ats.setAdditionalData({type:"emailHashes",id:e})}}),["atsWrapperLoaded"])},t.src=i,document.body.appendChild(t)},t.getPublinkLauncherParams=function(e){e.params.cssSelectors&&e.params.cssSelectors.length>0&&(e.params.cssSelectors=e.params.cssSelectors.split(","));var t=window[u].getUserIdentities()||{},i=n.isSSOEnabled()||!1,r=e.params.detectionMechanism,o={apiKey:e.params.api_key,siteId:e.params.site_id};switch(r){case void 0:case"detect":o.urlParameter=e.params.urlParameter,o.cssSelectors=e.params.cssSelectors,o.detectionSubject="email";break;case"direct":if(window.PWT&&window.PWT.OVERRIDES_SCRIPT_BASED_MODULES&&window.PWT.OVERRIDES_SCRIPT_BASED_MODULES.includes("publinkId")||void 0===window.PWT.OVERRIDES_SCRIPT_BASED_MODULES){var a=i&&t.emailHash?t.emailHash:t.pubProvidedEmailHash?t.pubProvidedEmailHash:void 0;o.emailHashes=a&&[a.MD5,a.SHA256]||void 0}}return o},t.initLiveRampAts=function(e){function t(){var t=document.createElement("script"),i=c.getLiverampParams(e);t.onload=function(){window.ats&&window.ats.start(i)},t.src="https://ats.rlcdn.com/ats.js",document.body.appendChild(t)}"complete"==document.readyState?t():window.addEventListener("load",(function(){setTimeout(t,1e3)}))},t.initZeoTapJs=function(e){function t(){var t=document,i=window,r=window[u].getUserIdentities()||{},o=n.isSSOEnabled()||!1,a={};(window.PWT&&window.PWT.OVERRIDES_SCRIPT_BASED_MODULES&&window.PWT.OVERRIDES_SCRIPT_BASED_MODULES.includes("zeotapIdPlus")||void 0===window.PWT.OVERRIDES_SCRIPT_BASED_MODULES)&&(a={email:o&&r.emailHash?r.emailHash.SHA256:r.pubProvidedEmailHash?r.pubProvidedEmailHash.SHA256:void 0});var s=t.createElement("script");s.type="text/javascript",s.crossorigin="anonymous",s.async=!0,s.src="https://content.zeotap.com/sdk/idp.min.js",s.onload=function(){},t=t.getElementsByTagName("script")[0];var d={partnerId:e.partnerId,allowIDP:!0,useConsent:n.getCCPA()||n.getGdpr(),checkForCMP:n.getCCPA()||n.getGdpr()};t.parentNode.insertBefore(s,t),(function(e,t){for(var i=0;i<t.length;i++)!(function(t){e[t]=function(){e._q.push([t].concat(Array.prototype.slice.call(arguments,0)))}})(t[i])})(t=i.zeotap||{_q:[],_qcmp:[]},["callMethod"]),i.zeotap=t,i.zeotap.callMethod("init",d),i.zeotap.callMethod("setUserIdentities",a,!0)}"complete"==document.readyState?t():window.addEventListener("load",(function(){setTimeout(t,1e3)}))},t.initLauncherJs=function(e){function t(){var t=document.createElement("script"),i=c.getPublinkLauncherParams(e);t.onload=function(){window.conversant.getLauncherObject=function(){return i},window.conversant&&window.conversant.launch("publink","start",i)},t.src="https://secure.cdn.fastclick.net/js/cnvr-launcher/latest/launcher-stub.min.js",document.body.appendChild(t)}window.cnvr_launcher_options={lid:e.params.launcher_id},"complete"==document.readyState?t():window.addEventListener("load",(function(){setTimeout(t,1e3)}))},t.getRandomNumberBelow100=function(){return Math.floor(100*Math.random())},t.getUpdatedKGPVForVideo=function(e,t){if(t==r.FORMAT_VALUES.VIDEO){var i=["","0x0"],n=e.split("@");if(n.length>1){if(2==n.length){if(n[1].indexOf(":")>-1){var o=n[1].split(":");i[1]=i[1]+":"+o[1]}i[0]=n[0]}e=i.join("@")}}return e},t.applyDataTypeChangesIfApplicable=function(e){var t;if(e.name in r.SPECIAL_CASE_ID_PARTNERS)for(partnerName in r.SPECIAL_CASE_ID_PARTNERS)if(partnerName===e.name)for(key in r.SPECIAL_CASE_ID_PARTNERS[partnerName]){var i=e[key];switch(r.SPECIAL_CASE_ID_PARTNERS[partnerName][key]){case"number":i&&"number"!=typeof i&&(t=parseInt(i),isNaN(t)?c.logError(partnerName+": Invalid parameter value '"+i+"' for parameter "+key):e[key]=t);break;case"array":if(i)if("string"==typeof i){var n=i.split(",").map((function(e){return e.trim()}));n.length>0&&(e[key]=n)}else"number"==typeof i&&(e[key]=[i]);break;case"customObject":i&&"params.requestedAttributesOverrides"===key&&(e[key]={uid2:"true"===i||"1"===i});break;default:return}}},t.applyCustomParamValuesfApplicable=function(e){if(e.name in r.ID_PARTNERS_CUSTOM_VALUES)for(var t=r.ID_PARTNERS_CUSTOM_VALUES[e.name],i=0;i<t.length;i++)e[t[i].key]||(e[t[i].key]=t[i].value)},t.getBrowserDetails=function(){return s.getBrowser().toString()},t.getPltForFloor=function(){return c.getDevicePlatform().toString()}}),(function(e,t,i){var n,r=i(3),o=i(0),a=i(1);(n=this)[o.COMMON.OWVERSION]=r[o.CONFIG.COMMON][o.COMMON.OWVERSION],n[o.COMMON.PBVERSION]=r[o.CONFIG.COMMON][o.COMMON.PBVERSION],t.getPublisherId=function(){return a.trim(r.pwt.pubid)||"0"},t.getMataDataPattern=function(){return a.isString(r[o.CONFIG.COMMON][o.CONFIG.META_DATA_PATTERN])?r[o.CONFIG.COMMON][o.CONFIG.META_DATA_PATTERN]:null},t.getSendAllBidsStatus=function(){return window.parseInt(r[o.CONFIG.COMMON][o.CONFIG.SEND_ALL_BIDS])||0},t.getTimeout=function(){return window.parseInt(r.pwt.t)||1e3},t.getDisableAjaxTimeout=function(){var e=r.pwt;return!a.isOwnProperty(e,o.CONFIG.DISABLE_AJAX_TIMEOUT)||1==r.pwt.disableAjaxTimeout},t.getAdapterRevShare=function(e){var t=r.adapters;return a.isOwnProperty(t[e],o.CONFIG.REV_SHARE)?1-window.parseFloat(t[e][o.CONFIG.REV_SHARE])/100:1},t.getAdapterThrottle=function(e){var t=r.adapters;return a.isOwnProperty(t[e],o.CONFIG.THROTTLE)?100-window.parseFloat(t[e][o.CONFIG.THROTTLE]):0},t.isServerSideAdapter=function(e){var t=r.adapters;return!(!t[e]||!a.isOwnProperty(t[e],o.CONFIG.SERVER_SIDE_ENABLED))&&1===window.parseInt(t[e][o.CONFIG.SERVER_SIDE_ENABLED])},t.getAdapterMaskBidsStatus=function(e){var t=r.adapters,i={audienceNetwork:1};return a.isOwnProperty(i,e)?i[e]:a.isOwnProperty(t[e],o.CONFIG.MASK_BIDS)&&window.parseInt(t[e][o.CONFIG.MASK_BIDS])||0},t.getBidPassThroughStatus=function(e){var t=r.adapters;return a.isOwnProperty(t[e],o.CONFIG.BID_PASS_THROUGH)?window.parseInt(t[e][o.CONFIG.BID_PASS_THROUGH]):0},t.getProfileID=function(){return a.trim(r.pwt[o.CONFIG.PROFILE_ID])||"0"},t.getProfileDisplayVersionID=function(){return a.trim(r.pwt[o.CONFIG.PROFILE_VERSION_ID])||"0"},t.getAnalyticsPixelURL=function(){return r.pwt[o.CONFIG.LOGGER_URL]||!1},t.getMonetizationPixelURL=function(){return r.pwt[o.CONFIG.TRACKER_URL]||!1},t.forEachAdapter=function(e){a.forEachOnObject(r.adapters,e)},t.getGdpr=function(){return"1"===(r[o.CONFIG.COMMON][o.CONFIG.GDPR_CONSENT]||o.CONFIG.DEFAULT_GDPR_CONSENT)},t.getCmpApi=function(){return r[o.CONFIG.COMMON][o.CONFIG.GDPR_CMPAPI]||o.CONFIG.DEFAULT_GDPR_CMPAPI},t.getGdprTimeout=function(){var e=r[o.CONFIG.COMMON][o.CONFIG.GDPR_TIMEOUT];return e?window.parseInt(e):o.CONFIG.DEFAULT_GDPR_TIMEOUT},t.getAwc=function(){return"1"===(r[o.CONFIG.COMMON][o.CONFIG.GDPR_AWC]||o.CONFIG.DEFAULT_GDPR_AWC)},t.addPrebidAdapter=function(){var e=o.COMMON.PARENT_ADAPTER_PREBID;if(!a.isOwnProperty(r.adapters,e)){var t={};t[o.CONFIG.REV_SHARE]="0.0",t[o.CONFIG.THROTTLE]="100",t[o.CONFIG.KEY_GENERATION_PATTERN]="_DIV_",t[o.CONFIG.KEY_LOOKUP_MAP]={},r.adapters[e]=t}},t.initConfig=function(){n.updateABTestConfig(),n.addPrebidAdapter();var e={};a.forEachOnObject(o.CONFIG,(function(t,i){e[i]=""})),a.forEachOnObject(r.adapters,(function(t,i){var n={};a.forEachOnObject(i,(function(t,i){a.isOwnProperty(e,t)||(n[t]=i)})),a.forEachOnObject(i[o.CONFIG.KEY_LOOKUP_MAP],(function(e,t){a.forEachOnObject(n,(function(e,i){t[e]=i}))})),"pubmatic"!=t&&"pubmatic2"!=t&&a.forEachOnObject(i[o.CONFIG.REGEX_KEY_LOOKUP_MAP],(function(e,t){a.forEachOnObject(n,(function(e,i){a.isOwnProperty(t,"rx_config")&&(t.rx_config[e]=i)}))}))}))},t.getNativeConfiguration=function(){return r[o.COMMON.NATIVE_MEDIA_TYPE_CONFIG]},t.getAdServerCurrency=function(){return r[o.CONFIG.COMMON][o.COMMON.AD_SERVER_CURRENCY]},t.isSingleImpressionSettingEnabled=function(){return parseInt(r[o.CONFIG.COMMON][o.COMMON.SINGLE_IMPRESSION]||o.CONFIG.DEFAULT_SINGLE_IMPRESSION)},t.isUserIdModuleEnabled=function(){return parseInt(r[o.CONFIG.COMMON][o.COMMON.ENABLE_USER_ID]||o.CONFIG.DEFAULT_USER_ID_MODULE)},t.getIdentityPartners=function(){return r[o.COMMON.IDENTITY_PARTNERS]},t.isIdentityOnly=function(){return parseInt(r[o.CONFIG.COMMON][o.COMMON.IDENTITY_ONLY]||o.CONFIG.DEFAULT_IDENTITY_ONLY)},t.getIdentityConsumers=function(){return(r[o.CONFIG.COMMON][o.COMMON.IDENTITY_CONSUMERS]||"").toLowerCase()},t.getSlotConfiguration=function(){return r[o.COMMON.SLOT_CONFIG]},t.getAdServer=function(){return r[o.COMMON.ADSERVER]},t.getCCPA=function(){return"1"===(r[o.CONFIG.COMMON][o.CONFIG.CCPA_CONSENT]||o.CONFIG.DEFAULT_CCPA_CONSENT)},t.getCCPACmpApi=function(){return r[o.CONFIG.COMMON][o.CONFIG.CCPA_CMPAPI]||o.CONFIG.DEFAULT_CCPA_CMPAPI},t.getCCPATimeout=function(){var e=r[o.CONFIG.COMMON][o.CONFIG.CCPA_TIMEOUT];return e?window.parseInt(e):o.CONFIG.DEFAULT_CCPA_TIMEOUT},t.getSchainObject=function(){return r[o.CONFIG.COMMON][o.COMMON.SCHAINOBJECT]||{}},t.isSchainEnabled=function(){return window.parseInt(r[o.CONFIG.COMMON][o.COMMON.SCHAIN])||0},t.isFloorPriceModuleEnabled=function(){return 1===window.parseInt(r[o.CONFIG.COMMON][o.CONFIG.FLOOR_PRICE_MODULE_ENABLED])},t.getFloorSource=function(){return r[o.CONFIG.COMMON][o.CONFIG.FLOOR_SOURCE]},t.getFloorJsonUrl=function(){return r[o.CONFIG.COMMON][o.CONFIG.FLOOR_JSON_URL]},t.getFloorAuctionDelay=function(){var e=r[o.CONFIG.COMMON][o.CONFIG.FLOOR_AUCTION_DELAY];return e?window.parseInt(e):o.CONFIG.DEFAULT_FLOOR_AUCTION_DELAY},t.getFloorType=function(){return!(!r[o.CONFIG.COMMON][o.CONFIG.FLOOR_ENFORCE_JS]||r[o.CONFIG.COMMON][o.CONFIG.FLOOR_ENFORCE_JS].toLowerCase()!==o.COMMON.HARD_FLOOR)},t.isPrebidPubMaticAnalyticsEnabled=function(){return 1===parseInt(r[o.CONFIG.COMMON][o.CONFIG.ENABLE_PB_PM_ANALYTICS])},t.isUsePrebidKeysEnabled=function(){return 1===parseInt(r[o.CONFIG.COMMON][o.CONFIG.USE_PREBID_KEYS])},t.PBJS_NAMESPACE=r[o.CONFIG.COMMON][o.COMMON.PBJS_NAMESPACE]||"pbjs",t.isReduceCodeSizeFeatureEnabled=function(){return 1===parseInt(r[o.CONFIG.COMMON][o.COMMON.REDUCE_CODE_SIZE])},t.getPriceGranularity=function(){return r[o.CONFIG.COMMON][o.COMMON.PRICE_GRANULARITY]||null},t.getGranularityMultiplier=function(){return parseFloat(r[o.CONFIG.COMMON][o.COMMON.GRANULARITY_MULTIPLIER])||1},t.isAbTestEnabled=function(){return 1===parseInt(r[o.CONFIG.COMMON][o.CONFIG.AB_TEST_ENABLED])},t.getTestPWTConfig=function(){return r[o.COMMON.TEST_PWT]||{}},t.getTestGroupDetails=function(){return r[o.COMMON.TEST_GROUP_DETAILS]||{}},t.getTestPartnerConfig=function(){return r[o.COMMON.TEST_PARTNER]||{}},t.getTestIdentityPartners=function(){return r[o.COMMON.TEST_IDENTITY_PARTNER]||{}},t.updateABTestConfig=function(){if(n.isAbTestEnabled()){var e=a.getRandomNumberBelow100(),t=n.getTestGroupDetails();t&&t.testGroupSize&&e<t.testGroupSize&&(n.updatePWTConfig(),r.adapters=n.updatePartnerConfig(n.getTestPartnerConfig(),r.adapters),n.getTestIdentityPartners()&&n.getIdentityPartners()&&(Object.keys(n.getTestIdentityPartners()).length>0&&0==Object.keys(n.getIdentityPartners()).length?(a.log(o.MESSAGES.M31,JSON.stringify(n.getTestIdentityPartners())),r.identityPartners=n.getTestIdentityPartners()):0==Object.keys(n.getTestIdentityPartners()).length&&Object.keys(n.getIdentityPartners()).length>0?(a.log(o.MESSAGES.M31,JSON.stringify({})),r.identityPartners={}):r.identityPartners=n.updatePartnerConfig(n.getTestIdentityPartners(),n.getIdentityPartners())),window.PWT.testGroupId=1)}},t.updatePWTConfig=function(){var e=n.getTestPWTConfig();if(e&&Object.keys(e).length>0)for(var t in a.log(o.MESSAGES.M30,JSON.stringify(e)),e)r[o.CONFIG.COMMON][t]&&(r[o.CONFIG.COMMON][t]=e[t])},t.updatePartnerConfig=function(e,t){if(e&&t&&Object.keys(e).length>0&&Object.keys(t).length>0){for(var i in a.log(o.MESSAGES.M31,JSON.stringify(e)),e)a.isOwnProperty(e,i)&&a.isObject(e[i])&&(0==Object.keys(e[i]).length&&t[i]&&Object.keys(t[i]).length>0?e[i]=t[i]:Object.keys(e[i]).length>0&&t[i]&&Object.keys(t[i]).length>0&&(e[i]=n.getMergedConfig(e[i],t[i])));return window.PWT.testGroupId=1,e}return t},t.getTestGroupDetails=function(){return r[o.COMMON.TEST_GROUP_DETAILS]||{}},t.getMergedConfig=function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=a.isObject(t[i])||a.isArray(t[i])?JSON.parse(JSON.stringify(t[i])):t[i]);return e},t.forEachBidderAlias=function(e){a.forEachOnObject(r.alias,e)},t.getAdapterNameForAlias=function(e){return r.alias&&r.alias[e]?r.alias[e]:e},t.isSSOEnabled=function(){return 1===parseInt(r[o.CONFIG.COMMON][o.CONFIG.SSO_ENABLED])},t.getServerEnabledAdaptars=function(){return Object.keys(r.adapters).filter((function(e){return"1"==r.adapters[e].serverSideEnabled?e:void 0}))},t.getTimeoutForPBSRequest=function(){var e=parseInt(r.pwt.ssTimeout),t=o.TIMEOUT_CONFIG.MaxTimeout,i=o.TIMEOUT_CONFIG.MinTimeout;return e>=i&&t>=e?e:e>=i?t:i},t.getPubMaticAndAlias=function(e){return e.filter((function(e){return r.alias&&r.alias[e]&&r.alias[e].includes("pubmatic")||e.includes("pubmatic")?e:void 0}))},t.usePBSAdapter=function(){return"1"==r.pwt.usePBSAdapter},t.createMacros=function(){return{"[PLATFORM]":a.getDevicePlatform().toString(),"[PROFILE_ID]":n.getProfileID().toString(),"[PROFILE_VERSION]":n.getProfileDisplayVersionID().toString()}},t.getMarketplaceBidders=function(){return!!r.pwt.marketplaceBidders&&r.pwt.marketplaceBidders.split(",")}}),(function(e,t){t.pwt={t:"3000",pid:"46",gcv:"11",pdvid:"4",pubid:"9999",dataURL:"t.test-domain.com/logger?",winURL:"t.test-domain.com/tracker?",adserver:"CUSTOM",gdpr:"0",cmpApi:"iab",gdprTimeout:"10000",awc:"1",disableAjaxTimeout:!0,adServerCurrency:"INR",singleImpression:"1",identityEnabled:"0",identityConsumers:"EB,TAM,Prebid",identityOnly:"0",ccpa:"0",ccpaCmpApi:"iab",ccpaTimeout:"10000",pbv:"v4.33.0",owv:"v21.4.0",abTestEnabled:"0",pubAnalyticsAdapter:"0",reduceCodeSize:1},t.testConfigDetails={testGroupSize:99},t.test_pwt={t:5e3},t.adapters={pubmatic:{rev_share:"0.0",throttle:"100",publisherId:"156209",kgp:"_W_x_H_@_W_x_H_:_AUI_"},audienceNetwork:{rev_share:"0.0",throttle:"100",kgp:"_DIV_",klm:{Div_1:{placementId:"8801674"},"Div-2":{placementId:"8801685"}}},sekindoUM:{rev_share:"0.0",throttle:"100",kgp:"_DIV_",klm:{Div_1:{spaceId:14071},"Div-2":{spaceId:14071}}},appnexus:{rev_share:"0.0",throttle:"100",kgp:"_DIV_",klm:{Div_1:{placementId:"8801674","video.mimes":"","video.minduration":""},"Div-2":{placementId:"8801685"}}},pulsepoint:{cp:"521732",rev_share:"0.0",throttle:"100",kgp:"_DIV_",klm:{Div_1:{ct:"76835"},"Div-2":{ct:"147007"}}},rubicon:{accountId:"10998",rev_share:"0.0",timeout:"1000",throttle:"100",pt:0,serverSideEnabled:"0",amp:0,video:0,"in-app":0,kgp_rx:"_AU_@_DIV_@_W_x_H_",klm_rx:[{rx:{DIV:".*",AU:"^/43743431/DMDemo",SIZE:"728x90"},rx_config:{zoneId:"869224",siteId:"178620",floor:"0"}}]}},t.identityPartners={pubCommonId:{name:"pubCommonId","storage.type":"cookie","storage.name":"_myPubCommonId","storage.expires":"1825"},identityLink:{name:"identityLink","params.pid":"23","storage.type":"cookie","params.loadAts":"true","params.placementID":"23","params.storageType":"localstorage","params.detectionType":"scrapeAndUrl","params.urlParameter":"eparam","params.cssSelectors":["input[type=text]","input[type=email]"],"params.logging":"info","storage.name":"somenamevalue","storage.expires":"60"},criteo:{name:"criteo"},unifiedId:{name:"unifiedId","params.url":"https://match.adsrvr.org/track/rid?ttd_pid=PubMatic&fmt=json","storage.type":"cookie","storage.name":"_myUnifiedId","storage.expires":"1825"}},t.slotConfig={configPattern:"_DIV_",config:{Div1:{banner:{enabled:!0},"native":{enabled:!0,config:{image:{required:!0,sizes:[150,50]},title:{required:!0,len:80},sponsoredBy:{required:!0},body:{required:!0}}},video:{enabled:!0,config:{context:"instream",connectiontype:[1,2,6],minduration:10,maxduration:50,battr:[6,7],skip:1,skipmin:10,skipafter:15},partnerConfig:{pubmatic:{outstreamAU:"pubmatic-test"}}}},AU2:{banner:{}}}}}),(function(e,t,i){function n(e,t,i){var n="",o=0,a=0,s=d.METADATA_MACROS;c.forEachOnObject(t.adapters,(function(t,i){""!=i.getLastBidID()&&("pubmaticServer"!==t&&a++,c.forEachOnObject(i.bids,(function(t,i){1!=i.getDefaultBidStatus()&&1!=i.getPostTimeoutStatus()&&0!=i.getGrossEcpm()&&(o++,n+=r(e,i))})))})),0==n.length&&(n=e),n=(n=n.replace(new RegExp(s.BID_COUNT,"g"),o)).replace(new RegExp(s.PARTNER_COUNT,"g"),a),i[d.WRAPPER_TARGETING_KEYS.META_DATA]=encodeURIComponent(n)}function r(e,t){var i=d.METADATA_MACROS;return e.replace(new RegExp(i.PARTNER,"g"),t.getAdapterID()).replace(new RegExp(i.WIDTH,"g"),t.getWidth()).replace(new RegExp(i.HEIGHT,"g"),t.getHeight()).replace(new RegExp(i.GROSS_ECPM,"g"),t.getGrossEcpm()).replace(new RegExp(i.NET_ECPM,"g"),t.getNetEcpm())}var o,a,s=i(2),d=i(0),c=i(1),u=i(8),p=this;const l="PROFILE_AUCTION_INFO_",g={img:1,js:2,1:"img",2:"js"};t.createBidEntry=function(e){c.isOwnProperty(window.PWT.bidMap,e)||(window.PWT.bidMap[e]=u.createBMEntry(e))},t.setSizes=function(e,t){p.createBidEntry(e),window.PWT.bidMap[e].setSizes(t)},t.setCallInitTime=function(e,t){p.createBidEntry(e),window.PWT.bidMap[e].setAdapterEntry(t)},t.setAllPossibleBidsReceived=function(e){window.PWT.bidMap[e].setAllPossibleBidsReceived()},t.setBidFromBidder=function(e,t){var i=t.getAdapterID(),n=(t.getBidID(),window.PWT.bidMap[e]);if(c.isOwnProperty(window.PWT.bidMap,e)){var r=n.getCreationTime()+s.getTimeout()<t.getReceivedTime(),o=t.getReceivedTime()-n.getCreationTime();p.createBidEntry(e),c.log("BdManagerSetBid: divID: "+e+", bidderID: "+i+", ecpm: "+t.getGrossEcpm()+", size: "+t.getWidth()+"x"+t.getHeight()+", postTimeout: "+r+", defaultBid: "+t.getDefaultBidStatus()),!0===r&&t.setPostTimeoutStatus();var a=n.getLastBidIDForAdapter(i);if(""!=a){var u=n.getBid(i,a),l=1===u.getDefaultBidStatus(),g=-1===u.getDefaultBidStatus();l||!r||g?(l&&c.log(d.MESSAGES.M23+i),l||u.getNetEcpm()<t.getNetEcpm()||g?(c.log(d.MESSAGES.M12+u.getNetEcpm()+d.MESSAGES.M13+t.getNetEcpm()+d.MESSAGES.M14+i),p.storeBidInBidMap(e,i,t,o)):c.log(d.MESSAGES.M12+u.getNetEcpm()+d.MESSAGES.M15+t.getNetEcpm()+d.MESSAGES.M16+i)):c.log(d.MESSAGES.M17)}else c.log(d.MESSAGES.M18+i),p.storeBidInBidMap(e,i,t,o);r&&setTimeout(window[d.COMMON.PREBID_NAMESPACE].triggerUserSyncs,10)}else c.logWarning("BidManager is not expecting bid for "+e+", from "+i)},t.storeBidInBidMap=function(e,t,i,n){window.PWT.bidMap[e].setNewBid(t,i),window.PWT.bidIdMap[i.getBidID()]={s:e,a:t},0===i.getDefaultBidStatus()&&"pubmaticServer"!==i.adapterID&&c.vLogInfo(e,{type:"bid",bidder:t+(0!==s.getBidPassThroughStatus(t)?"(Passthrough)":""),bidDetails:i,latency:n,s2s:s.isServerSideAdapter(t),adServerCurrency:c.getCurrencyToDisplay()})},t.resetBid=function(e,t){c.vLogInfo(e,{type:"hr"}),delete window.PWT.bidMap[e],p.createBidEntry(e),window.PWT.bidMap[e].setImpressionID(t)},t.createMetaDataKey=n,t.replaceMetaDataMacros=r,t.auctionBids=function(e){var t=null,i={};return c.forEachOnObject(e.adapters,(function(e,n){var r=p.auctionBidsCallBack(e,n,i,t);t=r.winningBid,i=r.keyValuePairs})),null!==s.getMataDataPattern()&&n(s.getMataDataPattern(),e,i),{wb:t,kvp:i}},t.updateNativeTargtingKeys=function(e){for(var t in e)t.indexOf("native")>=0&&3===t.split("_").length&&delete e[t]},t.auctionBidsCallBack=function(e,t,i,n){var r=this;return""!=t.getLastBidID()?(c.forEachOnObject(t.bids,(function(t,o){if(!0===o.getPostTimeoutStatus())return{winningBid:n,keyValuePairs:i};if(1!==o.getDefaultBidStatus()&&1==s.getSendAllBidsStatus()&&o.setSendAllBidsKeys(),null!==n)if(n.getNetEcpm()<o.getNetEcpm())r.updateNativeTargtingKeys(i);else{var a=o.getKeyValuePairs();r.updateNativeTargtingKeys(a),o.keyValuePairs=a}return c.copyKeyValueObject(i,o.getKeyValuePairs()),0!==s.getBidPassThroughStatus(e)?{winningBid:n,keyValuePairs:i}:((null==n||n.getNetEcpm()<o.getNetEcpm())&&(n=o),void 0)})),{winningBid:n,keyValuePairs:i}):{winningBid:n,keyValuePairs:i}},t.getBid=function(e){var t=null,i=null;if(c.isOwnProperty(window.PWT.bidMap,e)){var n=p.auctionBids(window.PWT.bidMap[e]);t=n.wb,i=n.kvp,window.PWT.bidMap[e].setAnalyticEnabled(),t&&t.getNetEcpm()>0?(t.setStatus(1),t.setWinningBidStatus(),c.vLogInfo(e,{type:"win-bid",bidDetails:t,adServerCurrency:c.getCurrencyToDisplay()})):c.vLogInfo(e,{type:"win-bid-fail"})}return{wb:t,kvp:i}},t.getBidById=function(e){if(!c.isOwnProperty(window.PWT.bidIdMap,e))return c.log(d.MESSAGES.M25+e),null;var t=window.PWT.bidIdMap[e].s,i=window.PWT.bidIdMap[e].a;if(c.isOwnProperty(window.PWT.bidMap,t)){c.log("BidID: "+e+", DivID: "+t+d.MESSAGES.M19+i);var n=window.PWT.bidMap[t].getBid(i,e);return null==n?null:{bid:n,slotid:t}}return c.log(d.MESSAGES.M25+e),null},t.displayCreative=function(e,t){o=localStorage.getItem(l+window.location.hostname);var i=p.getBidById(t);if(i){var n=i.bid,r=i.slotid;c.displayCreative(e,n),c.vLogInfo(r,{type:"disp",adapter:n.getAdapterID()}),p.executeMonetizationPixel(r,n);var a=JSON.parse(localStorage.getItem(l+window.location.hostname))||{};null!==a&&a.slotLevelFrquencyDepth&&(a.slotLevelFrquencyDepth[a.codeAdUnitMap[r]].impressionServed=a.slotLevelFrquencyDepth[a.codeAdUnitMap[r]].impressionServed+1,a.impressionServed=a.impressionServed+1),localStorage.setItem(l+window.location.hostname,JSON.stringify(a))}},t.executeAnalyticsPixel=function(){o=localStorage.getItem(l+window.location.hostname),a=null!==o?JSON.parse(o):{};var e={s:[]},t=s.getPublisherId(),i=s.getAnalyticsPixelURL(),n={};i&&(i=d.COMMON.PROTOCOL+i+"pubid="+t,e[d.CONFIG.PUBLISHER_ID]=s.getPublisherId(),e[d.LOGGER_PIXEL_PARAMS.TIMEOUT]=""+s.getTimeout(),e[d.LOGGER_PIXEL_PARAMS.PAGE_URL]=window.decodeURIComponent(c.metaInfo.pageURL),e[d.LOGGER_PIXEL_PARAMS.PAGE_DOMAIN]=c.metaInfo.pageDomain,e[d.LOGGER_PIXEL_PARAMS.TIMESTAMP]=c.getCurrentTimestamp(),e[d.CONFIG.PROFILE_ID]=s.getProfileID(),e[d.CONFIG.PROFILE_VERSION_ID]=s.getProfileDisplayVersionID(),e.ih=s.isUserIdModuleEnabled()?1:0,e.bm=p.getBrowser(),e.tgid=c.getTgid(),Object.keys(a).length&&(e.tpv=a.pageView,e.trc=a.slotCnt,e.tbs=a.bidServed,e.tis=a.impressionServed,e.lip=a.lip),c.forEachOnObject(window.PWT.bidMap,(function(e,t){p.analyticalPixelCallback(e,t,n)})),c.forEachOnObject(n,(function(t,n){if(n.length>0){if(e.s=n,e[d.COMMON.IMPRESSION_ID]=window.encodeURIComponent(t),s.isFloorPriceModuleEnabled()){var r=window.PWT.floorData[e[d.COMMON.IMPRESSION_ID]];e.fmv=r.floorRequestData&&r.floorRequestData.modelVersion||void 0,e.ft=r.floorResponseData?0==r.floorResponseData.enforcements.enforceJS?0:1:void 0}e.psl=n.psl,e.dvc={plt:c.getDevicePlatform()},c.ajaxRequest(i,(function(){}),"json="+window.encodeURIComponent(JSON.stringify(e)),{contentType:"application/x-www-form-urlencoded",withCredentials:!0})}})))},t.executeMonetizationPixel=function(e,t){var i=c.generateMonetizationPixel(e,t);i&&p.setImageSrcToPixelURL(i)},t.getAdUnitSizes=function(e){return Object.keys(e.adapters).filter((function(t){return 1==Object.keys(e.adapters[t].bids).filter((function(i){return e.adapters[t].bids[i].isWinningBid&&"native"===e.adapters[t].bids[i].adFormat?e.adapters[t].bids[i]:void 0})).length?t:void 0})).length?["1x1"]:e.getSizes()},t.getAdUnitInfo=function(e){return window.PWT.adUnits[e]||e},t.getAdUnitAdFormats=function(e){return(e?Object.keys(e).map((function(e){return d.MEDIATYPE[e.toUpperCase()]})).filter((function(e){return null!=e})):[])||[]},t.getSlotLevelFrequencyDepth=function(e,t,i){var n;return Object.keys(e).length&&e.slotLevelFrquencyDepth&&(n=e.slotLevelFrquencyDepth[i]&&e.slotLevelFrquencyDepth[i][t]),n
},t.getMetadata=function(e){if(e&&!c.isEmptyObject(e)){const t={};return e.networkId&&(t.nwid=e.networkId),e.advertiserId&&(t.adid=e.advertiserId),e.networkName&&(t.nwnm=e.networkName),e.primaryCatId&&(t.pcid=e.primaryCatId),e.advertiserName&&(t.adnm=e.advertiserName),e.agencyId&&(t.agid=e.agencyId),e.agencyName&&(t.agnm=e.agencyName),e.brandId&&(t.brid=e.brandId),e.brandName&&(t.brnm=e.brandName),e.dchain&&(t.dc=e.dchain),e.demandSource&&(t.ds=e.demandSource),e.secondaryCatIds&&(t.scids=e.secondaryCatIds),c.isEmptyObject(t)?void 0:t}},t.analyticalPixelCallback=function(e,t,i){var n=null!==(o=localStorage.getItem(l+window.location.hostname))?JSON.parse(o):{},r=s.usePBSAdapter(),a=t.getCreationTime()||0,u=r&&window.pbsLatency?0:void 0,g=t.getImpressionID(),f=p.getAdUnitInfo(e),m={};if(t.getAnalyticEnabledStatus()&&!t.getExpiredStatus()){var h={sn:e,sz:p.getAdUnitSizes(t),au:f.adUnitId||e,fskp:window.PWT.floorData&&window.PWT.floorData[g]&&window.PWT.floorData[g].floorRequestData?0==window.PWT.floorData[g].floorRequestData.skipped?0:1:void 0,mt:p.getAdUnitAdFormats(f.mediaTypes),ps:[],bs:p.getSlotLevelFrequencyDepth(n,"bidServed",f.adUnitId),is:p.getSlotLevelFrequencyDepth(n,"impressionServed",f.adUnitId),rc:p.getSlotLevelFrequencyDepth(n,"slotCnt",f.adUnitId),vw:n&&n.viewedSlot&&n.viewedSlot[f.adUnitId],rf:window.PWT.newAdUnits&&window.PWT.newAdUnits[g]&&window.PWT.newAdUnits[g][e]&&window.PWT.newAdUnits[g][e].pubmaticAutoRefresh&&window.PWT.newAdUnits[g][e].pubmaticAutoRefresh.isRefreshed?1:0};t.setExpired(),i[g]=i[g]||[],c.forEachOnObject(t.adapters,(function(e,t){1!=s.getBidPassThroughStatus(e)&&c.forEachOnObject(t.bids,(function(t,i){r&&((m=window.pbsLatency&&window.pbsLatency[g])&&m.endTime&&m.startTime&&(u=m.endTime-m.startTime),(("pubmatic"===e||"pubmatic2"===e)&&c.isOwnProperty(window.partnersWithoutErrorAndBids,g)&&window.partnersWithoutErrorAndBids[g].includes(e)||c.isOwnProperty(window.partnersWithoutErrorAndBids,g)&&window.partnersWithoutErrorAndBids[g].includes(e)&&s.getAdapterNameForAlias(e).includes("pubmatic"))&&(i.defaultBid=0));var n=i.getReceivedTime();if("pubmaticServer"===e)return c.isOwnProperty(window.PWT.owLatency,g)&&c.isOwnProperty(window.PWT.owLatency[g],"startTime")&&c.isOwnProperty(window.PWT.owLatency[g],"endTime")?u=window.PWT.owLatency[g].endTime-window.PWT.owLatency[g].startTime:(u=0,c.log("Logging pubmaticServer latency as 0 for impressionID: "+g)),void c.log("PSL logging: time logged for id "+g+" is "+u);if((1!=s.getAdapterMaskBidsStatus(e)||!1!==i.getWinningBidStatus())&&!(i.getServerSideStatus()&&-1===i.getDefaultBidStatus()&&-1===i.getServerSideResponseTime()||("pubmatic"===e||"pubmatic2"===e)&&(i.getDefaultBidStatus()||i.getPostTimeoutStatus()&&0==i.getGrossEcpm(!0)))){var o=i.getPbBid();h.ps.push({pn:s.getAdapterNameForAlias(e),bc:e,bidid:o&&o.prebidBidId?o.prebidBidId:t,origbidid:t,db:i.getDefaultBidStatus(),kgpv:i.getKGPV(),kgpsv:i.getKGPV(!0),psz:i.getWidth()+"x"+i.getHeight(),eg:i.getGrossEcpm(!0),en:i.getNetEcpm(!0),di:i.getDealID(),dc:i.getDealChannel(),l1:i.getServerSideStatus()?i.getServerSideResponseTime():n-a,l2:0,adv:o&&c.getAdDomain(o)||void 0,ss:i.getServerSideStatus(),t:!1===i.getPostTimeoutStatus()?0:1,wb:!0===i.getWinningBidStatus()?1:0,mi:i.getServerSideStatus()?i.getMi(e):void 0,af:i.getAdFormat(),ocpm:s.getAdServerCurrency()?i.getOriginalCpm():i.getGrossEcpm(),ocry:s.getAdServerCurrency()?i.getOriginalCurrency():d.COMMON.ANALYTICS_CURRENCY,piid:i.getsspID(),frv:i.getServerSideStatus()?void 0:o&&o.floorData?o.floorData.floorRuleValue:void 0,md:o?p.getMetadata(o.meta):void 0})}}))})),i[g].push(h),r&&s.getServerEnabledAdaptars().length&&null==u&&!window.pbsLatency&&(u=0),void 0!==u&&(i[g].psl=u)}},t.setImageSrcToPixelURL=function(e,t){var i=new window.Image;null==t||t?(String(e).trim().substring(0,8)!=d.COMMON.PROTOCOL&&(e=d.COMMON.PROTOCOL+e),i.src=e):i.src=e},t.getAllPartnersBidStatuses=function(e,t){var i=!0;return c.forEachOnArray(t,(function(t,n){e[n]&&(i=i&&!0===e[n].hasAllPossibleBidsReceived())})),i},t.loadTrackers=function(e){var t=c.getBidFromEvent(e);window.parent.postMessage(JSON.stringify({pwt_type:"3",pwt_bidID:t,pwt_origin:d.COMMON.PROTOCOL+window.location.hostname,pwt_action:"click"}),"*")},t.executeTracker=function(e){window.parent.postMessage(JSON.stringify({pwt_type:"3",pwt_bidID:e,pwt_origin:d.COMMON.PROTOCOL+window.location.hostname,pwt_action:"imptrackers"}),"*")},t.fireTracker=function(e,t){var i;if("click"===t)i=e.native&&e.native.ortb&&e.native.ortb.link&&e.native.ortb.link.clickTrackers;else if("imptrackers"===t){const t=e.native.ortb||e.native,n=(t.eventtrackers||[]).filter((function(e){e.event})),r={img:[],js:[]};n.forEach((function(e){g.hasOwnProperty(e.method)&&r[g[e.method]].push(e.url)})),0==r.img.length&&t.imptrackers&&(r.img=r.img.concat(t.imptrackers)),i=r.img,0==r.js.length&&t.jstracker&&(r.js=r.js.concat([t.jstracker])),r.js.length&&c.insertHtmlIntoIframe(r.js.join("\n"))}(i||[]).forEach((function(e){p.setImageSrcToPixelURL(e,!1)}))},t.setStandardKeys=function(e,t){if(e){t[d.WRAPPER_TARGETING_KEYS.BID_ID]=e.getBidID(),t[d.WRAPPER_TARGETING_KEYS.BID_STATUS]=e.getStatus(),t[d.WRAPPER_TARGETING_KEYS.BID_ECPM]=e.getNetEcpm().toFixed(d.COMMON.BID_PRECISION);var i=e.getDealID();i&&(t[d.WRAPPER_TARGETING_KEYS.BID_DEAL_ID]=i),t[d.WRAPPER_TARGETING_KEYS.BID_ADAPTER_ID]=e.getAdapterID(),t[d.WRAPPER_TARGETING_KEYS.PUBLISHER_ID]=s.getPublisherId(),t[d.WRAPPER_TARGETING_KEYS.PROFILE_ID]=s.getProfileID(),t[d.WRAPPER_TARGETING_KEYS.PROFILE_VERSION_ID]=s.getProfileDisplayVersionID(),t[d.WRAPPER_TARGETING_KEYS.BID_SIZE]=e.width+"x"+e.height,t[d.WRAPPER_TARGETING_KEYS.PLATFORM_KEY]=e.getAdFormat()==d.FORMAT_VALUES.VIDEO&&e.getcacheUUID()?d.PLATFORM_VALUES.VIDEO:e.getNative()?d.PLATFORM_VALUES.NATIVE:d.PLATFORM_VALUES.DISPLAY,e.getAdFormat()==d.FORMAT_VALUES.VIDEO&&e.getcacheUUID()&&(t[d.WRAPPER_TARGETING_KEYS.CACHE_PATH]=d.CONFIG.CACHE_PATH,t[d.WRAPPER_TARGETING_KEYS.CACHE_URL]=d.CONFIG.CACHE_URL,t[d.WRAPPER_TARGETING_KEYS.CACHE_ID]=e.getcacheUUID())}else c.logWarning("Not generating key-value pairs as invalid winningBid object passed. WinningBid: "),c.logWarning(e)},t.getBrowser=function(){var e=d.REGEX_BROWSERS,t=d.BROWSER_MAPPING,i=navigator.userAgent,n=null==i?-1:0;if(i)for(var r=0;r<e.length;r++)if(i.match(e[r])){n=t[r];break}return n}}),(function(e,t,i){function n(e,t){this.adapterID=e,this.kgpv=t,this.bidID=a.getUniqueIdentifierStr(),this.grossEcpm=0,this.netEcpm=0,this.defaultBid=0,this.adHtml="",this.adUrl="",this.height=0,this.width=0,this.creativeID="",this.keyValuePairs={},this.isPostTimeout=!1,this.receivedTime=0,this.isServerSide=r.isServerSideAdapter(e)?1:0,this.dealID="",this.dealChannel="",this.isWinningBid=!1,this.status=0,this.serverSideResponseTime=0,this.mi=void 0,this.originalCpm=0,this.originalCurrency="",this.analyticsGrossCpm=0,this.analyticsNetCpm=0,this.native=void 0,this.adFormat=void 0,this.regexPattern=void 0,this.cacheUUID=void 0,this.sspID="",this.vastUrl=void 0,this.vastCache=void 0,this.renderer=void 0,this.pbBid=void 0}var r=i(2),o=i(0),a=i(1),s=function(e,t){return window.parseFloat((e*r.getAdapterRevShare(t)).toFixed(o.COMMON.BID_PRECISION))};n.prototype.setServerSideResponseTime=function(e){this.serverSideResponseTime=e},n.prototype.getServerSideResponseTime=function(){return this.serverSideResponseTime},n.prototype.getServerSideStatus=function(){return this.isServerSide},n.prototype.setServerSideStatus=function(e){this.isServerSide=e},n.prototype.getAdapterID=function(){return this.adapterID},n.prototype.getBidID=function(){return this.bidID},n.prototype.setGrossEcpm=function(e,t,i,n){if(null===e)return a.log(o.MESSAGES.M10),a.log(this),this;if(a.isString(e)){if(0===(e=e.replace(/\s/g,"")).length)return a.log(o.MESSAGES.M20),a.log(this),this;e=window.parseFloat(e)}return window.isNaN(e)?(a.log(o.MESSAGES.M11+e),a.log(this),this):(r.getAdServerCurrency()&&t&&i&&(a.isFunction(window[o.COMMON.PREBID_NAMESPACE].convertCurrency)||"function"==typeof window[o.COMMON.PREBID_NAMESPACE].convertCurrency)&&(e=window[o.COMMON.PREBID_NAMESPACE].convertCurrency(e,t,i)),e=window.parseFloat(e.toFixed(o.COMMON.BID_PRECISION)),this.grossEcpm=e,this.netEcpm=n==o.BID_STATUS.BID_REJECTED?0:s(this.grossEcpm,this.getAdapterID()),this)},n.prototype.getGrossEcpm=function(e){return r.getAdServerCurrency()&&this.analyticsGrossCpm&&e?this.analyticsGrossCpm:this.grossEcpm},n.prototype.getNetEcpm=function(e){return r.getAdServerCurrency()&&this.analyticsNetCpm&&e?this.analyticsNetCpm:this.netEcpm},n.prototype.setDefaultBidStatus=function(e){return this.defaultBid=e,this},n.prototype.getDefaultBidStatus=function(){return this.defaultBid},n.prototype.setAdHtml=function(e){return this.adHtml=e,this.setAdFormat(e),this},n.prototype.getAdHtml=function(){return this.adHtml},n.prototype.setAdUrl=function(e){return this.adUrl=e,this},n.prototype.getAdUrl=function(){return this.adUrl},n.prototype.setHeight=function(e){return this.height=e,this},n.prototype.getHeight=function(){return this.height},n.prototype.setWidth=function(e){return this.width=e,this},n.prototype.getWidth=function(){return this.width},n.prototype.getKGPV=function(e,t){return!e&&this.regexPattern?this.regexPattern:this.adFormat==o.FORMAT_VALUES.VIDEO||t==o.FORMAT_VALUES.VIDEO?a.getUpdatedKGPVForVideo(this.kgpv,o.FORMAT_VALUES.VIDEO):this.kgpv},n.prototype.setKeyValuePair=function(e,t){return this.keyValuePairs[e.substr(0,20)]=t,this},n.prototype.getKeyValuePairs=function(){return this.keyValuePairs},n.prototype.setPostTimeoutStatus=function(){return this.isPostTimeout=!0,this},n.prototype.getPostTimeoutStatus=function(){return this.isPostTimeout},n.prototype.setReceivedTime=function(e){return this.receivedTime=e,this},n.prototype.getReceivedTime=function(){return this.receivedTime},n.prototype.setDealID=function(e){return e&&(this.dealID=e,this.dealChannel=this.dealChannel||"PMP",this.setKeyValuePair(o.COMMON.DEAL_KEY_FIRST_PART+this.adapterID,this.dealChannel+o.COMMON.DEAL_KEY_VALUE_SEPARATOR+this.dealID+o.COMMON.DEAL_KEY_VALUE_SEPARATOR+this.bidID)),this},n.prototype.getDealID=function(){return this.dealID},n.prototype.setDealChannel=function(e){return this.dealID&&e&&(this.dealChannel=e,this.setKeyValuePair(o.COMMON.DEAL_KEY_FIRST_PART+this.adapterID,this.dealChannel+o.COMMON.DEAL_KEY_VALUE_SEPARATOR+this.dealID+o.COMMON.DEAL_KEY_VALUE_SEPARATOR+this.bidID)),this},n.prototype.getDealChannel=function(){return this.dealChannel},n.prototype.setWinningBidStatus=function(){return this.isWinningBid=!0,this},n.prototype.getWinningBidStatus=function(){return this.isWinningBid},n.prototype.setStatus=function(e){return this.status=e,this},n.prototype.getStatus=function(){return this.status},n.prototype.setSendAllBidsKeys=function(){if(this.setKeyValuePair(o.WRAPPER_TARGETING_KEYS.BID_ID+"_"+this.adapterID,this.bidID),this.setKeyValuePair(o.WRAPPER_TARGETING_KEYS.BID_STATUS+"_"+this.adapterID,this.getNetEcpm()>0?1:0),this.setKeyValuePair(o.WRAPPER_TARGETING_KEYS.BID_ECPM+"_"+this.adapterID,this.getNetEcpm().toFixed(o.COMMON.BID_PRECISION)),this.setKeyValuePair(o.WRAPPER_TARGETING_KEYS.BID_SIZE+"_"+this.adapterID,this.width+"x"+this.height),this.native){var e=this.keyValuePairs,t=this;a.forEachOnObject(e,(function(e,i){e.indexOf("native")>=0&&t.setKeyValuePair(e+"_"+t.adapterID,i)}))}},n.prototype.setMi=function(e){return this.mi=e,this},n.prototype.getMi=function(e){return a.isUndefined(this.mi)&&(this.mi=window.matchedimpressions&&window.matchedimpressions[e]),this.mi},n.prototype.setOriginalCpm=function(e){return this.originalCpm=window.parseFloat(e.toFixed(o.COMMON.BID_PRECISION)),this},n.prototype.getOriginalCpm=function(){return this.originalCpm},n.prototype.setOriginalCurrency=function(e){return this.originalCurrency=e,this},n.prototype.getOriginalCurrency=function(){return this.originalCurrency},n.prototype.setAnalyticsCpm=function(e,t){return this.analyticsGrossCpm=window.parseFloat(e.toFixed(o.COMMON.BID_PRECISION)),this.analyticsNetCpm=t==o.BID_STATUS.BID_REJECTED?0:s(this.analyticsGrossCpm,this.getAdapterID()),this},n.prototype.getAnalyticsCpm=function(){return this.analyticsGrossCpm},n.prototype.getNative=function(){return this.native},n.prototype.setNative=function(e){return this.native=e,this},n.prototype.getAdFormat=function(){return this.adFormat},n.prototype.setAdFormat=function(e,t){return this.adFormat=t||a.getAdFormatFromBidAd(e),this},n.prototype.getRegexPattern=function(){return this.regexPattern},n.prototype.setRegexPattern=function(e){return this.regexPattern=e,this},n.prototype.getcacheUUID=function(){return this.cacheUUID},n.prototype.setcacheUUID=function(e){return this.cacheUUID=e,this.adFormat||(this.adFormat=o.FORMAT_VALUES.VIDEO),this},n.prototype.getsspID=function(){return this.sspID},n.prototype.setsspID=function(e){return this.sspID=e,this},n.prototype.setRenderer=function(e){return a.isEmptyObject(e)||(this.renderer=e),this},n.prototype.getRenderer=function(){return this.renderer},n.prototype.setVastCache=function(e){return a.isString(e)&&(this.vastCache=e),this},n.prototype.getVastCache=function(){return this.vastCache},n.prototype.setVastUrl=function(e){return a.isString(e)&&(this.vastUrl=e),this},n.prototype.getVastUrl=function(){return this.vastUrl},n.prototype.setVastXml=function(e){return a.isString(e)&&(this.vastXml=e),this},n.prototype.getVastXml=function(){return this.vastXml},n.prototype.setPbBid=function(e){return this.pbbid=e,this},n.prototype.getPbBid=function(){return this.pbbid},n.prototype.updateBidId=function(e){if(window.PWT.bidMap[e]&&window.PWT.bidMap[e].adapters&&Object.keys(window.PWT.bidMap[e].adapters).length>0){var t=window.PWT.bidMap[e].adapters[this.adapterID].bids[Object.keys(window.PWT.bidMap[e].adapters[this.adapterID].bids)[0]].bidID;t&&this.adFormat==o.FORMAT_VALUES.VIDEO&&(this.bidID=t)}else a.logWarning("Error in Updating BidId. It might be possible singleImpressionEnabled is false"),console.warn("Setup for video might not be correct. Try setting up Optimize MultiSize AdSlot to true.");return this},e.exports.Bid=n,t.createBid=function(e,t){return new n(e,t)}}),(function(e,t,i){function n(e,t,i){var n=!1;return c.isOwnProperty(e,t)&&e[t].bids.forEach((function(e){e.bidder==i&&(n=!0)})),n}function r(e,t,i,r,o,s,d,u,l,g){var m={},h=u[d].mediaTypes,w=u[d].sizes,I=!1;h&&c.isOwnProperty(h,"video")&&"telaria"!=e&&(m.video=h.video),c.forEachOnObject(r,(function(e,t){m[e]=t})),E&&(m.kgpv=t,m.regexPattern=g),l&&Object.keys(l).length>0&&c.forEachOnObject(l,(function(t,i){t==e&&c.forEachOnObject(i,(function(e,t){m[e]=t}))})),h&&c.isOwnProperty(h,"video")&&"telaria"!=e&&(c.isOwnProperty(m,"video")&&c.isObject(m.video)?c.forEachOnObject(h.video,(function(e,t){c.isOwnProperty(m.video,e)||(m.video[e]=t)})):m.video=h.video),!1===E&&a.usePBSAdapter()&&(m.wiid=i,I=!0);var y=a.getAdapterNameForAlias(e)||e;switch(y){case"pubmaticServer":m.publisherId=o.publisherId,m.adUnitIndex=""+s.getAdUnitIndex(),m.adUnitId=s.getAdUnitID(),m.divId=s.getDivID(),m.adSlot=t,!1===E&&(m.wiid=i),m.profId=a.getProfileID(),window.PWT.udpv&&(m.verId=a.getProfileDisplayVersionID()),u[d].bids.push({bidder:e,params:m});break;case"pubmatic":case"pubmatic2":m.publisherId=o.publisherId,m.adSlot=m.slotName||t,!1===E&&(m.wiid=i),m.profId="pubmatic2"==e||"pubmatic2"==y?o.profileId:a.getProfileID(),"pubmatic2"!=e&&"pubmatic2"!=y&&window.PWT.udpv&&(m.verId=a.getProfileDisplayVersionID()),1==a.usePBSAdapter()&&a.isServerSideAdapter(e)&&(m.wrapper={profile:parseInt(p.pwt.pid),version:parseInt(p.pwt.pdvid)},m.hashedKey&&(m.adSlot=m.hashedKey)),u[d].bids.push({bidder:e,params:m});break;case"pulsepoint":c.forEachOnArray(w,(function(t,n){var o={};c.forEachOnObject(r,(function(e,t){o[e]=t})),o.cf=n[0]+"x"+n[1],I&&(o.wiid=i),u[d].bids.push({bidder:e,params:o})}));break;case"adg":c.forEachOnArray(w,(function(t,o){var a={};c.forEachOnObject(r,(function(e,t){a[e]=t})),a.width=o[0],a.height=o[1],I&&(a.wiid=i),f.isSingleImpressionSettingEnabled&&n(u,d,e)||u[d].bids.push({bidder:e,params:a})}));break;case"yieldlab":c.forEachOnArray(w,(function(t,o){var a={};c.forEachOnObject(r,(function(e,t){a[e]=t})),a.adSize=o[0]+"x"+o[1],I&&(a.wiid=i),f.isSingleImpressionSettingEnabled&&n(u,d,e)||u[d].bids.push({bidder:e,params:a})}));break;case"ix":case"indexExchange":m.siteID&&(m.siteId=m.siteID,delete m.siteID),I&&(m.wiid=i),u[d].bids.push({bidder:e,params:m});break;default:u[d].bids.push({bidder:e,params:m})}}function o(){return[{key:"pwtpid",val:function(e){return e.bidderCode}},{key:"pwtsid",val:function(e){return e.adId}},{key:"pwtecp",val:function(e){return(e.cpm||0).toFixed(s.COMMON.BID_PRECISION)}},{key:"pwtsz",val:function(e){return e.size}},{key:"hb_source",val:function(){return""}},{key:"pwtplt",val:function(e){return"video"==e.mediaType&&e.videoCacheKey?s.PLATFORM_VALUES.VIDEO:e.native?s.PLATFORM_VALUES.NATIVE:s.PLATFORM_VALUES.DISPLAY}},{key:"pwtdid",val:function(e){return e.dealId||""}},{key:"pwtdeal",val:function(e){return e.dealId?(e.dealChannel=e.dealChannel||"PMP",e.dealChannel+s.COMMON.DEAL_KEY_VALUE_SEPARATOR+e.dealId+s.COMMON.DEAL_KEY_VALUE_SEPARATOR+e.adId):""}},{key:"pwtbst",val:function(){return 1}},{key:"pwtpubid",val:function(){return a.getPublisherId()}},{key:"pwtprofid",val:function(){return a.getProfileID()}},{key:"pwtverid",val:function(){return a.getProfileDisplayVersionID()}},{key:"pwtcid",val:function(e){return"video"==e.mediaType&&e.videoCacheKey?e.videoCacheKey:""}},{key:"pwtcurl",val:function(e){return"video"==e.mediaType&&e.videoCacheKey?s.CONFIG.CACHE_URL:""}},{key:"pwtcpath",val:function(e){return"video"==e.mediaType&&e.videoCacheKey?s.CONFIG.CACHE_PATH:""}},{key:"pwtuuid",val:function(){return""}}]}var a=i(2),s=i(0),d=i(5),c=i(1),u=i(4),p=i(3),l=s.COMMON.PARENT_ADAPTER_PREBID,g=s.COMMON.PREBID_NAMESPACE;t.parentAdapterID=l,t.kgpvMap={};var f=this,m=!1,h=!1,E=a.isPrebidPubMaticAnalyticsEnabled(),w=a.isSingleImpressionSettingEnabled(),I=s.DEFAULT_ALIASES;t.isSingleImpressionSettingEnabled=w,t.transformPBBidToOWBid=function(e,t,i){var n=i||e.regexPattern||void 0,r=d.createBid(e.bidderCode,t),o=parseInt(e.pubmaticServerErrorCode);return a.getAdServerCurrency()&&(c.isOwnProperty(e,"originalCpm")||(e.originalCpm=e.cpm),c.isOwnProperty(e,"originalCurrency")||(e.originalCurrency=c.getCurrencyToDisplay())),e.status==s.BID_STATUS.BID_REJECTED?r.setGrossEcpm(e.originalCpm,e.originalCurrency,c.getCurrencyToDisplay(),e.status):r.setGrossEcpm(e.cpm),r.setDealID(e.dealId),r.setDealChannel(e.dealChannel),r.setAdHtml(e.ad||""),r.setAdUrl(e.adUrl||""),r.setWidth(e.width),r.setHeight(e.height),r.setMi(e.mi),e.videoCacheKey&&r.setVastCache(e.videoCacheKey),e.vastUrl&&r.setVastUrl(e.vastUrl),e.vastXml&&r.setVastUrl(e.vastUrl),e.renderer&&r.setRenderer(e.renderer),e.native&&r.setNative(e.native),n&&r.setRegexPattern(n),e.mediaType==s.FORMAT_VALUES.VIDEO&&(e.videoCacheKey&&r.setcacheUUID(e.videoCacheKey),r.updateBidId(e.adUnitCode)),e.mediaType&&(parseFloat(e.cpm)>0||e.status==s.BID_STATUS.BID_REJECTED)&&r.setAdFormat(e.adHtml,e.mediaType),e.sspID&&r.setsspID(e.sspID),r.setReceivedTime(e.responseTimestamp),r.setServerSideResponseTime(e.serverSideResponseTime),a.getAdServerCurrency()&&(r.setOriginalCpm(window.parseFloat(e.originalCpm)),r.setOriginalCurrency(e.originalCurrency),c.isFunction(e.getCpmInNewCurrency)?r.setAnalyticsCpm(window.parseFloat(e.getCpmInNewCurrency(s.COMMON.ANALYTICS_CURRENCY)),e.status):r.setAnalyticsCpm(r.getGrossEcpm(),e.status)),1===o||2===o||6===o||11===o||12===o?(r.setDefaultBidStatus(-1),r.setWidth(0),r.setHeight(0)):3===o||4===o||5===o?(r.setDefaultBidStatus(0),0===r.isServerSide&&r.setPostTimeoutStatus()):o&&r.setDefaultBidStatus(1),c.forEachOnObject(e.adserverTargeting,(function(e,t){"hb_format"!==e&&"hb_source"!==e&&r.setKeyValuePair(e,t)})),r.setPbBid(e),r},t.checkAndModifySizeOfKGPVIfRequired=function(e,t){var i={responseKGPV:"",responseRegex:""};t.kgpvs.length>0&&t.kgpvs.forEach((function(t){e.bidderCode==t.adapterID&&(i.responseKGPV=t.kgpv,i.responseRegex=t.regexPattern)}));var n=i.responseKGPV.split("@"),r=1,o=!1;if(n&&(2==n.length||3==n.length&&(r=2)&&(o=!0))&&"video"!=e.mediaType){var a=n[r],s=null;n[r].indexOf(":")>0&&(a=n[r].split(":")[0],s=n[r].split(":")[1]),e.getSize()&&e.getSize()!=a&&"0X0"!=e.getSize().toUpperCase()&&(n[0].toUpperCase()==a.toUpperCase()&&(n[0]=e.getSize().toLowerCase()),i.responseKGPV=o?n[0]+"@"+n[1]+"@"+e.getSize():n[0]+"@"+e.getSize(),s&&(i.responseKGPV=i.responseKGPV+":"+s))}return i},t.pbBidStreamHandler=function(e){var t=e.adUnitCode||"";if(c.isOwnProperty(f.kgpvMap,t)){if(e.floorData&&(window.PWT.floorData[window.PWT.bidMap[e.adUnitCode].impressionID].floorResponseData=e.floorData),"pubmaticServer"===e.bidderCode&&(e.bidderCode=e.originalBidder),f.isSingleImpressionSettingEnabled){var i=f.checkAndModifySizeOfKGPVIfRequired(e,f.kgpvMap[t]);f.kgpvMap[t].kgpv=i.responseKGPV,f.kgpvMap[t].regexPattern=i.responseRegex}if(e.bidderCode&&a.isServerSideAdapter(e.bidderCode)){var n=f.kgpvMap[t].divID;if(!f.isSingleImpressionSettingEnabled){var r=f.getPBCodeWithWidthAndHeight(n,e.bidderCode,e.width,e.height),o=f.getPBCodeWithoutWidthAndHeight(n,e.bidderCode);if(c.isOwnProperty(f.kgpvMap,r))t=r;else{if(!c.isOwnProperty(f.kgpvMap,o))return void c.logWarning("Failed to find kgpv details for S2S-adapter:"+e.bidderCode);t=o}}e.ss=a.isServerSideAdapter(e.bidderCode)?1:0}e.bidderCode&&(e.timeToRespond<a.getTimeout()-s.CONFIG.TIMEOUT_ADJUSTMENT&&c.handleHook(s.HOOKS.BID_RECEIVED,[f.kgpvMap[t].divID,e]),u.setBidFromBidder(f.kgpvMap[t].divID,f.transformPBBidToOWBid(e,f.kgpvMap[t].kgpv,f.kgpvMap[t].regexPattern)))}else c.logWarning("Failed to find pbBid.adUnitCode in kgpvMap, pbBid.adUnitCode:"+e.adUnitCode)},t.pbBidRequestHandler=function(e){e.bids.forEach((function(e){window.PWT.floorData[window.PWT.bidMap[e.adUnitCode].impressionID]||(window.PWT.floorData[window.PWT.bidMap[e.adUnitCode].impressionID]={}),window.PWT.floorData[window.PWT.bidMap[e.adUnitCode].impressionID].floorRequestData=e.floorData}))},t.pbAuctionEndHandler=function(e){window.PWT.newAdUnits=window.PWT.newAdUnits||{},e.adUnits.forEach((function(e){e.pubmaticAutoRefresh&&(window.PWT.newAdUnits[window.PWT.bidMap[e.code].impressionID]||(window.PWT.newAdUnits[window.PWT.bidMap[e.code].impressionID]={}),window.PWT.newAdUnits[window.PWT.bidMap[e.code].impressionID][e.code]||(window.PWT.newAdUnits[window.PWT.bidMap[e.code].impressionID][e.code]={}),window.PWT.newAdUnits[window.PWT.bidMap[e.code].impressionID][e.code].pubmaticAutoRefresh=e.pubmaticAutoRefresh)}))},t.getPBCodeWithWidthAndHeight=function(e,t,i,n){return e+"@"+t+"@"+i+"X"+n},t.getPBCodeWithoutWidthAndHeight=function(e,t){return e+"@"+t},t.isAdUnitsCodeContainBidder=n,t.generatedKeyCallbackForPbAnalytics=function(e,t,i,o,s,d,u,p,l,g,f){var m,h,E,w,I,y;if(a.isServerSideAdapter(e)&&1!=a.usePBSAdapter())c.log("Not calling adapter: "+e+", for "+s+", as it is serverSideEnabled.");else{E=u.getDivID(),m=u.getDivID(),h=u.getSizes(),w=u.getAdUnitID();var O=c.getAdUnitConfig(h,u);if((I=O.mediaTypeObject).partnerConfig&&(y=I.partnerConfig),c.isOwnProperty(t,m)){if(a.isSingleImpressionSettingEnabled()&&n(t,m,e))return}else t[m]={code:m,mediaTypes:{},sizes:h,adUnitId:w,bids:[],divID:E},I.banner&&(t[m].mediaTypes.banner=I.banner),I.native&&(t[m].mediaTypes.native=I.native),I.video&&(t[m].mediaTypes.video=I.video),O.renderer&&(t[m].renderer=O.renderer),window.PWT.adUnits=window.PWT.adUnits||{},window.PWT.adUnits[m]=t[m];r(e,s,o,p,i,u,m,t,y,f)}},t.generatedKeyCallback=function(e,t,i,o,s,d,u,p,l,g,m){var h,E,w,I,y=u.getDivID(),O=u.getAdUnitID();if(f.isSingleImpressionSettingEnabled){h=u.getDivID(),E=u.getSizes();var v=!1;if(f.kgpvMap[h]&&f.kgpvMap[h].kgpvs&&f.kgpvMap[h].kgpvs.length>0){if(c.forEachOnArray(f.kgpvMap[h].kgpvs,(function(t,i){i.adapterID==e&&(v=!0)})),v&&n(t,h,e))return}else f.kgpvMap[h]={kgpvs:[],divID:y};if(!v){var S={adapterID:e,kgpv:s,regexPattern:m};f.kgpvMap[h].kgpvs.push(S)}}else d?(h=f.getPBCodeWithWidthAndHeight(y,e,l,g),E=[[l,g]]):(h=f.getPBCodeWithoutWidthAndHeight(y,e),E=u.getSizes()),f.kgpvMap[h]={kgpv:s,divID:y,regexPattern:m};if(a.isServerSideAdapter(e)&&1!=a.usePBSAdapter())c.log("Not calling adapter: "+e+", for "+s+", as it is serverSideEnabled.");else{var b=c.getAdUnitConfig(E,u);if((w=b.mediaTypeObject).partnerConfig&&(I=w.partnerConfig),c.isOwnProperty(t,h)){if(f.isSingleImpressionSettingEnabled&&n(t,h,e))return}else t[h]={code:h,mediaTypes:{},sizes:E,adUnitId:O,bids:[],divID:y},w.banner&&(t[h].mediaTypes.banner=w.banner),w.native&&(t[h].mediaTypes.native=w.native),w.video&&(t[h].mediaTypes.video=w.video),b.renderer&&(t[h].renderer=b.renderer),window.PWT.adUnits=window.PWT.adUnits||{},window.PWT.adUnits[h]=t[h];c.isOwnProperty(t,h)&&(w=t[h].mediaTypes),r(e,s,o,p,i,u,h,t,I,m)}},t.pushAdapterParamsInAdunits=r,t.generatePbConf=function(e,t,i,n,r){c.log(e+s.MESSAGES.M1),t&&c.forEachGeneratedKey(e,n,t,r,[],i,E?f.generatedKeyCallbackForPbAnalytics:f.generatedKeyCallback,!0)},t.assignSingleRequestConfigForBidders=function(e){c.forEachOnObject(s.SRA_ENABLED_BIDDERS,(function(t){c.isOwnProperty(p.adapters,t)&&(e[t]={singleRequest:!0})}))},t.assignUserSyncConfig=function(e){var t;e.userSync={enableOverride:!0,syncsPerBidder:0,iframeEnabled:!0,pixelEnabled:!0,filterSettings:{iframe:{bidders:"*",filter:"include"}},enabledBidders:(t=[],a.forEachAdapter((function(e){var i=a.getAdapterNameForAlias(e)||e;-1==t.indexOf(i)&&t.push(i)})),t),syncDelay:2e3,aliasSyncEnabled:!0},a.isUserIdModuleEnabled()&&(e.userSync.userIds=c.getUserIdConfiguration())},t.assignGdprConfigIfRequired=function(e){a.getGdpr()&&(e.consentManagement||(e.consentManagement={}),e.consentManagement.gdpr={cmpApi:a.getCmpApi(),timeout:a.getGdprTimeout(),allowAuctionWithoutConsent:a.getAwc(),defaultGdprScope:!0})},t.assignCcpaConfigIfRequired=function(e){a.getCCPA()&&(e.consentManagement||(e.consentManagement={}),e.consentManagement.usp={cmpApi:a.getCCPACmpApi(),timeout:a.getCCPATimeout()})},t.assignCurrencyConfigIfRequired=function(e){a.getAdServerCurrency()&&(c.log(s.MESSAGES.M26+a.getAdServerCurrency()),e.currency={adServerCurrency:a.getAdServerCurrency(),granularityMultiplier:a.getGranularityMultiplier()})},t.assignSchainConfigIfRequired=function(e){a.isSchainEnabled()&&(e.schain=a.getSchainObject())},t.configureBidderAliasesIfAvailable=function(){c.isFunction(window[g].aliasBidder)?a.forEachBidderAlias((function(e){window[g].aliasBidder(p.alias[e],e)})):c.logWarning("PreBid js aliasBidder method is not available")},t.enablePrebidPubMaticAnalyticIfRequired=function(){E&&c.isFunction(window[g].enableAnalytics)&&window[g].enableAnalytics({provider:"pubmatic",options:{publisherId:a.getPublisherId(),profileId:a.getProfileID(),profileVersionId:a.getProfileDisplayVersionID(),identityOnly:a.isUserIdModuleEnabled()?1:0}})},t.throttleAdapter=function(e,t){return!(e>=a.getAdapterThrottle(t))},t.generateAdUnitsArray=function(e,t){var i={},n=c.getRandomNumberBelow100();a.forEachAdapter((function(r,o){r!==f.parentAdapterID&&(1==a.usePBSAdapter()&&a.isServerSideAdapter(r)?0==f.throttleAdapter(n,r)?f.generateConfig(r,o,e,i,t):c.log(r+s.MESSAGES.M2):a.isServerSideAdapter(r)||0==f.throttleAdapter(n,r)?f.generateConfig(r,o,e,i,t):c.log(r+s.MESSAGES.M2))}));var r=[];for(var o in i)c.isOwnProperty(i,o)&&r.push(i[o]);return r},t.generateConfig=function(e,t,i,n,r){c.forEachOnObject(i,(function(t,i){u.setCallInitTime(i.getDivID(),e)})),f.generatePbConf(e,t,i,n,r)},t.addOnBidResponseHandler=function(){c.isFunction(window[g].onEvent)?m||(window[g].onEvent("bidResponse",f.pbBidStreamHandler),m=!0):c.logWarning("PreBid js onEvent method is not available")},t.addOnAuctionEndHandler=function(){c.isFunction(window[g].onEvent)?h||(window[g].onEvent("auctionEnd",f.pbAuctionEndHandler),h=!0):c.logWarning("PreBid js onEvent method is not available")},t.addOnBidRequestHandler=function(){c.isFunction(window[g].onEvent)?window[g].onEvent("bidRequested",f.pbBidRequestHandler):c.logWarning("PreBid js onEvent method is not available")},t.setPrebidConfig=function(){if(c.isFunction(window[g].setConfig)||"function"==typeof window[g].setConfig){var e={debug:c.isDebugLogEnabled(),cache:{url:s.CONFIG.CACHE_URL+s.CONFIG.CACHE_PATH,ignoreBidderCacheKey:!0},bidderSequence:"random",disableAjaxTimeout:a.getDisableAjaxTimeout(),enableSendAllBids:a.getSendAllBidsStatus(),targetingControls:{alwaysIncludeDeals:!0},testGroupId:parseInt(window.PWT.testGroupId||0),enableTIDs:!0};a.getPriceGranularity()&&(e.priceGranularity=a.getPriceGranularity()),!0===E&&(e.instreamTracking={enabled:!0}),window.PWT.ssoEnabled=a.isSSOEnabled()||!1,f.getFloorsConfiguration(e),f.assignUserSyncConfig(e),f.assignGdprConfigIfRequired(e),f.assignCcpaConfigIfRequired(e),f.assignCurrencyConfigIfRequired(e),f.assignSchainConfigIfRequired(e),f.assignSingleRequestConfigForBidders(e),f.assignPackagingInventoryConfig(e),a.usePBSAdapter()&&f.gets2sConfig(e),f.checkForYahooSSPBidder(e),c.handleHook(s.HOOKS.PREBID_SET_CONFIG,[e]),window[g].setConfig(e)}else c.logWarning("PreBidJS setConfig method is not available")},t.realignPubmaticAdapters=function(){if(p.adapters&&p.adapters.pubmatic){var e={pubmatic:p.adapters.pubmatic};p.adapters=Object.assign(e,p.adapters)}},t.gets2sConfig=function(e){var t={},i=a.getServerEnabledAdaptars();for(var n in p.alias)I[n]=p.alias[n];var r=a.getPubMaticAndAlias(i);r.length&&r.forEach((function(e){t[e]={}})),e.s2sConfig={accountId:a.getPublisherId(),adapter:s.PBSPARAMS.adapter,enabled:!0,bidders:i,endpoint:s.PBSPARAMS.endpoint,syncEndpoint:s.PBSPARAMS.syncEndpoint,timeout:a.getTimeoutForPBSRequest(),secure:1,extPrebid:{aliases:I,bidderparams:t,targeting:{pricegranularity:a.getPriceGranularity()},isPrebidPubMaticAnalyticsEnabled:a.isPrebidPubMaticAnalyticsEnabled(),isUsePrebidKeysEnabled:a.isUsePrebidKeysEnabled(),macros:a.createMacros()}},a.getMarketplaceBidders()&&(e.s2sConfig.allowUnknownBidderCodes=!0,e.s2sConfig.extPrebid.alternatebiddercodes={enabled:!0,bidders:{pubmatic:{enabled:!0,allowedbiddercodes:a.getMarketplaceBidders()}}})},t.getFloorsConfiguration=function(e){1==a.isFloorPriceModuleEnabled()&&a.getFloorSource()!==s.COMMON.EXTERNAL_FLOOR_WO_CONFIG&&(e.floors={enforcement:{enforceJS:a.getFloorType()},auctionDelay:a.getFloorAuctionDelay(),endpoint:{url:a.getFloorJsonUrl()},additionalSchemaFields:{browser:c.getBrowserDetails,platform_id:c.getPltForFloor}})},t.checkForYahooSSPBidder=function(e){var t=!1,i=p.adapters.hasOwnProperty(s.YAHOOSSP);if(!i)for(var n in p.alias)a.getAdapterNameForAlias(n)==s.YAHOOSSP&&(t=!0);(i||t)&&(e[s.YAHOOSSP]={mode:"all"})},t.assignPackagingInventoryConfig=function(e){e.viewabilityScoreGeneration={enabled:!0}},t.getPbjsAdServerTargetingConfig=o,t.setPbjsBidderSettingsIfRequired=function(){!1!==E&&(window[g].bidderSettings={standard:{suppressEmptyKeys:!0}},!1===a.isUsePrebidKeysEnabled()&&(window[g].bidderSettings.standard.adserverTargeting=o()),a.forEachAdapter((function(e){!1===window[g].bidderSettings.hasOwnProperty(e)&&(window[g].bidderSettings[e]={},"pubmatic"===e&&a.getMarketplaceBidders()&&(window[g].bidderSettings[e].allowAlternateBidderCodes=!0,window[g].bidderSettings[e].allowedAlternateBidderCodes=a.getMarketplaceBidders()),window[g].bidderSettings[e].bidCpmAdjustment=function(t){return window.parseFloat((t*a.getAdapterRevShare(e)).toFixed(s.COMMON.BID_PRECISION))})})))},t.pbjsBidsBackHandler=function(e,t){function i(){c.forEachOnArray(t,(function(e,t){u.setAllPossibleBidsReceived(t.getDivID())}))}c.log("In PreBid bidsBackHandler with bidResponses: "),c.log(e),setTimeout(window[g].triggerUserSyncs,10),a.getAdServerCurrency()?setTimeout(i,300):i()},t.initPbjsConfig=function(){window[g]?(window[g].logging=c.isDebugLogEnabled(),f.realignPubmaticAdapters(),f.setPrebidConfig(),f.configureBidderAliasesIfAvailable(),f.enablePrebidPubMaticAnalyticIfRequired(),f.setPbjsBidderSettingsIfRequired()):c.logError("PreBid js is not loaded")},t.fetchBids=function(e){var t=c.generateUUID();if(window[g]){c.forEachOnArray(e,(function(e,i){var n=i.getDivID();u.resetBid(n,t),u.setSizes(n,c.generateSlotNamesFromPattern(i,"_W_x_H_"))
}));var i=f.generateAdUnitsArray(e,t);if(i.length>0&&window[g])try{if(!c.isFunction(window[g].requestBids)&&"function"!=typeof window[g].requestBids)return void c.log("PreBid js requestBids function is not available");c.handleHook(s.HOOKS.PREBID_REQUEST_BIDS,[i]),!1===E&&(f.addOnBidResponseHandler(),f.addOnBidRequestHandler(),f.addOnAuctionEndHandler()),window[g].removeAdUnit(),window[g].addAdUnits(i),window[g].requestBids({bidsBackHandler:function(t){f.pbjsBidsBackHandler(t,e)},timeout:a.getTimeout()-s.CONFIG.TIMEOUT_ADJUSTMENT})}catch(e){c.logError("Error occured in calling PreBid."),c.logError(e)}}else c.logError("PreBid js is not loaded")},t.getBid=function(e){var t=window[g].getHighestCpmBids([e])[0]||null;t&&(t.adHtml=t.ad,t.adapterID=t.bidder,t.netEcpm=t.cpm,t.grossEcpm=t.originalCpm);var i={wb:t,kvp:window[g].getAdserverTargetingForAdUnitCode([e])||null};return E&&i.kvp.pwtdeal&&delete i.kvp.pwtdeal,i}}),(function(e,t,i){var n=i(1),r=i(10),o=i(4),a=i(0),s=i(2),d=i(12),c=i(3),u=(i(6),n.getMetaInfo(window));window.PWT=window.PWT||{},window.PWT.bidMap=window.PWT.bidMap||{},window.PWT.bidIdMap=window.PWT.bidIdMap||{},window.PWT.adUnits=window.PWT.adUnits||{},window.PWT.floorData=window.PWT.floorData||{},window.PWT.isIframe=window.PWT.isIframe||u.isInIframe,window.PWT.protocol=window.PWT.protocol||u.protocol,window.PWT.secure=window.PWT.secure||u.secure,window.PWT.pageURL=window.PWT.pageURL||u.pageURL,window.PWT.refURL=window.PWT.refURL||u.refURL,window.PWT.isSafeFrame=window.PWT.isSafeFrame||!1,window.PWT.safeFrameMessageListenerAdded=window.PWT.safeFrameMessageListenerAdded||!1,window.PWT.isSyncAuction=window.PWT.isSyncAuction||!1,window.PWT.udpv=window.PWT.udpv||n.findQueryParamInURL(u.isIframe?u.refURL:u.pageURL,"pwtv"),n.findQueryParamInURL(u.isIframe?u.refURL:u.pageURL,"pwtc")&&n.enableDebugLog(),n.findQueryParamInURL(u.isIframe?u.refURL:u.pageURL,"pwtvc")&&n.enableVisualDebugLog();var p=s.isPrebidPubMaticAnalyticsEnabled();window.PWT.displayCreative=function(e,t){n.log("In displayCreative for: "+t),p?window[a.COMMON.PREBID_NAMESPACE].renderAd(e,t):o.displayCreative(e,t)},window.PWT.displayPMPCreative=function(e,t,i){n.log("In displayPMPCreative for: "+t);var r=n.getBididForPMP(t,i);r&&(p?window[a.COMMON.PREBID_NAMESPACE].renderAd(e,r):o.displayCreative(e,r))},window.PWT.sfDisplayCreative=function(e,t){n.log("In sfDisplayCreative for: "+t),d=window.ucTag||{},this.isSafeFrame=!0,d=window.ucTag||{},p?d.renderAd(e,{adId:t,pubUrl:document.referrer}):window.parent.postMessage(JSON.stringify({pwt_type:"1",pwt_bidID:t,pwt_origin:a.COMMON.PROTOCOL+window.location.hostname}),"*")},window.PWT.sfDisplayPMPCreative=function(e,t,i){n.log("In sfDisplayPMPCreative for: "+t),this.isSafeFrame=!0;var r=n.getBididForPMP(t,i);r&&(s.isPrebidPubMaticAnalyticsEnabled()?d.renderAd(e,{adId:r,pubUrl:document.referrer}):window.parent.postMessage(JSON.stringify({pwt_type:"1",pwt_bidID:r,pwt_origin:a.COMMON.PROTOCOL+window.location.hostname}),"*"))},window.PWT.initNativeTrackers=function(e,t){n.log("In startTrackers for: "+t),n.addEventListenerForClass(window,"click",a.COMMON.OW_CLICK_NATIVE,o.loadTrackers),o.executeTracker(t)},window.PWT.getUserIds=function(){return n.getUserIds()},window.OWT={notifyCount:0,externalBidderStatuses:{}},window.OWT.registerExternalBidders=function(e){return window.OWT.notifyCount++,n.forEachOnArray(e,(function(e,t){n.log("registerExternalBidders: "+t),window.OWT.externalBidderStatuses[t]={id:window.OWT.notifyCount,status:!1}})),window.OWT.notifyCount},window.OWT.notifyExternalBiddingComplete=function(e){n.forEachOnObject(window.OWT.externalBidderStatuses,(function(t,i){i&&i.id===e&&(n.log("notify externalBidding complete: "+t),window.OWT.externalBidderStatuses[t]={id:i.id,status:!0})}))},window.PWT.UpdateVastWithTracker=function(e,t){return n.UpdateVastWithTracker(e,t)},window.PWT.generateDFPURL=function(e,t){e&&n.isObject(e)||n.logError("An AdUnit should be an Object",e),e.bidData&&e.bidData.wb&&e.bidData.kvp?(e.bid=e.bidData.wb,e.bid.adserverTargeting=e.bidData.kvp):n.logWarning("No bid found for given adUnit");var i={adUnit:e,params:{iu:e.adUnitId,cust_params:t,output:"vast"}};return e.bid&&(i.bid=e.bid),window.owpbjs.adServers.dfp.buildVideoUrl(i)},window.PWT.getCustomParamsForDFPVideo=function(e,t){return n.getCustomParamsForDFPVideo(e,t)},window.PWT.setAuctionTimeout=function(e){isNaN(e)||(n.log("updating aution timeout from: "+c.pwt.t+" to: "+e),c.pwt.t=e)},window.PWT.versionDetails=n.getOWConfig(),window.PWT.getAdapterNameForAlias=s.getAdapterNameForAlias,window.PWT.browserMapping=o.getBrowser(),r.init(window)}),(function(e,t,i){function n(e){this.name=e,this.sizes=[],this.adapters={},this.creationTime=o.getCurrentTimestampInMs(),this.impressionID="",this.analyticsEnabled=!1,this.expired=!1,this.allPossibleBidsReceived=!1}var r=i(0),o=i(1),a=i(9).AdapterEntry;n.prototype.setExpired=function(){return this.expired=!0,this},n.prototype.getExpiredStatus=function(){return this.expired},n.prototype.setAnalyticEnabled=function(){return this.analyticsEnabled=!0,this},n.prototype.getAnalyticEnabledStatus=function(){return this.analyticsEnabled},n.prototype.setNewBid=function(e,t){o.isOwnProperty(this.adapters,e)||(this.adapters[e]=new a(e)),this.adapters[e].setNewBid(t)},n.prototype.getBid=function(e,t){return o.isOwnProperty(this.adapters,e)?this.adapters[e].getBid(t):void 0},n.prototype.getName=function(){return this.name},n.prototype.getCreationTime=function(){return this.creationTime},n.prototype.setImpressionID=function(e){return this.impressionID=e,this},n.prototype.getImpressionID=function(){return this.impressionID},n.prototype.setSizes=function(e){return this.sizes=e,this},n.prototype.getSizes=function(){return this.sizes},n.prototype.setAdapterEntry=function(e){return o.isOwnProperty(this.adapters,e)||(this.adapters[e]=new a(e),o.log(r.MESSAGES.M4+this.name+" "+e+" "+this.adapters[e].getCallInitiatedTime())),this},n.prototype.getLastBidIDForAdapter=function(e){return o.isOwnProperty(this.adapters,e)?this.adapters[e].getLastBidID():""},n.prototype.setAllPossibleBidsReceived=function(){return this.allPossibleBidsReceived=!0,this},n.prototype.hasAllPossibleBidsReceived=function(){return this.allPossibleBidsReceived},e.exports.BMEntry=n,t.createBMEntry=function(e){return new n(e)}}),(function(e,t,i){function n(e){this.adapterID=e,this.callInitiatedTime=r.getCurrentTimestampInMs(),this.bids={},this.lastBidID=""}var r=i(1);n.prototype.getCallInitiatedTime=function(){return this.callInitiatedTime},n.prototype.getLastBidID=function(){return this.lastBidID},n.prototype.getBid=function(e){return r.isOwnProperty(this.bids,e)?this.bids[e]:null},n.prototype.setNewBid=function(e){delete this.bids[this.lastBidID];var t=e.getBidID();this.bids[t]=e,this.lastBidID=t},e.exports.AdapterEntry=n}),(function(e,t,i){function n(e){s.isArray(e)||s.error("array is expected");var t=[];s.isObject(window.googletag)&&s.isFunction(window.googletag.pubads)&&(t=window.googletag.pubads().getSlots());var i={};s.forEachOnArray(t,(function(e,t){if(s.isFunction(t.getSlotId)){var n=t.getSlotId();n&&s.isFunction(n.getDomId)?i[n.getDomId()]=t:s.error("slotID.getDomId is not a function")}else s.error("googleSlot.getSlotId is not a function")})),s.forEachOnArray(e,(function(e,t){if(s.isOwnProperty(i,t.divId)){var n=i[t.divId];s.isObject(t)&&s.isObject(t.bidData)&&s.isObject(t.bidData.kvp)&&s.forEachOnObject(t.bidData.kvp,(function(e,t){n.setTargeting(e,[t])}))}else s.error("GPT-Slot not found for divId: "+t.divId)}))}function r(e){s.forEachOnArray(e,(function(e,t){var i={};s.isFunction(t.getTargetingKeys)&&s.forEachOnArray(t.getTargetingKeys(),(function(e,n){i[n]=t.getTargeting(n)})),s.isFunction(t.clearTargeting)&&t.clearTargeting(),s.forEachOnObject(i,(function(e,i){s.isOwnProperty(f.wrapperTargetingKeys,e)||s.isFunction(t.setTargeting)&&t.setTargeting(e,i)}))}))}var o=i(2),a=i(0),s=i(1),d=i(4),c=i(11),u=i(6),p=o.isPrebidPubMaticAnalyticsEnabled(),l=o.isUsePrebidKeysEnabled();t.wrapperTargetingKeys={},t.slotSizeMapping={};var g=null,f=this;t.setWindowReference=function(e){s.isObject(e)&&(g=e)},t.getWindowReference=function(){return g},t.getAdUnitIndex=function(e){var t=0;try{var i=e.getSlotId().getId().split("_");t=parseInt(i[i.length-1])}catch(e){}return t},t.defineWrapperTargetingKey=function(e){s.isObject(f.wrapperTargetingKeys)||(f.wrapperTargetingKeys={}),f.wrapperTargetingKeys[e]=""},t.defineWrapperTargetingKeys=function(e){var t={};return s.forEachOnObject(e,(function(e,i){t[i]=""})),t},t.initSafeFrameListener=function(e){e.PWT.safeFrameMessageListenerAdded||(s.addMessageEventListenerForSafeFrame(e),e.PWT.safeFrameMessageListenerAdded=!0)},t.validateAdUnitObject=function(e){return s.isObject(e)?s.isString(e.code)?s.isString(e.divId)?s.isString(e.adUnitId)?s.isString(e.adUnitIndex)?s.isObject(e.mediaTypes)?s.isObject(e.mediaTypes.banner)||s.isObject(e.mediaTypes.native)||s.isObject(e.mediaTypes.video)?!(s.isObject(e.mediaTypes.banner)&&!s.isArray(e.mediaTypes.banner.sizes)&&(s.logError("An anAdUnitObject.mediaTypes.banner should have a property named sizes and it should be an array",e),1)):(s.logError("An anAdUnitObject.mediaTypes should atleast have a property named banner or native or video and it should be an object",e),!1):(s.logError("An AdUnitObject should have a property named mediaTypes and it should be an object",e),!1):(s.logError("An AdUnitObject should have a property named adUnitIndex and it should be a string",e),!1):(s.logError("An AdUnitObject should have a property named adUnitId and it should be a string",e),!1):(s.logError("An AdUnitObject should have a property named divId and it should be a string",e),!1):(s.logError("An AdUnitObject should have a property named code and it should be a string",e),!1):(s.logError("An AdUnitObject should be an object",e),!1)},t.getAdSlotSizesArray=function(e){if(e&&e.mediaTypes){if(e.mediaTypes.banner&&s.isArray(e.mediaTypes.banner.sizes))return e.mediaTypes.banner.sizes;if(e.mediaTypes.video&&!(s.isArray(e.mediaTypes.video.playerSize)||e.mediaTypes.video.w&&e.mediaTypes.video.h))return s.logError("For slot video playersize or w,h is not defined and may not request bids from SSP for this slot. "+JSON.stringify(e)),[];if(e.mediaTypes.native||e.mediaTypes.video)return e.sizes}return[]},t.findWinningBidAndGenerateTargeting=function(e){var t,i=(t=!0===p?u.getBid(e):d.getBid(e)).wb||null,n=t.kvp||null,r=l?{}:a.IGNORE_PREBID_KEYS;!1===p&&i&&i.getNetEcpm()>0&&d.setStandardKeys(i,n),s.forEachOnObject(n,(function(e){s.isOwnProperty(r,e)||s.isOwnProperty({pwtpb:1},e)||i&&"pubmatic"!==i.adapterID&&s.isOwnProperty({hb_buyid_pubmatic:1,pwtbuyid_pubmatic:1},e)?delete n[e]:f.defineWrapperTargetingKey(e)}));var o=null;return i&&((o={}).adHtml=i.adHtml,o.adapterID=i.adapterID,o.grossEcpm=i.grossEcpm,o.netEcpm=i.netEcpm,o.height=i.height,o.width=i.width),{wb:o,kvp:n}},t.origCustomServerExposedAPI=function(e,t){if(!s.isArray(e))return s.error("First argument to PWT.requestBids API, arrayOfAdUnits is mandatory and it should be an array."),void t(e);if(s.isFunction(t)){var i=[],n={},r=[];if(s.forEachOnArray(e,(function(e,t){if(f.validateAdUnitObject(t)){var o=t.code,a=c.createSlot(o);window.PWT.adUnits=window.PWT.adUnits||{},window.PWT.adUnits[o]=t,a.setDivID(t.divId||o),a.setPubAdServerObject(t),a.setAdUnitID(t.adUnitId||""),a.setAdUnitIndex(t.adUnitIndex||0),a.setSizes(f.getAdSlotSizesArray(t)),i.push(a),n[a.getDivID()]=a.getName(),r.push(a.getDivID()),s.createVLogInfoPanel(a.getDivID(),a.getSizes())}})),0==i.length)return s.error("There are no qualifyingSlots, so not calling bidders."),void t(e);u.fetchBids(i);var a=Date.now()+o.getTimeout(),l=window.setInterval((function(){if(d.getAllPartnersBidStatuses(window.PWT.bidMap,r)||Date.now()>=a){clearInterval(l),!1===p&&setTimeout((function(){d.executeAnalyticsPixel()}),2e3);var i={};s.forEachOnArray(r,(function(e,t){var r=n[t];i[r]=f.findWinningBidAndGenerateTargeting(t),setTimeout(s.realignVLogInfoPanel,1e3,t)})),s.forEachOnArray(e,(function(e,t){i.hasOwnProperty(t.code)&&(t.bidData=i[t.code])})),t(e)}}),10)}else s.error("Second argument to PWT.requestBids API, callBackFunction is mandatory and it should be a function.")},t.customServerExposedAPI=function(e,t){window.PWT.isSyncAuction?f.origCustomServerExposedAPI(e,t):setTimeout((function(){f.origCustomServerExposedAPI(e,t)}),0)},t.generateConfForGPT=function(e){var t=[];return s.isArray(e)?(s.forEachOnArray(e,(function(e,i){var n="",r="",o="",a=[],d="";if(s.isObject(i)){if(s.isFunction(i.getAdUnitPath)&&(n=i.getAdUnitPath()),s.isFunction(i.getSlotId)){var c=i.getSlotId();r=""+f.getAdUnitIndex(i),c&&s.isFunction(c.getDomId)&&(d=o=c.getDomId())}s.isFunction(i.getSizes)&&s.forEachOnArray(i.getSizes(window.innerWidth,window.innerHeight),(function(e,t){s.isFunction(t.getWidth)&&s.isFunction(t.getHeight)?a.push([t.getWidth(),t.getHeight()]):(s.log(o+", size object does not have getWidth and getHeight method. Ignoring: "),s.log(t))}))}t.push({code:d,divId:o,adUnitId:n,adUnitIndex:r,mediaTypes:s.getAdUnitConfig(a,i).mediaTypeObject,sizes:a})})),t):(s.error("first argument to generateConfForGPT should be an array"),t)},t.addKeyValuePairsToGPTSlots=n,t.removeKeyValuePairsFromGPTSlots=r,t.init=function(e){return o.initConfig(),!!s.isObject(e)&&(f.setWindowReference(e),f.initSafeFrameListener(e),u.initPbjsConfig(),e.PWT.requestBids=f.customServerExposedAPI,e.PWT.generateConfForGPT=f.generateConfForGPT,e.PWT.addKeyValuePairsToGPTSlots=n,e.PWT.removeKeyValuePairsFromGPTSlots=r,f.wrapperTargetingKeys=f.defineWrapperTargetingKeys(a.WRAPPER_TARGETING_KEYS),!0)}}),(function(e,t,i){function n(e){this.name=e,this.status=r.SLOT_STATUS.CREATED,this.divID="",this.adUnitID="",this.adUnitIndex=0,this.sizes=[],this.keyValues={},this.arguments=[],this.pubAdServerObject=null,this.displayFunctionCalled=!1,this.refreshFunctionCalled=!1}var r=i(0);n.prototype.getName=function(){return this.name},n.prototype.setStatus=function(e){return this.status=e,this},n.prototype.getStatus=function(){return this.status},n.prototype.setDivID=function(e){return this.divID=e,this},n.prototype.getDivID=function(){return this.divID},n.prototype.setAdUnitID=function(e){return this.adUnitID=e,this},n.prototype.getAdUnitID=function(){return this.adUnitID},n.prototype.setAdUnitIndex=function(e){return this.adUnitIndex=e,this},n.prototype.getAdUnitIndex=function(){return this.adUnitIndex},n.prototype.setSizes=function(e){return this.sizes=e,this},n.prototype.getSizes=function(){return this.sizes},n.prototype.setKeyValue=function(e,t){return this.keyValues[e]=t,this},n.prototype.setKeyValues=function(e){return this.keyValues=e,this},n.prototype.getkeyValues=function(){return this.keyValues},n.prototype.setArguments=function(e){return this.arguments=e,this},n.prototype.getArguments=function(){return this.arguments},n.prototype.setPubAdServerObject=function(e){return this.pubAdServerObject=e,this},n.prototype.getPubAdServerObject=function(){return this.pubAdServerObject},n.prototype.setDisplayFunctionCalled=function(e){return this.displayFunctionCalled=e,this},n.prototype.isDisplayFunctionCalled=function(){return this.displayFunctionCalled},n.prototype.setRefreshFunctionCalled=function(e){return this.refreshFunctionCalled=e,this},n.prototype.isRefreshFunctionCalled=function(){return this.refreshFunctionCalled},n.prototype.updateStatusAfterRendering=function(e){this.status=r.SLOT_STATUS.DISPLAYED,this.arguments=[],e?this.refreshFunctionCalled=!1:this.displayFunctionCalled=!1},e.exports.Slot=n,t.createSlot=function(e){return new n(e)}}),(function(){!(function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)})([(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEmptyIframe=function(e,t){var i=document.createElement("iframe");return i.setAttribute("frameborder",0),i.setAttribute("scrolling","no"),i.setAttribute("marginheight",0),i.setAttribute("marginwidth",0),i.setAttribute("TOPMARGIN",0),i.setAttribute("LEFTMARGIN",0),i.setAttribute("allowtransparency","true"),i.setAttribute("width",t),i.setAttribute("height",e),i},t.insertElement=function(e,t,i){var n;t=t||document,n=i?t.getElementsByTagName(i):t.getElementsByTagName("head");try{(n=n.length?n:t.getElementsByTagName("body")).length&&(n=n[0]).insertBefore(e,n.firstChild)}catch(e){}}}),(function(e,t,i){"use strict";var n=i(2),r=i(5);window.ucTag=window.ucTag||{};var o=r.newEnvironment(window),a=n.newRenderingManager(window,o);window.ucTag.renderAd=a.renderAd}),(function(e,t,i){"use strict";function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function r(e){if(e&&e.__esModule)return e;var t=n();if(t&&t.has(e))return t.get(e);var i={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}}return i.default=e,t&&t.set(e,i),i}Object.defineProperty(t,"__esModule",{value:!0}),t.newRenderingManager=function(e,t){function i(i){if(i){var n=i.split("x").map(Number);!(function(i,n){if(t.isSafeFrame()){var r=e.innerWidth,o=e.innerHeight;r===i&&o===n||(e.$sf.ext.register(i,n,(function(){var t=i-r,a=n-o;e.$sf.ext.expand({r:t,b:a,push:!0})})),e.parent.postMessage({sentinel:"amp",type:"embed-size",width:i,height:n},"*"))}})(n[0],n[1])}else console.log("Targeting key hb_size not found to resize creative")}function n(t,n,a,c,u,p){var l=2<arguments.length&&void 0!==a?a:"",g=3<arguments.length?c:void 0,f=4<arguments.length?u:void 0,m=5<arguments.length?p:void 0,h="Prebid_";if(l.substr(0,h.length)===h)!(function(t){var i=e.localStorage.getItem(t);r(!0)(i)})(l),i(g);else{var E="".concat(function(e,t){var i=void 0===t||""===t?d:t;return"https://".concat(void 0===e||""===e?s:e).concat(i)}(t,n),"?uuid=").concat(l);i(g),o.sendRequest(E,r(m,f))}}function r(t,i){return function(n){var r=(function(e){var t;try{t=JSON.parse(e)}catch(e){console.log("Error parsing response from cache host: ".concat(e))}return t})(n),s=r.price||i,d=o.getCreativeCommentMarkup(r),u=r.width?r.width:r.w,p=r.height?r.height:r.h;if(r.wurl&&o.triggerPixel(decodeURIComponent(r.wurl)),r.adm){if(r.adm=s?r.adm.replace("${AUCTION_PRICE}",s):r.adm.replace("${AUCTION_PRICE}",""),d+=t?c(r.adm,u,p):r.adm,r.nurl&&(d+=o.createTrackPixelHtml(decodeURIComponent(r.nurl))),r.burl){var l=function(){o.triggerPixel(r.burl)};t?o.loadScript(e,"mraid.js",(function(){!(function(t){function i(e){e>0&&(mraid.removeEventListener("exposureChange",i),t())}function n(e){e&&(mraid.removeEventListener("viewableChange",n),t())}function r(){e.MRAID_ENV&&3<=parseFloat(e.MRAID_ENV.version)?mraid.addEventListener("exposureChange",i):e.MRAID_ENV&&parseFloat(e.MRAID_ENV.version)<3&&(mraid.isViewable()?t():mraid.addEventListener("viewableChange",n))}return!(!e.mraid||!e.MRAID_ENV||("loading"==mraid.getState()?mraid.addEventListener("ready",(function o(){mraid.removeEventListener("ready",o),r()})):r(),0))})(l)&&l()}),l):l()}o.writeAdHtml(d)}else if(r.nurl)if(t)d+=c(o.loadScript(e,r.nurl).outerHTML,u,p),o.writeAdHtml(d);else{var g=r.nurl,f=o.getCreativeComment(r);a.insertElement(f,document,"body"),o.writeAdUrl(g,u,p)}}}function c(e,t,i){var n=o.getUUID();return'<div id="'.concat(n,'" style="border-style: none; position: absolute; width:100%; height:100%;">\n      <div id="').concat(n,'_inner" style="margin: 0 auto; width:').concat(t,"px; height:").concat(i,'px; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">').concat(e,"</div>\n      </div>")}return{renderAd:function(i,r){var s=o.transformAuctionTargetingData(r);t.isMobileApp(s.env)?n(s.cacheHost,s.cachePath,s.uuid,s.size,s.hbPb,!0):t.isAmp(s.uuid)?n(s.cacheHost,s.cachePath,s.uuid,s.size,s.hbPb):t.canLocatePrebid()?(function(t,i){for(var n=e,r=0;10>r;r++)if((n=n.parent).pbjs)try{n.pbjs.renderAd(t,i);break}catch(t){continue}})(i,s.adId):(function(t,i,n){function r(i){var n=i.message?"message":"data",r={};try{r=JSON.parse(i[n])}catch(i){return}var o=i.origin||i.originalEvent.origin;if(r.message&&"Prebid Response"===r.message&&l===o&&r.adId===t&&(r.ad||r.adUrl)){var s=e.document.body,d=r.ad,c=r.adUrl,u=r.width,p=r.height;if("video"===r.mediaType)console.log("Error trying to write ad.");else if(d){var g=a.getEmptyIframe(r.height,r.width);s.appendChild(g),g.contentDocument.open(),g.contentDocument.write(d),g.contentDocument.close()}else if(c){var f=a.getEmptyIframe(p,u);f.style.display="inline",f.style.overflow="hidden",f.src=c,a.insertElement(f,document,"body")}else console.log("Error trying to write ad. No ad for bid response id: ".concat(id))}}var s,d=1<arguments.length&&void 0!==i?i:"",c=2<arguments.length?n:void 0,u=e.location,p=o.parseUrl(c),l=p.protocol+"://"+p.host,g=d||e.location.hostname,f=u.protocol+"//"+g;e.addEventListener("message",r,!1),s=JSON.stringify({message:"Prebid Request",adId:t,adServerDomain:f}),e.parent.postMessage(s,l)})(s.adId,s.adServerDomain,s.pubUrl)}}};var o=r(i(3)),a=r(i(0)),s="prebid.adnxs.com",d="/pbc/v1/cache"}),(function(e,t,i){"use strict";function n(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function r(e){return n(e,"String")}Object.defineProperty(t,"__esModule",{value:!0}),t.triggerPixel=function(e,t){var i=new Image;t&&"function"==typeof t&&(i.addEventListener("load",t),i.addEventListener("error",t)),i.src=e},t.createTrackPixelHtml=function(e){if(!e)return"";var t=encodeURI(e);return'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'.concat(t,'"></div>')},t.writeAdUrl=function(e,t,i){var n=o.getEmptyIframe(i,t);n.src=e,document.body.appendChild(n)},t.writeAdHtml=function(e){a(document.body,e,{error:console.error})},t.sendRequest=function(e,t){var i=new XMLHttpRequest;i.addEventListener("load",(function(){t(i.responseText)})),i.open("GET",e),i.send()},t.getUUID=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?i:3&i|8).toString(16)}))},t.loadScript=function(e,t,i,n){var r=e.document,o=r.createElement("script");o.type="text/javascript",i&&"function"==typeof i&&(o.readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,i())}:o.onload=function(){i()}),n&&"function"==typeof n&&(o.onerror=function(){n()}),o.src=t;var a=r.getElementsByTagName("head");return(a=a.length?a:r.getElementsByTagName("body")).length&&(a=a[0]).insertBefore(o,a.firstChild),o},t.getCreativeComment=function(e){return document.createComment("Creative ".concat(e.crid," served by Prebid.js Header Bidding"))},t.getCreativeCommentMarkup=function(e){var i=t.getCreativeComment(e),n=document.createElement("div");return n.appendChild(i),n.innerHTML},t.transformAuctionTargetingData=function(e){function t(t){return!(!e[t]||!(function(e){return n(e,"Object")}(e[t])&&0<Object.keys(e[t]).length||r(e[t])&&""!==e[t]))}var i={hb_adid:"adId",hb_cache_host:"cacheHost",hb_cache_path:"cachePath",hb_cache_id:"uuid",hb_format:"mediaType",hb_env:"env",hb_size:"size",hb_pb:"hbPb"},o={},a={};return t("targetingMap")?a=(function(e){var t={};return Object.keys(e).forEach((function(i){Array.isArray(e[i])&&0<e[i].length&&(t[i]=e[i][0])})),t})(e.targetingMap):t("targetingKeywords")&&(a=(function(e){var t={},i=e.split(",");return 0<i.length&&i.forEach((function(e){var i=e.split(":");if(2===i.length){var n=i[0],r=i[1];t[n]=r}})),t})(e.targetingKeywords)),(function(e){Object.keys(e).forEach((function(t){o[i[t]||t]=e[t]}))})(a),Object.keys(e).forEach((function(t){"targetingMap"!==t&&"targetingKeywords"!==t&&r(e[t])&&""!==e[t]&&(o[t]=e[t])})),o},t.parseUrl=function(e){var t=document.createElement("a");return t.href=decodeURIComponent(e),{href:t.href,protocol:(t.protocol||"").replace(/:$/,""),hostname:t.hostname,port:+t.port,pathname:t.pathname.replace(/^(?!\/)/,"/"),hash:(t.hash||"").replace(/^#/,""),host:(t.host||window.location.host).replace(/:(443|80)$/,"")}};var o=(function(e){if(e&&e.__esModule)return e;var t=(function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e})();if(t&&t.has(e))return t.get(e);var i={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=n?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(i,r,o):i[r]=e[r]}}return i.default=e,t&&t.set(e,i),i})(i(0)),a=i(4)}),(function(e){var t;t=function(){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}return i={},e.m=t=[function(e,t,i){"use strict";var n,r=(n=i(1))&&n.__esModule?n:{"default":n};e.exports=r.default},function(e,t,i){"use strict";function n(){}function r(e,t,i){if(d.isFunction(i))i={done:i};else if("clear"===i)return p=[],l=null,void(u=0);i=d.defaults(i,c);var a=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,i];return e.postscribe={cancel:function(){a.stream?a.stream.abort():a[1]=n}},i.beforeEnqueue(a),p.push(a),l||(function g(){var e=p.shift();if(e){var t=d.last(e);t.afterDequeue(),e.stream=function(e,t,i){function a(e){e=i.beforeWrite(e),l.write(e),i.afterWrite(e)}(l=new s.default(e,i)).id=u++,l.name=i.name||l.id,r.streams[l.name]=l;var d=e.ownerDocument,c={close:d.close,open:d.open,write:d.write,writeln:d.writeln};o(d,{close:n,open:n,write:function(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];return a(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];return a(t.join("")+"\n")}});var p=l.win.onerror||n;return l.win.onerror=function(e,t,n){i.error({msg:e+" - "+t+": "+n}),p.apply(l.win,[e,t,n])},l.write(t,(function(){o(d,c),l.win.onerror=p,i.done(),l=null,g()})),l}.apply(void 0,e),t.afterStreamStart()}})(),e.postscribe}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};t.default=r;var a,s=(a=i(2))&&a.__esModule?a:{"default":a},d=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t})(i(4)),c={afterAsync:n,afterDequeue:n,afterStreamStart:n,afterWrite:n,autoFix:!0,beforeEnqueue:n,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:n,error:function(e){throw new Error(e.msg)},releaseAsync:!1},u=0,p=[],l=null;o(r,{streams:{},queue:p,WriteStream:s.default})},function(e,t,i){"use strict";function n(e,t){var i=u+t,n=e.getAttribute(i);return c.existy(n)?String(n):n}function r(e,t,i){var n=2<arguments.length&&void 0!==i?i:null,r=u+t;c.existy(n)&&""!==n?e.setAttribute(r,n):e.removeAttribute(r)}function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,o),this.root=e,this.options=t,this.doc=e.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new d.default("",{autoFix:t.autoFix}),this.actuals=[e],this.proxyHistory="",this.proxyRoot=this.doc.createElement(e.nodeName),this.scriptStack=[],this.writeQueue=[],r(this.proxyRoot,"proxyof",0)}t.__esModule=!0;var a,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},d=(a=i(3))&&a.__esModule?a:{"default":a},c=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t})(i(4)),u="data-ps-",p="ps-style",l="ps-script",g=(o.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();c.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},o.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},o.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,i=void 0,n=void 0,r=[];(t=this.parser.readToken())&&!(i=c.isScript(t))&&!(n=c.isStyle(t));)(t=this.options.beforeWriteToken(t))&&r.push(t);0<r.length&&this._writeStaticTokens(r),i&&this._handleScriptToken(t),n&&this._handleStyleToken(t)},o.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,this._walkChunk(),t):null},o.prototype._buildChunk=function(e){for(var t=this.actuals.length,i=[],n=[],r=[],o=e.length,a=0;o>a;a++){var s=e[a],d=s.toString();if(i.push(d),s.attrs){if(!/^noscript$/i.test(s.tagName)){var c=t++;n.push(d.replace(/(\/?>)/," "+u+"id="+c+" $1")),s.attrs.id!==l&&s.attrs.id!==p&&r.push("atomicTag"===s.type?"":"<"+s.tagName+" "+u+"proxyof="+c+(s.unary?" />":">"))}}else n.push(d),r.push("endTag"===s.type?d:"")}return{tokens:e,raw:i.join(""),actual:n.join(""),proxy:r.join("")}},o.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];c.existy(e=t.shift());){var i=1===e.nodeType;if(!i||!n(e,"proxyof")){i&&r(this.actuals[n(e,"id")]=e,"id");var o=e.parentNode&&n(e.parentNode,"proxyof");o&&this.actuals[o].appendChild(e)}t.unshift.apply(t,c.toArray(e.childNodes))}},o.prototype._handleScriptToken=function(e){var t=this,i=this.parser.clear();i&&this.writeQueue.unshift(i),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(function(){t._onScriptDone(e)})))},o.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},o.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,p),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},o.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),c.eachKey(e.attrs,(function(e,i){t.setAttribute(e,i)})),t},o.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var i=this.doc.getElementById(t);i&&i.parentNode.replaceChild(e,i)},o.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},o.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},o.prototype._writeScriptToken=function(e,t){var i=this._buildScript(e),n=this._shouldRelease(i),r=this.options.afterAsync;e.src&&(i.src=e.src,this._scriptLoadHandler(i,n?r:function(){t(),r()}));try{this._insertCursor(i,l),i.src&&!n||t()}catch(e){this.options.error(e),t()}},o.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return c.eachKey(e.attrs,(function(e,i){t.setAttribute(e,i)})),e.content&&(t.text=e.content),t},o.prototype._scriptLoadHandler=function(e,t){function i(){e=e.onload=e.onreadystatechange=e.onerror=null}function n(){i(),null!=t&&t(),t=null}function r(e){i(),a(e),null!=t&&t(),t=null}function o(e,t){var i=e["on"+t];null!=i&&(e["_on"+t]=i)}var a=this.options.error;
o(e,"load"),o(e,"error"),s(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){r({msg:"onload handler failed "+t+" @ "+e.src})}n()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void r({msg:"onerror handler failed "+t+" @ "+e.src})}r({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&n()}})},o.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},o);t.default=g},function(e){var t;t=function(){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}return i={},e.m=t=[function(e,t,i){"use strict";var n,r=(n=i(1))&&n.__esModule?n:{"default":n};e.exports=r.default},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,r),this.stream=t;var n=!1,o={};for(var s in a)a.hasOwnProperty(s)&&(i.autoFix&&(o[s+"Fix"]=!0),n=n||o[s+"Fix"]);n?(this._readToken=d.default(this,o,(function(){return e._readTokenImpl()})),this._peekToken=d.default(this,o,(function(){return e._peekTokenImpl()}))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}t.__esModule=!0;var o,a=n(i(2)),s=n(i(3)),d=(o=i(6))&&o.__esModule?o:{"default":o},c=i(5),u={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},p=(r.prototype.append=function(e){this.stream+=e},r.prototype.prepend=function(e){this.stream=e+this.stream},r.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();return e?(this.stream=this.stream.slice(e.length),e):void 0},r.prototype._peekTokenImpl=function(){for(var e in u)if(u.hasOwnProperty(e)&&u[e].test(this.stream)){var t=s[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},r.prototype.peekToken=function(){return this._peekToken()},r.prototype.readToken=function(){return this._readToken()},r.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},r.prototype.clear=function(){var e=this.stream;return this.stream="",e},r.prototype.rest=function(){return this.stream},r);for(var l in(t.default=p).tokenToString=function(e){return e.toString()},p.escapeAttributes=function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=c.escapeQuotes(e[i],null));return t},p.supports=a)a.hasOwnProperty(l)&&(p.browserHasFlaw=p.browserHasFlaw||!a[l]&&l)},function(e,t){"use strict";var i=!(t.__esModule=!0),n=!1,r=window.document.createElement("div");try{var o="<P><I></P></I>";r.innerHTML=o,t.tagSoup=i=r.innerHTML!==o}catch(e){t.tagSoup=i=!1}try{r.innerHTML="<P><i><P></P></i></P>",t.selfClose=n=2===r.childNodes.length}catch(e){t.selfClose=n=!1}r=null,t.tagSoup=i,t.selfClose=n},function(e,t,i){"use strict";function n(e){var t,i,n;if(-1!==e.indexOf(">")){var s=e.match(a.startTag);if(s){var d=(t={},i={},n=s[2],s[2].replace(a.attr,(function(e,r){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",i[arguments[5]]=!0):t[r]=arguments[2]||arguments[3]||arguments[4]||a.fillAttr.test(r)&&r||"":t[r]="",n=n.replace(e,"")})),{v:new o.StartTagToken(s[1],s[0].length,t,i,!!s[3],n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===d?"undefined":r(d)))return d.v}}}t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=function(e){var t=e.indexOf("-->");return t>=0?new o.CommentToken(e.substr(4,t-1),t+3):void 0},t.chars=function(e){var t=e.indexOf("<");return new o.CharsToken(t>=0?t:e.length)},t.startTag=n,t.atomicTag=function(e){var t=n(e);if(t){var i=e.slice(t.length);if(i.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var r=i.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(r)return new o.AtomicTagToken(t.tagName,r[0].length+t.length,t.attrs,t.booleanAttrs,r[1])}}},t.endTag=function(e){var t=e.match(a.endTag);return t?new o.EndTagToken(t[1],t[0].length):void 0};var o=i(4),a={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){n(this,r),this.type="comment",this.length=t||(e?e.length:0),this.text="",this.content=e}function o(e){n(this,o),this.type="chars",this.length=e,this.text=""}function a(e,t,i,r,o){n(this,a),this.type=e,this.length=i,this.text="",this.tagName=t,this.attrs=r,this.booleanAttrs=o,this.unary=!1,this.html5Unary=!1}function s(e,t,i,r,o,a){n(this,s),this.type="startTag",this.length=t,this.text="",this.tagName=e,this.attrs=i,this.booleanAttrs=r,this.html5Unary=!1,this.unary=o,this.rest=a}function d(e,t,i,r,o){n(this,d),this.type="atomicTag",this.length=t,this.text="",this.tagName=e,this.attrs=i,this.booleanAttrs=r,this.unary=!1,this.html5Unary=!1,this.content=o}function c(e,t){n(this,c),this.type="endTag",this.length=t,this.text="",this.tagName=e}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var u=i(5);t.Token=function l(e,t){n(this,l),this.type=e,this.length=t,this.text=""},t.CommentToken=(r.prototype.toString=function(){return"<!--"+this.content},r),t.CharsToken=(o.prototype.toString=function(){return this.text},o);var p=t.TagToken=(a.formatTag=function(e,t){var i=1<arguments.length&&void 0!==t?t:null,n="<"+e.tagName;for(var r in e.attrs)if(e.attrs.hasOwnProperty(r)){n+=" "+r;var o=e.attrs[r];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[r]||(n+='="'+u.escapeQuotes(o)+'"')}return e.rest&&(n+=" "+e.rest),n+=e.unary&&!e.html5Unary?"/>":">",null!=i&&(n+=i+"</"+e.tagName+">"),n},a);t.StartTagToken=(s.prototype.toString=function(){return p.formatTag(this)},s),t.AtomicTagToken=(d.prototype.toString=function(){return p.formatTag(this,this.content)},d),t.EndTagToken=(c.prototype.toString=function(){return"</"+this.tagName+">"},c)},function(e,t){"use strict";t.__esModule=!0,t.escapeQuotes=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,(function(e,t){return/\\/.test(t)?t+'"':t+'\\"'})):t}},function(e,t){"use strict";function i(e){return e&&"startTag"===e.type&&(e.unary=r.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function n(e,t){var i=t.pop();e.prepend("</"+i.tagName+">")}t.__esModule=!0,t.default=function(e,t,r){function a(){var t=(function(e,t){var n=e.stream,r=i(t());return e.stream=n,r})(e,r);t&&d[t.type]&&d[t.type](t)}var s=(function(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,i=0;t=this[i];i++)if(t.tagName===e)return!0;return!1},e})(),d={startTag:function(i){var r=i.tagName;"TR"===r.toUpperCase()&&s.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),a()):t.selfCloseFix&&o.test(r)&&s.containsTagName(r)?s.lastTagNameEq(r)?n(e,s):(e.prepend("</"+i.tagName+">"),a()):i.unary||s.push(i)},endTag:function(i){s.last()?t.tagSoupFix&&!s.lastTagNameEq(i.tagName)?n(e,s):s.pop():t.tagSoupFix&&(r(),a())}};return function(){return a(),i(r())}};var r=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,o=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}],e.c=i,e.p="",e(0);var t,i},e.exports=t()},function(e,t){"use strict";function i(e){return null!=e}function n(e,t,i){var n=void 0,r=e&&e.length||0;for(n=0;r>n;n++)t.call(i,e[n],n)}function r(e,t,i){for(var n in e)e.hasOwnProperty(n)&&t.call(i,n,e[n])}function o(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}t.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=i,t.isFunction=function(e){return"function"==typeof e},t.each=n,t.eachKey=r,t.defaults=function(e,t){return e=e||{},r(t,(function(t,n){i(e[t])||(e[t]=n)})),e},t.toArray=function(e){try{return Array.prototype.slice.call(e)}catch(t){var i=(function(){var t=[];return n(e,(function(e){t.push(e)})),{v:t}})();if("object"===(void 0===i?"undefined":a(i)))return i.v}},t.last=function(e){return e[e.length-1]},t.isTag=o,t.isScript=function(e){return o(e,"script")},t.isStyle=function(e){return o(e,"style")}}],e.c=i,e.p="",e(0);var t,i},e.exports=t()}),(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newEnvironment=function(e){function t(){return e.top!==e&&!(function(e){try{return e.top.location.toString(),!0}catch(e){return!1}})(e)}return{isMobileApp:function(e){return e&&"mobile-app"===e},isCrossDomain:t,isSafeFrame:function(){return!(!e.$sf||!e.$sf.ext)},isAmp:function(e){return"string"==typeof e&&""!==e&&t()},canLocatePrebid:function(){for(var t=!1,i=e;!t;){try{if(i.pbjs){t=!0;break}}catch(t){}if(i===window.top)break;i=i.parent}return t}}}})])})]);