!(function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(i,r,function(t){return e[t]}.bind(null,r));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s="./src_new/owt.js")})({"./node_modules/prebid-universal-creative/dist/creative.js":function(){!(function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)})([(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEmptyIframe=function(e,t){var n=document.createElement("iframe");return n.setAttribute("frameborder",0),n.setAttribute("scrolling","no"),n.setAttribute("marginheight",0),n.setAttribute("marginwidth",0),n.setAttribute("TOPMARGIN",0),n.setAttribute("LEFTMARGIN",0),n.setAttribute("allowtransparency","true"),n.setAttribute("width",t),n.setAttribute("height",e),n},t.insertElement=function(e,t,n){var i;t=t||document,i=n?t.getElementsByTagName(n):t.getElementsByTagName("head");try{(i=i.length?i:t.getElementsByTagName("body")).length&&(i=i[0]).insertBefore(e,i.firstChild)}catch(e){}}}),(function(e,t,n){"use strict";var i=n(2),r=n(5);window.ucTag=window.ucTag||{};var o=r.newEnvironment(window),a=i.newRenderingManager(window,o);window.ucTag.renderAd=a.renderAd}),(function(e,t,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function r(e){if(e&&e.__esModule)return e;var t=i();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}}return n.default=e,t&&t.set(e,n),n}Object.defineProperty(t,"__esModule",{value:!0}),t.newRenderingManager=function(e,t){function n(n){if(n){var i=n.split("x").map(Number);!(function(n,i){if(t.isSafeFrame()){var r=e.innerWidth,o=e.innerHeight;r===n&&o===i||(e.$sf.ext.register(n,i,(function(){var t=n-r,a=i-o;e.$sf.ext.expand({r:t,b:a,push:!0})})),e.parent.postMessage({sentinel:"amp",type:"embed-size",width:n,height:i},"*"))}})(i[0],i[1])}else console.log("Targeting key hb_size not found to resize creative")}function i(t,i,a,c,u,p){var l=2<arguments.length&&void 0!==a?a:"",g=3<arguments.length?c:void 0,f=4<arguments.length?u:void 0,m=5<arguments.length?p:void 0,w="Prebid_";if(l.substr(0,w.length)===w)!(function(t){var n=e.localStorage.getItem(t);r(!0)(n)})(l),n(g);else{var h="".concat(function(e,t){var n=void 0===t||""===t?d:t;return"https://".concat(void 0===e||""===e?s:e).concat(n)}(t,i),"?uuid=").concat(l);n(g),o.sendRequest(h,r(m,f))}}function r(t,n){return function(i){var r=(function(e){var t;try{t=JSON.parse(e)}catch(e){console.log("Error parsing response from cache host: ".concat(e))}return t})(i),s=r.price||n,d=o.getCreativeCommentMarkup(r),u=r.width?r.width:r.w,p=r.height?r.height:r.h;if(r.wurl&&o.triggerPixel(decodeURIComponent(r.wurl)),r.adm){if(r.adm=s?r.adm.replace("${AUCTION_PRICE}",s):r.adm.replace("${AUCTION_PRICE}",""),d+=t?c(r.adm,u,p):r.adm,r.nurl&&(d+=o.createTrackPixelHtml(decodeURIComponent(r.nurl))),r.burl){var l=function(){o.triggerPixel(r.burl)};t?o.loadScript(e,"mraid.js",(function(){!(function(t){function n(e){e>0&&(mraid.removeEventListener("exposureChange",n),t())}function i(e){e&&(mraid.removeEventListener("viewableChange",i),t())}function r(){e.MRAID_ENV&&3<=parseFloat(e.MRAID_ENV.version)?mraid.addEventListener("exposureChange",n):e.MRAID_ENV&&parseFloat(e.MRAID_ENV.version)<3&&(mraid.isViewable()?t():mraid.addEventListener("viewableChange",i))}return!(!e.mraid||!e.MRAID_ENV||("loading"==mraid.getState()?mraid.addEventListener("ready",(function o(){mraid.removeEventListener("ready",o),r()})):r(),0))})(l)&&l()}),l):l()}o.writeAdHtml(d)}else if(r.nurl)if(t)d+=c(o.loadScript(e,r.nurl).outerHTML,u,p),o.writeAdHtml(d);else{var g=r.nurl,f=o.getCreativeComment(r);a.insertElement(f,document,"body"),o.writeAdUrl(g,u,p)}}}function c(e,t,n){var i=o.getUUID();return'<div id="'.concat(i,'" style="border-style: none; position: absolute; width:100%; height:100%;">\n      <div id="').concat(i,'_inner" style="margin: 0 auto; width:').concat(t,"px; height:").concat(n,'px; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">').concat(e,"</div>\n      </div>")}return{renderAd:function(n,r){var s=o.transformAuctionTargetingData(r);t.isMobileApp(s.env)?i(s.cacheHost,s.cachePath,s.uuid,s.size,s.hbPb,!0):t.isAmp(s.uuid)?i(s.cacheHost,s.cachePath,s.uuid,s.size,s.hbPb):t.canLocatePrebid()?(function(t,n){for(var i=e,r=0;10>r;r++)if((i=i.parent).pbjs)try{i.pbjs.renderAd(t,n);break}catch(t){continue}})(n,s.adId):(function(t,n,i){function r(n){var i=n.message?"message":"data",r={};try{r=JSON.parse(n[i])}catch(n){return}var o=n.origin||n.originalEvent.origin;if(r.message&&"Prebid Response"===r.message&&l===o&&r.adId===t&&(r.ad||r.adUrl)){var s=e.document.body,d=r.ad,c=r.adUrl,u=r.width,p=r.height;if("video"===r.mediaType)console.log("Error trying to write ad.");else if(d){var g=a.getEmptyIframe(r.height,r.width);s.appendChild(g),g.contentDocument.open(),g.contentDocument.write(d),g.contentDocument.close()}else if(c){var f=a.getEmptyIframe(p,u);f.style.display="inline",f.style.overflow="hidden",f.src=c,a.insertElement(f,document,"body")}else console.log("Error trying to write ad. No ad for bid response id: ".concat(id))}}var s,d=1<arguments.length&&void 0!==n?n:"",c=2<arguments.length?i:void 0,u=e.location,p=o.parseUrl(c),l=p.protocol+"://"+p.host,g=d||e.location.hostname,f=u.protocol+"//"+g;e.addEventListener("message",r,!1),s=JSON.stringify({message:"Prebid Request",adId:t,adServerDomain:f}),e.parent.postMessage(s,l)})(s.adId,s.adServerDomain,s.pubUrl)}}};var o=r(n(3)),a=r(n(0)),s="prebid.adnxs.com",d="/pbc/v1/cache"}),(function(e,t,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function r(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function o(e){return r(e,"String")}Object.defineProperty(t,"__esModule",{value:!0}),t.triggerPixel=function(e,t){var n=new Image;t&&"function"==typeof t&&(n.addEventListener("load",t),n.addEventListener("error",t)),n.src=e},t.createTrackPixelHtml=function(e){if(!e)return"";var t=encodeURI(e);return'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'.concat(t,'"></div>')},t.writeAdUrl=function(e,t,n){var i=a.getEmptyIframe(n,t);i.src=e,document.body.appendChild(i)},t.writeAdHtml=function(e){s(document.body,e,{error:console.error})},t.sendRequest=function(e,t){var n=new XMLHttpRequest;n.addEventListener("load",(function(){t(n.responseText)})),n.open("GET",e),n.send()},t.getUUID=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))},t.loadScript=function(e,t,n,i){var r=e.document,o=r.createElement("script");o.type="text/javascript",n&&"function"==typeof n&&(o.readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,n())}:o.onload=function(){n()}),i&&"function"==typeof i&&(o.onerror=function(){i()}),o.src=t;var a=r.getElementsByTagName("head");return(a=a.length?a:r.getElementsByTagName("body")).length&&(a=a[0]).insertBefore(o,a.firstChild),o},t.getCreativeComment=function(e){return document.createComment("Creative ".concat(e.crid," served by Prebid.js Header Bidding"))},t.getCreativeCommentMarkup=function(e){var n=t.getCreativeComment(e),i=document.createElement("div");return i.appendChild(n),i.innerHTML},t.transformAuctionTargetingData=function(e){function t(t){return!(!e[t]||!(function(e){return r(e,"Object")}(e[t])&&0<Object.keys(e[t]).length||o(e[t])&&""!==e[t]))}var n={hb_adid:"adId",hb_cache_host:"cacheHost",hb_cache_path:"cachePath",hb_cache_id:"uuid",hb_format:"mediaType",hb_env:"env",hb_size:"size",hb_pb:"hbPb"},i={},a={};return t("targetingMap")?a=(function(e){var t={};return Object.keys(e).forEach((function(n){Array.isArray(e[n])&&0<e[n].length&&(t[n]=e[n][0])})),t})(e.targetingMap):t("targetingKeywords")&&(a=(function(e){var t={},n=e.split(",");return 0<n.length&&n.forEach((function(e){var n=e.split(":");if(2===n.length){var i=n[0],r=n[1];t[i]=r}})),t})(e.targetingKeywords)),(function(e){Object.keys(e).forEach((function(t){i[n[t]||t]=e[t]}))})(a),Object.keys(e).forEach((function(t){"targetingMap"!==t&&"targetingKeywords"!==t&&o(e[t])&&""!==e[t]&&(i[t]=e[t])})),i},t.parseUrl=function(e){var t=document.createElement("a");return t.href=decodeURIComponent(e),{href:t.href,protocol:(t.protocol||"").replace(/:$/,""),hostname:t.hostname,port:+t.port,pathname:t.pathname.replace(/^(?!\/)/,"/"),hash:(t.hash||"").replace(/^#/,""),host:(t.host||window.location.host).replace(/:(443|80)$/,"")}};var a=(function(e){if(e&&e.__esModule)return e;var t=i();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}}return n.default=e,t&&t.set(e,n),n})(n(0)),s=n(4)}),(function(e){var t;t=function(){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}return n={},e.m=t=[function(e,t,n){"use strict";var i,r=n(1),o=(i=r)&&i.__esModule?i:{"default":i};e.exports=o.default},function(e,t,n){"use strict";function i(){}function r(){var e=g.shift();if(e){var t=u.last(e);t.afterDequeue(),e.stream=function(e,t,n){function s(e){e=n.beforeWrite(e),f.write(e),n.afterWrite(e)}(f=new c.default(e,n)).id=l++,f.name=n.name||f.id,o.streams[f.name]=f;var d=e.ownerDocument,u={close:d.close,open:d.open,write:d.write,writeln:d.writeln};a(d,{close:i,open:i,write:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return s(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return s(t.join("")+"\n")}});var p=f.win.onerror||i;return f.win.onerror=function(e,t,i){n.error({msg:e+" - "+t+": "+i}),p.apply(f.win,[e,t,i])},f.write(t,(function(){a(d,u),f.win.onerror=p,n.done(),f=null,r()})),f}.apply(void 0,e),t.afterStreamStart()}}function o(e,t,n){if(u.isFunction(n))n={done:n};else if("clear"===n)return g=[],f=null,void(l=0);n=u.defaults(n,p);var o=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,n];return e.postscribe={cancel:function(){o.stream?o.stream.abort():o[1]=i}},n.beforeEnqueue(o),g.push(o),f||r(),e.postscribe}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=o;var s,d=n(2),c=(s=d)&&s.__esModule?s:{"default":s},u=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(n(4)),p={afterAsync:i,afterDequeue:i,afterStreamStart:i,afterWrite:i,autoFix:!0,beforeEnqueue:i,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:i,error:function(e){throw new Error(e.msg)},releaseAsync:!1},l=0,g=[],f=null;a(o,{streams:{},queue:g,WriteStream:c.default})},function(e,t,n){"use strict";function i(e,t){var n=p+t,i=e.getAttribute(n);return u.existy(i)?String(i):i}function r(e,t,n){var i=2<arguments.length&&void 0!==n?n:null,r=p+t;u.existy(i)&&""!==i?e.setAttribute(r,i):e.removeAttribute(r)}function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,o),this.root=e,this.options=t,this.doc=e.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new c.default("",{autoFix:t.autoFix}),this.actuals=[e],this.proxyHistory="",this.proxyRoot=this.doc.createElement(e.nodeName),this.scriptStack=[],this.writeQueue=[],r(this.proxyRoot,"proxyof",0)}t.__esModule=!0;var a,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},d=n(3),c=(a=d)&&a.__esModule?a:{"default":a},u=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(n(4)),p="data-ps-",l="ps-style",g="ps-script",f=(o.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();u.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},o.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},o.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,n=void 0,i=void 0,r=[];(t=this.parser.readToken())&&!(n=u.isScript(t))&&!(i=u.isStyle(t));)(t=this.options.beforeWriteToken(t))&&r.push(t);0<r.length&&this._writeStaticTokens(r),n&&this._handleScriptToken(t),i&&this._handleStyleToken(t)},o.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,this._walkChunk(),t):null},o.prototype._buildChunk=function(e){for(var t=this.actuals.length,n=[],i=[],r=[],o=e.length,a=0;o>a;a++){var s=e[a],d=s.toString();if(n.push(d),s.attrs){if(!/^noscript$/i.test(s.tagName)){var c=t++;i.push(d.replace(/(\/?>)/," "+p+"id="+c+" $1")),s.attrs.id!==g&&s.attrs.id!==l&&r.push("atomicTag"===s.type?"":"<"+s.tagName+" "+p+"proxyof="+c+(s.unary?" />":">"))}}else i.push(d),r.push("endTag"===s.type?d:"")}return{tokens:e,raw:n.join(""),actual:i.join(""),proxy:r.join("")}},o.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];u.existy(e=t.shift());){var n=1===e.nodeType;if(!n||!i(e,"proxyof")){n&&r(this.actuals[i(e,"id")]=e,"id");var o=e.parentNode&&i(e.parentNode,"proxyof");o&&this.actuals[o].appendChild(e)}t.unshift.apply(t,u.toArray(e.childNodes))}},o.prototype._handleScriptToken=function(e){var t=this,n=this.parser.clear();n&&this.writeQueue.unshift(n),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(function(){t._onScriptDone(e)})))},o.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},o.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,l),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},o.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),u.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),t},o.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var n=this.doc.getElementById(t);n&&n.parentNode.replaceChild(e,n)},o.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},o.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},o.prototype._writeScriptToken=function(e,t){var n=this._buildScript(e),i=this._shouldRelease(n),r=this.options.afterAsync;e.src&&(n.src=e.src,this._scriptLoadHandler(n,i?r:function(){t(),r()}));try{this._insertCursor(n,g),n.src&&!i||t()}catch(e){this.options.error(e),t()}},o.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return u.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),e.content&&(t.text=e.content),t},o.prototype._scriptLoadHandler=function(e,t){function n(){e=e.onload=e.onreadystatechange=e.onerror=null}function i(){n(),null!=t&&t(),t=null}function r(e){n(),a(e),null!=t&&t(),t=null}function o(e,t){var n=e["on"+t];null!=n&&(e["_on"+t]=n)}var a=this.options.error;o(e,"load"),o(e,"error"),s(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){r({msg:"onload handler failed "+t+" @ "+e.src})}t()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void r({msg:"onerror handler failed "+t+" @ "+e.src})}r({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&i()}})},o.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},o);t.default=f},function(e){var t;t=function(){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}return n={},e.m=t=[function(e,t,n){"use strict";var i,r=n(1),o=(i=r)&&i.__esModule?i:{"default":i};e.exports=o.default},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,r),this.stream=t;var i=!1,o={};for(var s in a)a.hasOwnProperty(s)&&(n.autoFix&&(o[s+"Fix"]=!0),i=i||o[s+"Fix"]);i?(this._readToken=c.default(this,o,(function(){return e._readTokenImpl()})),this._peekToken=c.default(this,o,(function(){return e._peekTokenImpl()}))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}t.__esModule=!0;var o,a=i(n(2)),s=i(n(3)),d=n(6),c=(o=d)&&o.__esModule?o:{"default":o},u=n(5),p={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},l=(r.prototype.append=function(e){this.stream+=e},r.prototype.prepend=function(e){this.stream=e+this.stream},r.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();return e?(this.stream=this.stream.slice(e.length),e):void 0},r.prototype._peekTokenImpl=function(){for(var e in p)if(p.hasOwnProperty(e)&&p[e].test(this.stream)){var t=s[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},r.prototype.peekToken=function(){return this._peekToken()},r.prototype.readToken=function(){return this._readToken()},r.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},r.prototype.clear=function(){var e=this.stream;return this.stream="",e},r.prototype.rest=function(){return this.stream},r);for(var g in(t.default=l).tokenToString=function(e){return e.toString()},l.escapeAttributes=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=u.escapeQuotes(e[n],null));return t},l.supports=a)a.hasOwnProperty(g)&&(l.browserHasFlaw=l.browserHasFlaw||!a[g]&&g)},function(e,t){"use strict";var n=!(t.__esModule=!0),i=!1,r=window.document.createElement("div");try{var o="<P><I></P></I>";r.innerHTML=o,t.tagSoup=n=r.innerHTML!==o}catch(e){t.tagSoup=n=!1}try{r.innerHTML="<P><i><P></P></i></P>",t.selfClose=i=2===r.childNodes.length}catch(e){t.selfClose=i=!1}r=null,t.tagSoup=n,t.selfClose=i},function(e,t,n){"use strict";function i(e){var t,n,i;if(-1!==e.indexOf(">")){var s=e.match(a.startTag);if(s){var d=(t={},n={},i=s[2],s[2].replace(a.attr,(function(e,r){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",n[arguments[5]]=!0):t[r]=arguments[2]||arguments[3]||arguments[4]||a.fillAttr.test(r)&&r||"":t[r]="",i=i.replace(e,"")})),{v:new o.StartTagToken(s[1],s[0].length,t,n,!!s[3],i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===d?"undefined":r(d)))return d.v}}}t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=function(e){var t=e.indexOf("-->");return t>=0?new o.CommentToken(e.substr(4,t-1),t+3):void 0},t.chars=function(e){var t=e.indexOf("<");return new o.CharsToken(t>=0?t:e.length)},t.startTag=i,t.atomicTag=function(e){var t=i(e);if(t){var n=e.slice(t.length);if(n.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var r=n.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(r)return new o.AtomicTagToken(t.tagName,r[0].length+t.length,t.attrs,t.booleanAttrs,r[1])}}},t.endTag=function(e){var t=e.match(a.endTag);return t?new o.EndTagToken(t[1],t[0].length):void 0};var o=n(4),a={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){i(this,r),this.type="comment",this.length=t||(e?e.length:0),this.text="",this.content=e}function o(e){i(this,o),this.type="chars",this.length=e,this.text=""}function a(e,t,n,r,o){i(this,a),this.type=e,this.length=n,this.text="",this.tagName=t,this.attrs=r,this.booleanAttrs=o,this.unary=!1,this.html5Unary=!1}function s(e,t,n,r,o,a){i(this,s),this.type="startTag",this.length=t,this.text="",this.tagName=e,this.attrs=n,this.booleanAttrs=r,this.html5Unary=!1,this.unary=o,this.rest=a}function d(e,t,n,r,o){i(this,d),this.type="atomicTag",this.length=t,this.text="",this.tagName=e,this.attrs=n,this.booleanAttrs=r,this.unary=!1,this.html5Unary=!1,this.content=o}function c(e,t){i(this,c),this.type="endTag",this.length=t,this.text="",this.tagName=e}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var u=n(5);t.Token=function l(e,t){i(this,l),this.type=e,this.length=t,this.text=""},t.CommentToken=(r.prototype.toString=function(){return"<!--"+this.content},r),t.CharsToken=(o.prototype.toString=function(){return this.text},o);var p=t.TagToken=(a.formatTag=function(e,t){var n=1<arguments.length&&void 0!==t?t:null,i="<"+e.tagName;for(var r in e.attrs)if(e.attrs.hasOwnProperty(r)){i+=" "+r;var o=e.attrs[r];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[r]||(i+='="'+u.escapeQuotes(o)+'"')}return e.rest&&(i+=" "+e.rest),i+=e.unary&&!e.html5Unary?"/>":">",null!=n&&(i+=n+"</"+e.tagName+">"),i},a);t.StartTagToken=(s.prototype.toString=function(){return p.formatTag(this)},s),t.AtomicTagToken=(d.prototype.toString=function(){return p.formatTag(this,this.content)},d),t.EndTagToken=(c.prototype.toString=function(){return"</"+this.tagName+">"},c)},function(e,t){"use strict";t.__esModule=!0,t.escapeQuotes=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,(function(e,t){return/\\/.test(t)?t+'"':t+'\\"'})):t}},function(e,t){"use strict";function n(e){return e&&"startTag"===e.type&&(e.unary=r.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function i(e,t){var n=t.pop();e.prepend("</"+n.tagName+">")}t.__esModule=!0,t.default=function(e,t,r){function a(){var t=(function(e,t){var i=e.stream,r=n(t());return e.stream=i,r})(e,r);t&&d[t.type]&&d[t.type](t)}var s=(function(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,n=0;t=this[n];n++)if(t.tagName===e)return!0;return!1},e})(),d={startTag:function(n){var r=n.tagName;"TR"===r.toUpperCase()&&s.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),a()):t.selfCloseFix&&o.test(r)&&s.containsTagName(r)?s.lastTagNameEq(r)?i(e,s):(e.prepend("</"+n.tagName+">"),a()):n.unary||s.push(n)},endTag:function(n){s.last()?t.tagSoupFix&&!s.lastTagNameEq(n.tagName)?i(e,s):s.pop():t.tagSoupFix&&(r(),a())}};return function(){return a(),n(r())}};var r=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,o=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}],e.c=n,e.p="",e(0);var t,n},e.exports=t()},function(e,t){"use strict";function n(e){return null!=e}function i(e,t,n){var i=void 0,r=e&&e.length||0;for(i=0;r>i;i++)t.call(n,e[i],i)}function r(e,t,n){for(var i in e)e.hasOwnProperty(i)&&t.call(n,i,e[i])}function o(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}t.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=n,t.isFunction=function(e){return"function"==typeof e},t.each=i,t.eachKey=r,t.defaults=function(e,t){return e=e||{},r(t,(function(t,i){n(e[t])||(e[t]=i)})),e},t.toArray=function(e){try{return Array.prototype.slice.call(e)}catch(t){var n=(function(){var t=[];return i(e,(function(e){t.push(e)})),{v:t}})();if("object"===(void 0===n?"undefined":a(n)))return n.v}},t.last=function(e){return e[e.length-1]},t.isTag=o,t.isScript=function(e){return o(e,"script")},t.isStyle=function(e){return o(e,"style")}}],e.c=n,e.p="",e(0);var t,n},e.exports=t()}),(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newEnvironment=function(e){function t(){return e.top!==e&&!(function(e){try{return e.top.location.toString(),!0}catch(e){return!1}})(e)}return{isMobileApp:function(e){return e&&"mobile-app"===e},isCrossDomain:t,isSafeFrame:function(){return!(!e.$sf||!e.$sf.ext)},isAmp:function(e){return"string"==typeof e&&""!==e&&t()},canLocatePrebid:function(){for(var t=!1,n=e;!t;){try{if(n.pbjs){t=!0;break}}catch(t){}if(n===window.top)break;n=n.parent}return t}}}})])},"./src_new/adapterEntry.js":function(e,t,n){function i(e){this.adapterID=e,this.callInitiatedTime=r.getCurrentTimestampInMs(),this.bids={},this.lastBidID=""}var r=n("./src_new/util.js");i.prototype.getCallInitiatedTime=function(){return this.callInitiatedTime},i.prototype.getLastBidID=function(){return this.lastBidID},i.prototype.getBid=function(e){return r.isOwnProperty(this.bids,e)?this.bids[e]:null},i.prototype.setNewBid=function(e){delete this.bids[this.lastBidID];var t=e.getBidID();this.bids[t]=e,this.lastBidID=t},e.exports.AdapterEntry=i},"./src_new/adapters/prebid.js":function(e,t,n){function i(e,t,n){var i=n||e.regexPattern||void 0,r=V.createBid(e.bidderCode,t),o=parseInt(e.pubmaticServerErrorCode);return W.getAdServerCurrency()&&(H.isOwnProperty(e,"originalCpm")||(e.originalCpm=e.cpm),H.isOwnProperty(e,"originalCurrency")||(e.originalCurrency=H.getCurrencyToDisplay())),e.status==j.BID_STATUS.BID_REJECTED?r.setGrossEcpm(e.originalCpm,e.originalCurrency,H.getCurrencyToDisplay(),e.status):r.setGrossEcpm(e.cpm),r.setDealID(e.dealId),r.setDealChannel(e.dealChannel),r.setAdHtml(e.ad||""),r.setAdUrl(e.adUrl||""),r.setWidth(e.width),r.setHeight(e.height),r.setMi(e.mi),e.videoCacheKey&&r.setVastCache(e.videoCacheKey),e.vastUrl&&r.setVastUrl(e.vastUrl),e.vastXml&&r.setVastUrl(e.vastUrl),e.renderer&&r.setRenderer(e.renderer),e.native&&r.setNative(e.native),i&&r.setRegexPattern(i),e.mediaType==j.FORMAT_VALUES.VIDEO&&(e.videoCacheKey&&r.setcacheUUID(e.videoCacheKey),r.updateBidId(e.adUnitCode)),e.mediaType&&(parseFloat(e.cpm)>0||e.status==j.BID_STATUS.BID_REJECTED)&&r.setAdFormat(e.adHtml,e.mediaType),e.sspID&&r.setsspID(e.sspID),r.setReceivedTime(e.responseTimestamp),r.setServerSideResponseTime(e.serverSideResponseTime),W.getAdServerCurrency()&&(r.setOriginalCpm(window.parseFloat(e.originalCpm)),r.setOriginalCurrency(e.originalCurrency),H.isFunction(e.getCpmInNewCurrency)?r.setAnalyticsCpm(window.parseFloat(e.getCpmInNewCurrency(j.COMMON.ANALYTICS_CURRENCY)),e.status):r.setAnalyticsCpm(r.getGrossEcpm(),e.status)),1===o||2===o||6===o||11===o||12===o?(r.setDefaultBidStatus(-1),r.setWidth(0),r.setHeight(0)):3===o||4===o||5===o?(r.setDefaultBidStatus(0),0===r.isServerSide&&r.setPostTimeoutStatus()):o&&r.setDefaultBidStatus(1),H.forEachOnObject(e.adserverTargeting,(function(e,t){"hb_format"!==e&&"hb_source"!==e&&r.setKeyValuePair(e,t)})),r.setPbBid(e),r}function r(e,t){var n={responseKGPV:"",responseRegex:""};t.kgpvs.length>0&&t.kgpvs.forEach((function(t){e.bidderCode==t.adapterID&&(n.responseKGPV=t.kgpv,n.responseRegex=t.regexPattern)}));var i=n.responseKGPV.split("@"),r=1,o=!1;if(i&&(2==i.length||3==i.length&&(r=2)&&(o=!0))&&"video"!=e.mediaType){var a=i[r],s=null;i[r].indexOf(":")>0&&(a=i[r].split(":")[0],s=i[r].split(":")[1]),e.getSize()&&e.getSize()!=a&&"0X0"!=e.getSize().toUpperCase()&&(i[0].toUpperCase()==a.toUpperCase()&&(i[0]=e.getSize().toLowerCase()),n.responseKGPV=o?i[0]+"@"+i[1]+"@"+e.getSize():i[0]+"@"+e.getSize(),s&&(n.responseKGPV=n.responseKGPV+":"+s))}return n}function o(e){var t=e.adUnitCode||"";if(H.isOwnProperty($.kgpvMap,t)){if(e.floorData&&(window.PWT.floorData[window.PWT.bidMap[e.adUnitCode].impressionID].floorResponseData=e.floorData),"pubmaticServer"===e.bidderCode&&(e.bidderCode=e.originalBidder),$.isSingleImpressionSettingEnabled){var n=$.checkAndModifySizeOfKGPVIfRequired(e,$.kgpvMap[t]);$.kgpvMap[t].kgpv=n.responseKGPV,$.kgpvMap[t].regexPattern=n.responseRegex}if(e.bidderCode&&W.isServerSideAdapter(e.bidderCode)){var i=$.kgpvMap[t].divID;if(!$.isSingleImpressionSettingEnabled){var r=$.getPBCodeWithWidthAndHeight(i,e.bidderCode,e.width,e.height),o=$.getPBCodeWithoutWidthAndHeight(i,e.bidderCode);if(H.isOwnProperty($.kgpvMap,r))t=r;else{if(!H.isOwnProperty($.kgpvMap,o))return H.logWarning("Failed to find kgpv details for S2S-adapter:"+e.bidderCode),void 0;t=o}}e.ss=W.isServerSideAdapter(e.bidderCode)?1:0}e.bidderCode&&(e.timeToRespond<W.getTimeout()-j.CONFIG.TIMEOUT_ADJUSTMENT&&H.handleHook(j.HOOKS.BID_RECEIVED,[$.kgpvMap[t].divID,e]),K.setBidFromBidder($.kgpvMap[t].divID,$.transformPBBidToOWBid(e,$.kgpvMap[t].kgpv,$.kgpvMap[t].regexPattern)))}else H.logWarning("Failed to find pbBid.adUnitCode in kgpvMap, pbBid.adUnitCode:"+e.adUnitCode)}function a(e){e.bids.forEach((function(e){window.PWT.floorData[window.PWT.bidMap[e.adUnitCode].impressionID]||(window.PWT.floorData[window.PWT.bidMap[e.adUnitCode].impressionID]={}),window.PWT.floorData[window.PWT.bidMap[e.adUnitCode].impressionID].floorRequestData=e.floorData
}))}function s(e){window.PWT.newAdUnits=window.PWT.newAdUnits||{},e.adUnits.forEach((function(e){e.pubmaticAutoRefresh&&(window.PWT.newAdUnits[window.PWT.bidMap[e.code].impressionID]||(window.PWT.newAdUnits[window.PWT.bidMap[e.code].impressionID]={}),window.PWT.newAdUnits[window.PWT.bidMap[e.code].impressionID][e.code]||(window.PWT.newAdUnits[window.PWT.bidMap[e.code].impressionID][e.code]={}),window.PWT.newAdUnits[window.PWT.bidMap[e.code].impressionID][e.code].pubmaticAutoRefresh=e.pubmaticAutoRefresh)}))}function d(e,t,n,i){return e+"@"+t+"@"+n+"X"+i}function c(e,t){return e+"@"+t}function u(e,t,n){var i=!1;return H.isOwnProperty(e,t)&&e[t].bids.forEach((function(e){e.bidder==n&&(i=!0)})),i}function p(e,t,n,i,r,o,a,s,d,c,p){var l,f,m,w,h,E;if(W.isServerSideAdapter(e)&&1!=W.usePBSAdapter())return H.log("Not calling adapter: "+e+", for "+r+", as it is serverSideEnabled."),void 0;m=a.getDivID(),l=a.getDivID(),f=a.getSizes(),w=a.getAdUnitID();var I=H.getAdUnitConfig(f,a);if(h=I.mediaTypeObject,h.partnerConfig&&(E=h.partnerConfig),H.isOwnProperty(t,l)){if(W.isSingleImpressionSettingEnabled()&&u(t,l,e))return}else t[l]={code:l,mediaTypes:{},sizes:f,adUnitId:w,bids:[],divID:m},h.banner&&(t[l].mediaTypes.banner=h.banner),h.native&&(t[l].mediaTypes["native"]=h.native),h.video&&(t[l].mediaTypes.video=h.video),I.renderer&&(t[l].renderer=I.renderer),window.PWT.adUnits=window.PWT.adUnits||{},window.PWT.adUnits[l]=t[l];g(e,r,i,s,n,a,l,t,E,p)}function l(e,t,n,i,r,o,a,s,d,c,p){var l,f,m,w,h=a.getDivID(),E=a.getAdUnitID();if($.isSingleImpressionSettingEnabled){l=a.getDivID(),f=a.getSizes();var I=!1;if($.kgpvMap[l]&&$.kgpvMap[l].kgpvs&&$.kgpvMap[l].kgpvs.length>0){if(H.forEachOnArray($.kgpvMap[l].kgpvs,(function(t,n){n.adapterID==e&&(I=!0)})),I&&u(t,l,e))return}else $.kgpvMap[l]={kgpvs:[],divID:h};if(!I){var v={adapterID:e,kgpv:r,regexPattern:p};$.kgpvMap[l].kgpvs.push(v)}}else o?(l=$.getPBCodeWithWidthAndHeight(h,e,d,c),f=[[d,c]]):(l=$.getPBCodeWithoutWidthAndHeight(h,e),f=a.getSizes()),$.kgpvMap[l]={kgpv:r,divID:h,regexPattern:p};if(W.isServerSideAdapter(e)&&1!=W.usePBSAdapter())return H.log("Not calling adapter: "+e+", for "+r+", as it is serverSideEnabled."),void 0;var O=H.getAdUnitConfig(f,a);if(m=O.mediaTypeObject,m.partnerConfig&&(w=m.partnerConfig),H.isOwnProperty(t,l)){if($.isSingleImpressionSettingEnabled&&u(t,l,e))return}else t[l]={code:l,mediaTypes:{},sizes:f,adUnitId:E,bids:[],divID:h},m.banner&&(t[l].mediaTypes.banner=m.banner),m.native&&(t[l].mediaTypes["native"]=m.native),m.video&&(t[l].mediaTypes.video=m.video),O.renderer&&(t[l].renderer=O.renderer),window.PWT.adUnits=window.PWT.adUnits||{},window.PWT.adUnits[l]=t[l];H.isOwnProperty(t,l)&&(m=t[l].mediaTypes),g(e,r,i,s,n,a,l,t,w,p)}function g(e,t,n,i,r,o,a,s,d,c){var p={},l=s[a].mediaTypes,g=s[a].sizes,f=!1;l&&H.isOwnProperty(l,"video")&&"telaria"!=e&&(p.video=l.video),H.forEachOnObject(i,(function(e,t){p[e]=t})),et&&(p.kgpv=t,p.regexPattern=c),d&&Object.keys(d).length>0&&H.forEachOnObject(d,(function(t,n){t==e&&H.forEachOnObject(n,(function(e,t){p[e]=t}))})),l&&H.isOwnProperty(l,"video")&&"telaria"!=e&&(H.isOwnProperty(p,"video")&&H.isObject(p.video)?H.forEachOnObject(l.video,(function(e,t){H.isOwnProperty(p.video,e)||(p.video[e]=t)})):p.video=l.video),et===!1&&W.usePBSAdapter()&&(p.wiid=n,f=!0);var m=W.getAdapterNameForAlias(e)||e;switch(m){case"pubmaticServer":p.publisherId=r.publisherId,p.adUnitIndex=""+o.getAdUnitIndex(),p.adUnitId=o.getAdUnitID(),p.divId=o.getDivID(),p.adSlot=t,et===!1&&(p.wiid=n),p.profId=W.getProfileID(),window.PWT.udpv&&(p.verId=W.getProfileDisplayVersionID()),s[a].bids.push({bidder:e,params:p});break;case"pubmatic":case"pubmatic2":p.publisherId=r.publisherId,p.adSlot=p.slotName||t,et===!1&&(p.wiid=n),p.profId="pubmatic2"==e||"pubmatic2"==m?r.profileId:W.getProfileID(),"pubmatic2"!=e&&"pubmatic2"!=m&&window.PWT.udpv&&(p.verId=W.getProfileDisplayVersionID()),1==W.usePBSAdapter()&&W.isServerSideAdapter(e)&&(p.wrapper={profile:parseInt(Y.pwt.pid),version:parseInt(Y.pwt.pdvid)},p.hashedKey&&(p.adSlot=p.hashedKey)),s[a].bids.push({bidder:e,params:p});break;case"pulsepoint":H.forEachOnArray(g,(function(t,r){var o={};H.forEachOnObject(i,(function(e,t){o[e]=t})),o.cf=r[0]+"x"+r[1],f&&(o.wiid=n),s[a].bids.push({bidder:e,params:o})}));break;case"adg":H.forEachOnArray(g,(function(t,r){var o={};H.forEachOnObject(i,(function(e,t){o[e]=t})),o.width=r[0],o.height=r[1],f&&(o.wiid=n),$.isSingleImpressionSettingEnabled&&u(s,a,e)||s[a].bids.push({bidder:e,params:o})}));break;case"yieldlab":H.forEachOnArray(g,(function(t,r){var o={};H.forEachOnObject(i,(function(e,t){o[e]=t})),o.adSize=r[0]+"x"+r[1],f&&(o.wiid=n),$.isSingleImpressionSettingEnabled&&u(s,a,e)||s[a].bids.push({bidder:e,params:o})}));break;case"ix":case"indexExchange":p.siteID&&(p.siteId=p.siteID,delete p.siteID),f&&(p.wiid=n),s[a].bids.push({bidder:e,params:p});break;default:s[a].bids.push({bidder:e,params:p})}}function f(e,t,n,i,r){H.log(e+j.MESSAGES.M1),t&&H.forEachGeneratedKey(e,i,t,r,[],n,et?$.generatedKeyCallbackForPbAnalytics:$.generatedKeyCallback,!0)}function m(e){H.forEachOnObject(j.SRA_ENABLED_BIDDERS,(function(t){H.isOwnProperty(Y.adapters,t)&&(e[t]={singleRequest:!0})}))}function w(e){e.userSync={enableOverride:!0,syncsPerBidder:0,iframeEnabled:!0,pixelEnabled:!0,filterSettings:{iframe:{bidders:"*",filter:"include"}},enabledBidders:(function(){var e=[];return W.forEachAdapter((function(t){var n=W.getAdapterNameForAlias(t)||t;-1==e.indexOf(n)&&e.push(n)})),e})(),syncDelay:2e3,aliasSyncEnabled:!0},W.isUserIdModuleEnabled()&&(e.userSync.userIds=H.getUserIdConfiguration())}function h(e){if(W.getGdpr()){e.consentManagement||(e.consentManagement={}),e.consentManagement.gdpr={cmpApi:W.getCmpApi(),timeout:W.getGdprTimeout(),allowAuctionWithoutConsent:W.getAwc(),defaultGdprScope:!0};var t=z.getGdprActionTimeout();t&&(H.log("GDPR IS ENABLED, TIMEOUT: "+e.consentManagement.gdpr.timeout+", ACTION TIMEOUT: "+t),e.consentManagement.gdpr.actionTimeout=t)}}function E(e){W.getCCPA()&&(e.consentManagement||(e.consentManagement={}),e.consentManagement.usp={cmpApi:W.getCCPACmpApi(),timeout:W.getCCPATimeout()})}function I(e){W.getAdServerCurrency()&&(H.log(j.MESSAGES.M26+W.getAdServerCurrency()),e.currency={adServerCurrency:W.getAdServerCurrency(),granularityMultiplier:W.getGranularityMultiplier()})}function v(e){W.isSchainEnabled()&&(e.schain=W.getSchainObject())}function O(){return H.isFunction(window[J].aliasBidder)?(W.forEachBidderAlias((function(e){window[J].aliasBidder(Y.alias[e],e)})),void 0):(H.logWarning("PreBid js aliasBidder method is not available"),void 0)}function y(){et&&H.isFunction(window[J].enableAnalytics)&&window[J].enableAnalytics({provider:"pubmatic",options:{publisherId:W.getPublisherId(),profileId:W.getProfileID(),profileVersionId:W.getProfileDisplayVersionID(),identityOnly:W.isUserIdModuleEnabled()?1:0}})}function b(e,t){return!(e>=W.getAdapterThrottle(t))}function S(e,t){var n={},i=H.getRandomNumberBelow100();W.forEachAdapter((function(r,o){r!==$.parentAdapterID&&(1==W.usePBSAdapter()&&W.isServerSideAdapter(r)?0==$.throttleAdapter(i,r)?$.generateConfig(r,o,e,n,t):H.log(r+j.MESSAGES.M2):W.isServerSideAdapter(r)||0==$.throttleAdapter(i,r)?$.generateConfig(r,o,e,n,t):H.log(r+j.MESSAGES.M2))}));var r=[];for(var o in n)H.isOwnProperty(n,o)&&r.push(n[o]);return r}function A(e,t,n,i,r){H.forEachOnObject(n,(function(t,n){K.setCallInitTime(n.getDivID(),e)})),$.generatePbConf(e,t,n,i,r)}function T(){return H.isFunction(window[J].onEvent)?(Q||(window[J].onEvent("bidResponse",$.pbBidStreamHandler),Q=!0),void 0):(H.logWarning("PreBid js onEvent method is not available"),void 0)}function P(){return H.isFunction(window[J].onEvent)?(Z||(window[J].onEvent("auctionEnd",$.pbAuctionEndHandler),Z=!0),void 0):(H.logWarning("PreBid js onEvent method is not available"),void 0)}function C(){return H.isFunction(window[J].onEvent)?(window[J].onEvent("bidRequested",$.pbBidRequestHandler),void 0):(H.logWarning("PreBid js onEvent method is not available"),void 0)}function _(){if(H.isFunction(window[J].setConfig)||"function"==typeof window[J].setConfig){var e={debug:H.isDebugLogEnabled(),cache:{url:j.CONFIG.CACHE_URL+j.CONFIG.CACHE_PATH,ignoreBidderCacheKey:!0},bidderSequence:"random",disableAjaxTimeout:W.getDisableAjaxTimeout(),enableSendAllBids:W.getSendAllBidsStatus(),targetingControls:{alwaysIncludeDeals:!0},testGroupId:parseInt(window.PWT.testGroupId||0)};W.getPriceGranularity()&&(e.priceGranularity=W.getPriceGranularity()),et===!0&&(e.instreamTracking={enabled:!0}),window.PWT.ssoEnabled=W.isSSOEnabled()||!1,$.getFloorsConfiguration(e),$.assignUserSyncConfig(e),$.assignGdprConfigIfRequired(e),$.assignCcpaConfigIfRequired(e),$.assignCurrencyConfigIfRequired(e),$.assignSchainConfigIfRequired(e),$.assignSingleRequestConfigForBidders(e),$.assignPackagingInventoryConfig(e),W.usePBSAdapter()&&$.gets2sConfig(e),$.checkForYahooSSPBidder(e),H.handleHook(j.HOOKS.PREBID_SET_CONFIG,[e]),window[J].setConfig(e)}else H.logWarning("PreBidJS setConfig method is not available")}function D(){if(Y.adapters&&Y.adapters.pubmatic){var e={pubmatic:Y.adapters.pubmatic};Y.adapters=Object.assign(e,Y.adapters)}}function M(e){var t={},n=W.getServerEnabledAdaptars();for(var i in Y.alias)nt[i]=Y.alias[i];var r=W.getPubMaticAndAlias(n);r.length&&r.forEach((function(e){t[e]={}})),e.s2sConfig={accountId:W.getPublisherId(),adapter:j.PBSPARAMS.adapter,enabled:!0,bidders:n,endpoint:j.PBSPARAMS.endpoint,syncEndpoint:j.PBSPARAMS.syncEndpoint,timeout:W.getTimeoutForPBSRequest(),secure:1,extPrebid:{aliases:nt,bidderparams:t,targeting:{pricegranularity:W.getPriceGranularity()},isPrebidPubMaticAnalyticsEnabled:W.isPrebidPubMaticAnalyticsEnabled(),isUsePrebidKeysEnabled:W.isUsePrebidKeysEnabled(),macros:W.createMacros()}},W.getMarketplaceBidders()&&(e.s2sConfig.allowUnknownBidderCodes=!0,e.s2sConfig.extPrebid.alternatebiddercodes={enabled:!0,bidders:{pubmatic:{enabled:!0,allowedbiddercodes:W.getMarketplaceBidders()}}})}function R(e){1==W.isFloorPriceModuleEnabled()&&W.getFloorSource()!==j.COMMON.EXTERNAL_FLOOR_WO_CONFIG&&(e.floors={enforcement:{enforceJS:W.getFloorType()},auctionDelay:W.getFloorAuctionDelay(),endpoint:{url:W.getFloorJsonUrl()},additionalSchemaFields:{browser:H.getBrowserDetails,platform_id:H.getPltForFloor}})}function N(e){var t=!1,n=Y.adapters.hasOwnProperty(j.YAHOOSSP);if(!n)for(var i in Y.alias)W.getAdapterNameForAlias(i)==j.YAHOOSSP&&(t=!0);(n||t)&&(e[j.YAHOOSSP]={mode:"all"})}function U(e){e.viewabilityScoreGeneration={enabled:!0}}function F(){return[{key:"pwtpid",val:function(e){return e.bidderCode}},{key:"pwtsid",val:function(e){return e.adId}},{key:"pwtecp",val:function(e){return(e.cpm||0).toFixed(j.COMMON.BID_PRECISION)}},{key:"pwtsz",val:function(e){return e.size}},{key:"hb_source",val:function(){return""}},{key:"pwtplt",val:function(e){return"video"==e.mediaType&&e.videoCacheKey?j.PLATFORM_VALUES.VIDEO:e.native?j.PLATFORM_VALUES.NATIVE:j.PLATFORM_VALUES.DISPLAY}},{key:"pwtdid",val:function(e){return e.dealId||""}},{key:"pwtdeal",val:function(e){return e.dealId?(e.dealChannel=e.dealChannel||"PMP",e.dealChannel+j.COMMON.DEAL_KEY_VALUE_SEPARATOR+e.dealId+j.COMMON.DEAL_KEY_VALUE_SEPARATOR+e.adId):""}},{key:"pwtbst",val:function(){return 1}},{key:"pwtpubid",val:function(){return W.getPublisherId()}},{key:"pwtprofid",val:function(){return W.getProfileID()}},{key:"pwtverid",val:function(){return W.getProfileDisplayVersionID()}},{key:"pwtcid",val:function(e){return"video"==e.mediaType&&e.videoCacheKey?e.videoCacheKey:""}},{key:"pwtcurl",val:function(e){return"video"==e.mediaType&&e.videoCacheKey?j.CONFIG.CACHE_URL:""}},{key:"pwtcpath",val:function(e){return"video"==e.mediaType&&e.videoCacheKey?j.CONFIG.CACHE_PATH:""}},{key:"pwtuuid",val:function(){return""}}]}function L(){if(et===!1)return window[J].bidderSettings={standard:{storageAllowed:"1"===Y.pwt.localStorageAccess?!0:null}},void 0;var e=window[J].bidderSettings||{};window[J].bidderSettings={standard:{suppressEmptyKeys:!0,storageAllowed:"1"===Y.pwt.localStorageAccess?!0:null}},W.isUsePrebidKeysEnabled()===!1&&(window[J].bidderSettings.standard.adserverTargeting=F()),W.forEachAdapter((function(t){window[J].bidderSettings.hasOwnProperty(t)===!1&&(window[J].bidderSettings[t]={},"pubmatic"===t&&W.getMarketplaceBidders()&&(window[J].bidderSettings[t].allowAlternateBidderCodes=!0,window[J].bidderSettings[t].allowedAlternateBidderCodes=W.getMarketplaceBidders()),window[J].bidderSettings[t].bidCpmAdjustment=function(e){return window.parseFloat((e*W.getAdapterRevShare(t)).toFixed(j.COMMON.BID_PRECISION))},e[t]&&(window[J].bidderSettings[t].storageAllowed=e[t].storageAllowed))})),e.standard&&(window[J].bidderSettings.standard.storageAllowed=e.standard.storageAllowed)}function B(e,t){function n(){H.forEachOnArray(t,(function(e,t){K.setAllPossibleBidsReceived(t.getDivID())}))}H.log("In PreBid bidsBackHandler with bidResponses: "),H.log(e),setTimeout(window[J].triggerUserSyncs,10),W.getAdServerCurrency()?setTimeout(n,300):n()}function x(){return window[J]?(window[J].logging=H.isDebugLogEnabled(),$.realignPubmaticAdapters(),$.setPrebidConfig(),$.configureBidderAliasesIfAvailable(),$.enablePrebidPubMaticAnalyticIfRequired(),$.setPbjsBidderSettingsIfRequired(),H.getGeoInfo(),void 0):(H.logError("PreBid js is not loaded"),void 0)}function k(e){var t=H.generateUUID();if(!window[J])return H.logError("PreBid js is not loaded"),void 0;H.forEachOnArray(e,(function(e,n){var i=n.getDivID();K.resetBid(i,t),K.setSizes(i,H.generateSlotNamesFromPattern(n,"_W_x_H_"))}));var n=$.generateAdUnitsArray(e,t);if(n.length>0&&window[J])try{if(!H.isFunction(window[J].requestBids)&&"function"!=typeof window[J].requestBids)return H.log("PreBid js requestBids function is not available"),void 0;H.handleHook(j.HOOKS.PREBID_REQUEST_BIDS,[n]),et===!1&&($.addOnBidResponseHandler(),$.addOnBidRequestHandler(),$.addOnAuctionEndHandler()),window[J].removeAdUnit(),window[J].addAdUnits(n),window[J].requestBids({bidsBackHandler:function(t){$.pbjsBidsBackHandler(t,e)},timeout:W.getTimeout()-j.CONFIG.TIMEOUT_ADJUSTMENT})}catch(i){H.logError("Error occured in calling PreBid."),H.logError(i)}}function G(e){var t=window[J].getHighestCpmBids([e])[0]||null;t&&(t.adHtml=t.ad,t.adapterID=t.bidder,t.netEcpm=t.cpm,t.grossEcpm=t.originalCpm);var n={wb:t,kvp:window[J].getAdserverTargetingForAdUnitCode([e])||null};return et&&n.kvp.pwtdeal&&delete n.kvp.pwtdeal,n}var W=n("./src_new/config.js"),j=n("./src_new/constants.js"),V=n("./src_new/bid.js"),H=n("./src_new/util.js"),K=n("./src_new/bidManager.js"),Y=n("./src_new/conf.js"),z=n("./src_new/common.config.js"),q=j.COMMON.PARENT_ADAPTER_PREBID,J=j.COMMON.PREBID_NAMESPACE;t.parentAdapterID=q;var X={};t.kgpvMap=X;var $=this,Q=!1,Z=!1,et=W.isPrebidPubMaticAnalyticsEnabled(),tt=W.isSingleImpressionSettingEnabled(),nt=j.DEFAULT_ALIASES;t.isSingleImpressionSettingEnabled=tt,t.transformPBBidToOWBid=i,t.checkAndModifySizeOfKGPVIfRequired=r,t.pbBidStreamHandler=o,t.pbBidRequestHandler=a,t.pbAuctionEndHandler=s,t.getPBCodeWithWidthAndHeight=d,t.getPBCodeWithoutWidthAndHeight=c,t.isAdUnitsCodeContainBidder=u,t.generatedKeyCallbackForPbAnalytics=p,t.generatedKeyCallback=l,t.pushAdapterParamsInAdunits=g,t.generatePbConf=f,t.assignSingleRequestConfigForBidders=m,t.assignUserSyncConfig=w,t.assignGdprConfigIfRequired=h,t.assignCcpaConfigIfRequired=E,t.assignCurrencyConfigIfRequired=I,t.assignSchainConfigIfRequired=v,t.configureBidderAliasesIfAvailable=O,t.enablePrebidPubMaticAnalyticIfRequired=y,t.throttleAdapter=b,t.generateAdUnitsArray=S,t.generateConfig=A,t.addOnBidResponseHandler=T,t.addOnAuctionEndHandler=P,t.addOnBidRequestHandler=C,t.setPrebidConfig=_,t.realignPubmaticAdapters=D,t.gets2sConfig=M,t.getFloorsConfiguration=R,t.checkForYahooSSPBidder=N,t.assignPackagingInventoryConfig=U,t.getPbjsAdServerTargetingConfig=F,t.setPbjsBidderSettingsIfRequired=L,t.pbjsBidsBackHandler=B,t.initPbjsConfig=x,t.fetchBids=k,t.getBid=G},"./src_new/bid.js":function(e,t,n){function i(e,t){this.adapterID=e,this.kgpv=t,this.bidID=a.getUniqueIdentifierStr(),this.grossEcpm=0,this.netEcpm=0,this.defaultBid=0,this.adHtml="",this.adUrl="",this.height=0,this.width=0,this.creativeID="",this.keyValuePairs={},this.isPostTimeout=!1,this.receivedTime=0,this.isServerSide=r.isServerSideAdapter(e)?1:0,this.dealID="",this.dealChannel="",this.isWinningBid=!1,this.status=0,this.serverSideResponseTime=0,this.mi=void 0,this.originalCpm=0,this.originalCurrency="",this.analyticsGrossCpm=0,this.analyticsNetCpm=0,this.native=void 0,this.adFormat=void 0,this.regexPattern=void 0,this.cacheUUID=void 0,this.sspID="",this.vastUrl=void 0,this.vastCache=void 0,this.renderer=void 0,this.pbBid=void 0}var r=n("./src_new/config.js"),o=n("./src_new/constants.js"),a=n("./src_new/util.js"),s=function(e,t){return window.parseFloat((e*r.getAdapterRevShare(t)).toFixed(o.COMMON.BID_PRECISION))};i.prototype.setServerSideResponseTime=function(e){this.serverSideResponseTime=e},i.prototype.getServerSideResponseTime=function(){return this.serverSideResponseTime},i.prototype.getServerSideStatus=function(){return this.isServerSide},i.prototype.setServerSideStatus=function(e){this.isServerSide=e},i.prototype.getAdapterID=function(){return this.adapterID},i.prototype.getBidID=function(){return this.bidID},i.prototype.setGrossEcpm=function(e,t,n,i){if(null===e)return a.log(o.MESSAGES.M10),a.log(this),this;if(a.isString(e)){if(e=e.replace(/\s/g,""),0===e.length)return a.log(o.MESSAGES.M20),a.log(this),this;e=window.parseFloat(e)}return window.isNaN(e)?(a.log(o.MESSAGES.M11+e),a.log(this),this):(r.getAdServerCurrency()&&t&&n&&(a.isFunction(window[o.COMMON.PREBID_NAMESPACE].convertCurrency)||"function"==typeof window[o.COMMON.PREBID_NAMESPACE].convertCurrency)&&(e=window[o.COMMON.PREBID_NAMESPACE].convertCurrency(e,t,n)),e=window.parseFloat(e.toFixed(o.COMMON.BID_PRECISION)),this.grossEcpm=e,this.netEcpm=i==o.BID_STATUS.BID_REJECTED?0:s(this.grossEcpm,this.getAdapterID()),this)},i.prototype.getGrossEcpm=function(e){return r.getAdServerCurrency()&&this.analyticsGrossCpm&&e?this.analyticsGrossCpm:this.grossEcpm},i.prototype.getNetEcpm=function(e){return r.getAdServerCurrency()&&this.analyticsNetCpm&&e?this.analyticsNetCpm:this.netEcpm},i.prototype.setDefaultBidStatus=function(e){return this.defaultBid=e,this},i.prototype.getDefaultBidStatus=function(){return this.defaultBid},i.prototype.setAdHtml=function(e){return this.adHtml=e,this.setAdFormat(e),this},i.prototype.getAdHtml=function(){return this.adHtml},i.prototype.setAdUrl=function(e){return this.adUrl=e,this},i.prototype.getAdUrl=function(){return this.adUrl},i.prototype.setHeight=function(e){return this.height=e,this},i.prototype.getHeight=function(){return this.height},i.prototype.setWidth=function(e){return this.width=e,this},i.prototype.getWidth=function(){return this.width},i.prototype.getKGPV=function(e,t){return!e&&this.regexPattern?this.regexPattern:this.adFormat==o.FORMAT_VALUES.VIDEO||t==o.FORMAT_VALUES.VIDEO?a.getUpdatedKGPVForVideo(this.kgpv,o.FORMAT_VALUES.VIDEO):this.kgpv},i.prototype.setKeyValuePair=function(e,t){return this.keyValuePairs[e.substr(0,20)]=t,this},i.prototype.getKeyValuePairs=function(){return this.keyValuePairs},i.prototype.setPostTimeoutStatus=function(){return this.isPostTimeout=!0,this},i.prototype.getPostTimeoutStatus=function(){return this.isPostTimeout},i.prototype.setReceivedTime=function(e){return this.receivedTime=e,this},i.prototype.getReceivedTime=function(){return this.receivedTime},i.prototype.setDealID=function(e){return e&&(this.dealID=e,this.dealChannel=this.dealChannel||"PMP",this.setKeyValuePair(o.COMMON.DEAL_KEY_FIRST_PART+this.adapterID,this.dealChannel+o.COMMON.DEAL_KEY_VALUE_SEPARATOR+this.dealID+o.COMMON.DEAL_KEY_VALUE_SEPARATOR+this.bidID)),this},i.prototype.getDealID=function(){return this.dealID},i.prototype.setDealChannel=function(e){return this.dealID&&e&&(this.dealChannel=e,this.setKeyValuePair(o.COMMON.DEAL_KEY_FIRST_PART+this.adapterID,this.dealChannel+o.COMMON.DEAL_KEY_VALUE_SEPARATOR+this.dealID+o.COMMON.DEAL_KEY_VALUE_SEPARATOR+this.bidID)),this},i.prototype.getDealChannel=function(){return this.dealChannel},i.prototype.setWinningBidStatus=function(){return this.isWinningBid=!0,this},i.prototype.getWinningBidStatus=function(){return this.isWinningBid},i.prototype.setStatus=function(e){return this.status=e,this},i.prototype.getStatus=function(){return this.status},i.prototype.setSendAllBidsKeys=function(){if(this.setKeyValuePair(o.WRAPPER_TARGETING_KEYS.BID_ID+"_"+this.adapterID,this.bidID),this.setKeyValuePair(o.WRAPPER_TARGETING_KEYS.BID_STATUS+"_"+this.adapterID,this.getNetEcpm()>0?1:0),this.setKeyValuePair(o.WRAPPER_TARGETING_KEYS.BID_ECPM+"_"+this.adapterID,this.getNetEcpm().toFixed(o.COMMON.BID_PRECISION)),this.setKeyValuePair(o.WRAPPER_TARGETING_KEYS.BID_SIZE+"_"+this.adapterID,this.width+"x"+this.height),this.native){var e=this.keyValuePairs,t=this;a.forEachOnObject(e,(function(e,n){e.indexOf("native")>=0&&t.setKeyValuePair(e+"_"+t.adapterID,n)}))}},i.prototype.setMi=function(e){return this.mi=e,this},i.prototype.getMi=function(e){return a.isUndefined(this.mi)&&(this.mi=window.matchedimpressions&&window.matchedimpressions[e]),this.mi},i.prototype.setOriginalCpm=function(e){return this.originalCpm=window.parseFloat(e.toFixed(o.COMMON.BID_PRECISION)),this},i.prototype.getOriginalCpm=function(){return this.originalCpm},i.prototype.setOriginalCurrency=function(e){return this.originalCurrency=e,this},i.prototype.getOriginalCurrency=function(){return this.originalCurrency},i.prototype.setAnalyticsCpm=function(e,t){return this.analyticsGrossCpm=window.parseFloat(e.toFixed(o.COMMON.BID_PRECISION)),this.analyticsNetCpm=t==o.BID_STATUS.BID_REJECTED?0:s(this.analyticsGrossCpm,this.getAdapterID()),this},i.prototype.getAnalyticsCpm=function(){return this.analyticsGrossCpm},i.prototype.getNative=function(){return this.native},i.prototype.setNative=function(e){return this.native=e,this},i.prototype.getAdFormat=function(){return this.adFormat},i.prototype.setAdFormat=function(e,t){return this.adFormat=t||a.getAdFormatFromBidAd(e),this},i.prototype.getRegexPattern=function(){return this.regexPattern},i.prototype.setRegexPattern=function(e){return this.regexPattern=e,this},i.prototype.getcacheUUID=function(){return this.cacheUUID},i.prototype.setcacheUUID=function(e){return this.cacheUUID=e,this.adFormat||(this.adFormat=o.FORMAT_VALUES.VIDEO),this},i.prototype.getsspID=function(){return this.sspID},i.prototype.setsspID=function(e){return this.sspID=e,this},i.prototype.setRenderer=function(e){return a.isEmptyObject(e)||(this.renderer=e),this},i.prototype.getRenderer=function(){return this.renderer},i.prototype.setVastCache=function(e){return a.isString(e)&&(this.vastCache=e),this},i.prototype.getVastCache=function(){return this.vastCache},i.prototype.setVastUrl=function(e){return a.isString(e)&&(this.vastUrl=e),this},i.prototype.getVastUrl=function(){return this.vastUrl},i.prototype.setVastXml=function(e){return a.isString(e)&&(this.vastXml=e),this},i.prototype.getVastXml=function(){return this.vastXml},i.prototype.setPbBid=function(e){return this.pbbid=e,this},i.prototype.getPbBid=function(){return this.pbbid},i.prototype.updateBidId=function(e){if(window.PWT.bidMap[e]&&window.PWT.bidMap[e].adapters&&Object.keys(window.PWT.bidMap[e].adapters).length>0){var t=window.PWT.bidMap[e].adapters[this.adapterID].bids[Object.keys(window.PWT.bidMap[e].adapters[this.adapterID].bids)[0]].bidID;t&&this.adFormat==o.FORMAT_VALUES.VIDEO&&(this.bidID=t)}else a.logWarning("Error in Updating BidId. It might be possible singleImpressionEnabled is false"),console.warn("Setup for video might not be correct. Try setting up Optimize MultiSize AdSlot to true.");return this},e.exports.Bid=i,t.createBid=function(e,t){return new i(e,t)}},"./src_new/bidManager.js":function(e,t,n){function i(e){v.isOwnProperty(window.PWT.bidMap,e)||(window.PWT.bidMap[e]=O.createBMEntry(e))}function r(e,t,n,i){window.PWT.bidMap[e].setNewBid(t,n),window.PWT.bidIdMap[n.getBidID()]={s:e,a:t},0===n.getDefaultBidStatus()&&"pubmaticServer"!==n.adapterID&&v.vLogInfo(e,{type:"bid",bidder:t+(0!==E.getBidPassThroughStatus(t)?"(Passthrough)":""),bidDetails:n,latency:i,s2s:E.isServerSideAdapter(t),adServerCurrency:v.getCurrencyToDisplay()})}function o(e,t){v.vLogInfo(e,{type:"hr"}),delete window.PWT.bidMap[e],y.createBidEntry(e),window.PWT.bidMap[e].setImpressionID(t)}function a(e,t,n){var i="",r=0,o=0,a=I.METADATA_MACROS,d="g";v.forEachOnObject(t.adapters,(function(t,n){""!=n.getLastBidID()&&("pubmaticServer"!==t&&o++,v.forEachOnObject(n.bids,(function(t,n){1!=n.getDefaultBidStatus()&&1!=n.getPostTimeoutStatus()&&0!=n.getGrossEcpm()&&(r++,i+=s(e,n))})))})),0==i.length&&(i=e),i=i.replace(new RegExp(a.BID_COUNT,d),r),i=i.replace(new RegExp(a.PARTNER_COUNT,d),o),n[I.WRAPPER_TARGETING_KEYS.META_DATA]=encodeURIComponent(i)}function s(e,t){var n=I.METADATA_MACROS,i="g";return e.replace(new RegExp(n.PARTNER,i),t.getAdapterID()).replace(new RegExp(n.WIDTH,i),t.getWidth()).replace(new RegExp(n.HEIGHT,i),t.getHeight()).replace(new RegExp(n.GROSS_ECPM,i),t.getGrossEcpm()).replace(new RegExp(n.NET_ECPM,i),t.getNetEcpm())}function d(e){var t=null,n={};return v.forEachOnObject(e.adapters,(function(e,i){var r=y.auctionBidsCallBack(e,i,n,t);t=r.winningBid,n=r.keyValuePairs})),null!==E.getMataDataPattern()&&a(E.getMataDataPattern(),e,n),{wb:t,kvp:n}}function c(e){for(var t in e)t.indexOf("native")>=0&&3===t.split("_").length&&delete e[t]}function u(e,t,n,i){var r=this;return""!=t.getLastBidID()?(v.forEachOnObject(t.bids,(function(t,o){if(o.getPostTimeoutStatus()===!0)return{winningBid:i,keyValuePairs:n};if(1!==o.getDefaultBidStatus()&&1==E.getSendAllBidsStatus()&&o.setSendAllBidsKeys(),null!==i)if(i.getNetEcpm()<o.getNetEcpm())r.updateNativeTargtingKeys(n);else{var a=o.getKeyValuePairs();r.updateNativeTargtingKeys(a),o.keyValuePairs=a}return v.copyKeyValueObject(n,o.getKeyValuePairs()),0!==E.getBidPassThroughStatus(e)?{winningBid:i,keyValuePairs:n}:(null==i?i=o:i.getNetEcpm()<o.getNetEcpm()&&(i=o),void 0)})),{winningBid:i,keyValuePairs:n}):{winningBid:i,keyValuePairs:n}}function p(e){var t=Object.keys(e.adapters).filter((function(t){return 1==Object.keys(e.adapters[t].bids).filter((function(n){return e.adapters[t].bids[n].isWinningBid&&"native"===e.adapters[t].bids[n].adFormat?e.adapters[t].bids[n]:void 0})).length?t:void 0}));return t.length?["1x1"]:e.getSizes()}function l(e){return window.PWT.adUnits[e]||e}function g(e){var t=e?Object.keys(e).map((function(e){return I.MEDIATYPE[e.toUpperCase()]})).filter((function(e){return null!=e})):[];return t||[]}function f(e){if(e&&!v.isEmptyObject(e)){const t={};if(e.networkId&&(t.nwid=e.networkId),e.advertiserId&&(t.adid=e.advertiserId),e.networkName&&(t.nwnm=e.networkName),e.primaryCatId&&(t.pcid=e.primaryCatId),e.advertiserName&&(t.adnm=e.advertiserName),e.agencyId&&(t.agid=e.agencyId),e.agencyName&&(t.agnm=e.agencyName),e.brandId&&(t.brid=e.brandId),e.brandName&&(t.brnm=e.brandName),e.dchain&&(t.dc=e.dchain),e.demandSource&&(t.ds=e.demandSource),e.secondaryCatIds&&(t.scids=e.secondaryCatIds),!v.isEmptyObject(t))return t}}function m(e,t,n){w=localStorage.getItem(b+window.location.hostname);var i=null!==w?JSON.parse(w):{},r=E.usePBSAdapter(),o=t.getCreationTime()||0,a=r&&window.pbsLatency?0:void 0,s=t.getImpressionID(),d=y.getAdUnitInfo(e),c={};const u=!0;if(t.getAnalyticEnabledStatus()&&!t.getExpiredStatus()){var p={sn:e,sz:y.getAdUnitSizes(t),au:d.adUnitId||e,fskp:window.PWT.floorData?window.PWT.floorData[s]?window.PWT.floorData[s].floorRequestData?0==window.PWT.floorData[s].floorRequestData.skipped?0:1:void 0:void 0:void 0,mt:y.getAdUnitAdFormats(d.mediaTypes),ps:[],bs:y.getSlotLevelFrequencyDepth(i,"bidServed",d.adUnitId),is:y.getSlotLevelFrequencyDepth(i,"impressionServed",d.adUnitId),rc:y.getSlotLevelFrequencyDepth(i,"slotCnt",d.adUnitId),vw:i&&i.viewedSlot&&i.viewedSlot[d.adUnitId],rf:window.PWT.newAdUnits?window.PWT.newAdUnits[s]?window.PWT.newAdUnits[s][e]?window.PWT.newAdUnits[s][e].pubmaticAutoRefresh?window.PWT.newAdUnits[s][e].pubmaticAutoRefresh.isRefreshed?1:0:0:0:0:0};t.setExpired(),n[s]=n[s]||[],v.forEachOnObject(t.adapters,(function(e,t){1!=E.getBidPassThroughStatus(e)&&v.forEachOnObject(t.bids,(function(t,n){r&&(c=window.pbsLatency&&window.pbsLatency[s],c&&c.endTime&&c.startTime&&(a=c.endTime-c.startTime),("pubmatic"===e||"pubmatic2"===e)&&v.isOwnProperty(window.partnersWithoutErrorAndBids,s)&&window.partnersWithoutErrorAndBids[s].includes(e)?n.defaultBid=0:v.isOwnProperty(window.partnersWithoutErrorAndBids,s)&&window.partnersWithoutErrorAndBids[s].includes(e)&&E.getAdapterNameForAlias(e).includes("pubmatic")&&(n.defaultBid=0));var i=n.getReceivedTime();if("pubmaticServer"===e)return v.isOwnProperty(window.PWT.owLatency,s)&&v.isOwnProperty(window.PWT.owLatency[s],"startTime")&&v.isOwnProperty(window.PWT.owLatency[s],"endTime")?a=window.PWT.owLatency[s].endTime-window.PWT.owLatency[s].startTime:(a=0,v.log("Logging pubmaticServer latency as 0 for impressionID: "+s)),v.log("PSL logging: time logged for id "+s+" is "+a),void 0;if((1!=E.getAdapterMaskBidsStatus(e)||n.getWinningBidStatus()!==!1)&&!(n.getServerSideStatus()&&-1===n.getDefaultBidStatus()&&-1===n.getServerSideResponseTime()||("pubmatic"===e||"pubmatic2"===e)&&(n.getDefaultBidStatus()||n.getPostTimeoutStatus()&&0==n.getGrossEcpm(u)))){var d=n.getPbBid();p.ps.push({pn:E.getAdapterNameForAlias(e),bc:e,bidid:d&&d.prebidBidId?d.prebidBidId:t,origbidid:t,db:n.getDefaultBidStatus(),kgpv:n.getKGPV(),kgpsv:n.getKGPV(!0),psz:n.getWidth()+"x"+n.getHeight(),eg:n.getGrossEcpm(u),en:n.getNetEcpm(u),di:n.getDealID(),dc:n.getDealChannel(),l1:n.getServerSideStatus()?n.getServerSideResponseTime():i-o,l2:0,adv:d?v.getAdDomain(d)||void 0:void 0,ss:n.getServerSideStatus(),t:n.getPostTimeoutStatus()===!1?0:1,wb:n.getWinningBidStatus()===!0?1:0,mi:n.getServerSideStatus()?n.getMi(e):void 0,af:n.getAdFormat(),ocpm:E.getAdServerCurrency()?n.getOriginalCpm():n.getGrossEcpm(),ocry:E.getAdServerCurrency()?n.getOriginalCurrency():I.COMMON.ANALYTICS_CURRENCY,piid:n.getsspID(),frv:n.getServerSideStatus()?void 0:d?d.floorData?d.floorData.floorRuleValue:void 0:void 0,md:d?y.getMetadata(d.meta):void 0})}}))})),n[s].push(p),r&&E.getServerEnabledAdaptars().length&&void 0==a&&!window.pbsLatency&&(a=0),void 0!==a&&(n[s].psl=a)}}var w,h,E=n("./src_new/config.js"),I=n("./src_new/constants.js"),v=n("./src_new/util.js"),O=n("./src_new/bmEntry.js"),y=this;const b="PROFILE_AUCTION_INFO_",S={img:1,js:2,1:"img",2:"js"},A={impression:1,"viewable-mrc50":2,"viewable-mrc100":3,"viewable-video50":4};t.createBidEntry=i,t.setSizes=function(e,t){y.createBidEntry(e),window.PWT.bidMap[e].setSizes(t)},t.setCallInitTime=function(e,t){y.createBidEntry(e),window.PWT.bidMap[e].setAdapterEntry(t)},t.setAllPossibleBidsReceived=function(e){window.PWT.bidMap[e].setAllPossibleBidsReceived()},t.setBidFromBidder=function(e,t){var n=t.getAdapterID(),i=(t.getBidID(),window.PWT.bidMap[e]);if(!v.isOwnProperty(window.PWT.bidMap,e))return v.logWarning("BidManager is not expecting bid for "+e+", from "+n),void 0;var r=i.getCreationTime()+E.getTimeout()<t.getReceivedTime()?!0:!1,o=t.getReceivedTime()-i.getCreationTime();y.createBidEntry(e),v.log("BdManagerSetBid: divID: "+e+", bidderID: "+n+", ecpm: "+t.getGrossEcpm()+", size: "+t.getWidth()+"x"+t.getHeight()+", postTimeout: "+r+", defaultBid: "+t.getDefaultBidStatus()),r===!0&&t.setPostTimeoutStatus();var a=i.getLastBidIDForAdapter(n);if(""!=a){var s=i.getBid(n,a),d=1===s.getDefaultBidStatus(),c=-1===s.getDefaultBidStatus();d||!r||c?(d&&v.log(I.MESSAGES.M23+n),d||s.getNetEcpm()<t.getNetEcpm()||c?(v.log(I.MESSAGES.M12+s.getNetEcpm()+I.MESSAGES.M13+t.getNetEcpm()+I.MESSAGES.M14+n),y.storeBidInBidMap(e,n,t,o)):v.log(I.MESSAGES.M12+s.getNetEcpm()+I.MESSAGES.M15+t.getNetEcpm()+I.MESSAGES.M16+n)):v.log(I.MESSAGES.M17)}else v.log(I.MESSAGES.M18+n),y.storeBidInBidMap(e,n,t,o);r&&setTimeout(window[I.COMMON.PREBID_NAMESPACE].triggerUserSyncs,10)},t.storeBidInBidMap=r,t.resetBid=o,t.createMetaDataKey=a,t.replaceMetaDataMacros=s,t.auctionBids=d,t.updateNativeTargtingKeys=c,t.auctionBidsCallBack=u,t.getBid=function(e){var t=null,n=null;
if(v.isOwnProperty(window.PWT.bidMap,e)){var i=y.auctionBids(window.PWT.bidMap[e]);t=i.wb,n=i.kvp,window.PWT.bidMap[e].setAnalyticEnabled(),t&&t.getNetEcpm()>0?(t.setStatus(1),t.setWinningBidStatus(),v.vLogInfo(e,{type:"win-bid",bidDetails:t,adServerCurrency:v.getCurrencyToDisplay()})):v.vLogInfo(e,{type:"win-bid-fail"})}return{wb:t,kvp:n}},t.getBidById=function(e){if(!v.isOwnProperty(window.PWT.bidIdMap,e))return v.log(I.MESSAGES.M25+e),null;var t=window.PWT.bidIdMap[e].s,n=window.PWT.bidIdMap[e].a;if(v.isOwnProperty(window.PWT.bidMap,t)){v.log("BidID: "+e+", DivID: "+t+I.MESSAGES.M19+n);var i=window.PWT.bidMap[t].getBid(n,e);return null==i?null:{bid:i,slotid:t}}return v.log(I.MESSAGES.M25+e),null},t.displayCreative=function(e,t){w=localStorage.getItem(b+window.location.hostname);var n=y.getBidById(t);if(n){var i=n.bid,r=n.slotid;v.displayCreative(e,i),v.vLogInfo(r,{type:"disp",adapter:i.getAdapterID()}),y.executeMonetizationPixel(r,i);var o=JSON.parse(localStorage.getItem(b+window.location.hostname))||{};null!==o&&o.slotLevelFrquencyDepth&&(o.slotLevelFrquencyDepth[o.codeAdUnitMap[r]].impressionServed=o.slotLevelFrquencyDepth[o.codeAdUnitMap[r]].impressionServed+1,o.impressionServed=o.impressionServed+1),localStorage.setItem(b+window.location.hostname,JSON.stringify(o))}},t.executeAnalyticsPixel=function(){w=localStorage.getItem(b+window.location.hostname),h=null!==w?JSON.parse(w):{};var e={s:[]},t=E.getPublisherId(),n=E.getAnalyticsPixelURL(),i={};n&&(n=I.COMMON.PROTOCOL+n+"pubid="+t,e[I.CONFIG.PUBLISHER_ID]=E.getPublisherId(),e[I.LOGGER_PIXEL_PARAMS.TIMEOUT]=""+E.getTimeout(),e[I.LOGGER_PIXEL_PARAMS.PAGE_URL]=window.decodeURIComponent(v.metaInfo.pageURL),e[I.LOGGER_PIXEL_PARAMS.PAGE_DOMAIN]=v.metaInfo.pageDomain,e[I.LOGGER_PIXEL_PARAMS.TIMESTAMP]=v.getCurrentTimestamp(),e[I.CONFIG.PROFILE_ID]=E.getProfileID(),e[I.CONFIG.PROFILE_VERSION_ID]=E.getProfileDisplayVersionID(),e.ih=E.isUserIdModuleEnabled()?1:0,e.bm=y.getBrowser(),e.tgid=v.getTgid(),Object.keys(h).length&&(e.tpv=h.pageView,e.trc=h.slotCnt,e.tbs=h.bidServed,e.tis=h.impressionServed,e.lip=h.lip),window.PWT.CC&&window.PWT.CC.cc&&(e.ctr=window.PWT.CC.cc),v.forEachOnObject(window.PWT.bidMap,(function(e,t){y.analyticalPixelCallback(e,t,i)})),v.forEachOnObject(i,(function(t,i){if(i.length>0){if(e.s=i,e[I.COMMON.IMPRESSION_ID]=window.encodeURIComponent(t),E.isFloorPriceModuleEnabled()){var r=window.PWT.floorData[e[I.COMMON.IMPRESSION_ID]];e.fmv=r.floorRequestData?r.floorRequestData.modelVersion||void 0:void 0,e.ft=r.floorResponseData?0==r.floorResponseData.enforcements.enforceJS?0:1:void 0}e.psl=i.psl,e.dvc={plt:v.getDevicePlatform()},v.ajaxRequest(n,(function(){}),"json="+window.encodeURIComponent(JSON.stringify(e)),{contentType:"application/x-www-form-urlencoded",withCredentials:!0})}})))},t.executeMonetizationPixel=function(e,t){var n=v.generateMonetizationPixel(e,t);n&&y.setImageSrcToPixelURL(n)},t.getAdUnitSizes=p,t.getAdUnitInfo=l,t.getAdUnitAdFormats=g,t.getSlotLevelFrequencyDepth=function(e,t,n){var i;return Object.keys(e).length&&e.slotLevelFrquencyDepth&&(i=e.slotLevelFrquencyDepth[n]&&e.slotLevelFrquencyDepth[n][t]),i},t.getMetadata=f,t.analyticalPixelCallback=m,t.setImageSrcToPixelURL=function(e,t){var n=new window.Image;return void 0==t||t?(String(e).trim().substring(0,8)!=I.COMMON.PROTOCOL&&(e=I.COMMON.PROTOCOL+e),n.src=e,void 0):(n.src=e,void 0)},t.getAllPartnersBidStatuses=function(e,t){var n=!0;return v.forEachOnArray(t,(function(t,i){e[i]&&(n=n&&e[i].hasAllPossibleBidsReceived()===!0)})),n},t.loadTrackers=function(e){var t=v.getBidFromEvent(e);window.parent.postMessage(JSON.stringify({pwt_type:"3",pwt_bidID:t,pwt_origin:I.COMMON.PROTOCOL+window.location.hostname,pwt_action:"click"}),"*")},t.executeTracker=function(e){window.parent.postMessage(JSON.stringify({pwt_type:"3",pwt_bidID:e,pwt_origin:I.COMMON.PROTOCOL+window.location.hostname,pwt_action:"imptrackers"}),"*")},t.fireTracker=function(e,t){var n;if("click"===t)n=e["native"]&&e["native"].ortb&&e["native"].ortb.link&&e["native"].ortb.link.clickTrackers;else if("imptrackers"===t){const i=e.native.ortb||e.native,r=(i.eventtrackers||[]).filter((function(e){e.event===A.impression})),o={img:[],js:[]};r.forEach((function(e){S.hasOwnProperty(e.method)&&o[S[e.method]].push(e.url)})),0==o.img.length&&i.imptrackers&&(o.img=o.img.concat(i.imptrackers)),n=o.img,0==o.js.length&&i.jstracker&&(o.js=o.js.concat([i.jstracker])),o.js.length&&v.insertHtmlIntoIframe(o.js.join("\n"))}(n||[]).forEach((function(e){y.setImageSrcToPixelURL(e,!1)}))},t.setStandardKeys=function(e,t){if(e){t[I.WRAPPER_TARGETING_KEYS.BID_ID]=e.getBidID(),t[I.WRAPPER_TARGETING_KEYS.BID_STATUS]=e.getStatus(),t[I.WRAPPER_TARGETING_KEYS.BID_ECPM]=e.getNetEcpm().toFixed(I.COMMON.BID_PRECISION);var n=e.getDealID();n&&(t[I.WRAPPER_TARGETING_KEYS.BID_DEAL_ID]=n),t[I.WRAPPER_TARGETING_KEYS.BID_ADAPTER_ID]=e.getAdapterID(),t[I.WRAPPER_TARGETING_KEYS.PUBLISHER_ID]=E.getPublisherId(),t[I.WRAPPER_TARGETING_KEYS.PROFILE_ID]=E.getProfileID(),t[I.WRAPPER_TARGETING_KEYS.PROFILE_VERSION_ID]=E.getProfileDisplayVersionID(),t[I.WRAPPER_TARGETING_KEYS.BID_SIZE]=e.width+"x"+e.height,t[I.WRAPPER_TARGETING_KEYS.PLATFORM_KEY]=e.getAdFormat()==I.FORMAT_VALUES.VIDEO&&e.getcacheUUID()?I.PLATFORM_VALUES.VIDEO:e.getNative()?I.PLATFORM_VALUES.NATIVE:I.PLATFORM_VALUES.DISPLAY,e.getAdFormat()==I.FORMAT_VALUES.VIDEO&&e.getcacheUUID()&&(t[I.WRAPPER_TARGETING_KEYS.CACHE_PATH]=I.CONFIG.CACHE_PATH,t[I.WRAPPER_TARGETING_KEYS.CACHE_URL]=I.CONFIG.CACHE_URL,t[I.WRAPPER_TARGETING_KEYS.CACHE_ID]=e.getcacheUUID())}else v.logWarning("Not generating key-value pairs as invalid winningBid object passed. WinningBid: "),v.logWarning(e)},t.getBrowser=function(){var e=I.REGEX_BROWSERS,t=I.BROWSER_MAPPING,n=navigator.userAgent,i=null==n?-1:0;if(n)for(var r=0;r<e.length;r++)if(n.match(e[r])){i=t[r];break}return i}},"./src_new/bmEntry.js":function(e,t,n){function i(e){this.name=e,this.sizes=[],this.adapters={},this.creationTime=o.getCurrentTimestampInMs(),this.impressionID="",this.analyticsEnabled=!1,this.expired=!1,this.allPossibleBidsReceived=!1}var r=n("./src_new/constants.js"),o=n("./src_new/util.js"),a=n("./src_new/adapterEntry.js").AdapterEntry;i.prototype.setExpired=function(){return this.expired=!0,this},i.prototype.getExpiredStatus=function(){return this.expired},i.prototype.setAnalyticEnabled=function(){return this.analyticsEnabled=!0,this},i.prototype.getAnalyticEnabledStatus=function(){return this.analyticsEnabled},i.prototype.setNewBid=function(e,t){o.isOwnProperty(this.adapters,e)||(this.adapters[e]=new a(e)),this.adapters[e].setNewBid(t)},i.prototype.getBid=function(e,t){return o.isOwnProperty(this.adapters,e)?this.adapters[e].getBid(t):void 0},i.prototype.getName=function(){return this.name},i.prototype.getCreationTime=function(){return this.creationTime},i.prototype.setImpressionID=function(e){return this.impressionID=e,this},i.prototype.getImpressionID=function(){return this.impressionID},i.prototype.setSizes=function(e){return this.sizes=e,this},i.prototype.getSizes=function(){return this.sizes},i.prototype.setAdapterEntry=function(e){return o.isOwnProperty(this.adapters,e)||(this.adapters[e]=new a(e),o.log(r.MESSAGES.M4+this.name+" "+e+" "+this.adapters[e].getCallInitiatedTime())),this},i.prototype.getLastBidIDForAdapter=function(e){return o.isOwnProperty(this.adapters,e)?this.adapters[e].getLastBidID():""},i.prototype.setAllPossibleBidsReceived=function(){return this.allPossibleBidsReceived=!0,this},i.prototype.hasAllPossibleBidsReceived=function(){return this.allPossibleBidsReceived},e.exports.BMEntry=i,t.createBMEntry=function(e){return new i(e)}},"./src_new/common.config.js":function(e,t,n){var i=n("./src_new/conf.js"),r=n("./src_new/constants.js");t.getGdprActionTimeout=function(){var e=i[r.CONFIG.COMMON][r.CONFIG.GDPR_ACTION_TIMEOUT];return e?window.parseInt(e):0}},"./src_new/conf.js":function(e,t){t.pwt={t:"3000",pid:"46",gcv:"11",pdvid:"4",pubid:"9999",dataURL:"t.test-domain.com/logger?",winURL:"t.test-domain.com/tracker?",adserver:"CUSTOM",gdpr:"0",cmpApi:"iab",gdprTimeout:"10000",awc:"1",disableAjaxTimeout:!0,adServerCurrency:"INR",singleImpression:"1",identityEnabled:"0",identityConsumers:"EB,TAM,Prebid",identityOnly:"0",ccpa:"0",ccpaCmpApi:"iab",ccpaTimeout:"10000",pbv:"v4.33.0",owv:"v21.4.0",abTestEnabled:"0",pubAnalyticsAdapter:"0",reduceCodeSize:1,pbGlobalVarNamespace:"owpbjs",owGlobalVarNamespace:"PWT",localStorageAccess:"1"},t.testConfigDetails={testGroupSize:99},t.test_pwt={t:5e3},t.adapters={pubmatic:{rev_share:"0.0",throttle:"100",publisherId:"156209",kgp:"_W_x_H_@_W_x_H_:_AUI_"},audienceNetwork:{rev_share:"0.0",throttle:"100",kgp:"_DIV_",klm:{Div_1:{placementId:"8801674"},"Div-2":{placementId:"8801685"}}},sekindoUM:{rev_share:"0.0",throttle:"100",kgp:"_DIV_",klm:{Div_1:{spaceId:14071},"Div-2":{spaceId:14071}}},appnexus:{rev_share:"0.0",throttle:"100",kgp:"_DIV_",klm:{Div_1:{placementId:"8801674","video.mimes":"","video.minduration":""},"Div-2":{placementId:"8801685"}}},pulsepoint:{cp:"521732",rev_share:"0.0",throttle:"100",kgp:"_DIV_",klm:{Div_1:{ct:"76835"},"Div-2":{ct:"147007"}}},rubicon:{accountId:"10998",rev_share:"0.0",timeout:"1000",throttle:"100",pt:0,serverSideEnabled:"0",amp:0,video:0,"in-app":0,kgp_rx:"_AU_@_DIV_@_W_x_H_",klm_rx:[{rx:{DIV:".*",AU:"^/43743431/DMDemo",SIZE:"728x90"},rx_config:{zoneId:"869224",siteId:"178620",floor:"0"}}]}},t.identityPartners={pubCommonId:{name:"pubCommonId","storage.type":"cookie","storage.name":"_myPubCommonId","storage.expires":"1825"},identityLink:{name:"identityLink","params.pid":"23","storage.type":"cookie","params.loadAts":"true","params.placementID":"23","params.storageType":"localstorage","params.detectionType":"scrapeAndUrl","params.urlParameter":"eparam","params.cssSelectors":["input[type=text]","input[type=email]"],"params.logging":"info","storage.name":"somenamevalue","storage.expires":"60"},criteo:{name:"criteo"},unifiedId:{name:"unifiedId","params.url":"https://match.adsrvr.org/track/rid?ttd_pid=PubMatic&fmt=json","storage.type":"cookie","storage.name":"_myUnifiedId","storage.expires":"1825"}},t.slotConfig={configPattern:"_DIV_",config:{Div1:{banner:{enabled:!0},"native":{enabled:!0,config:{image:{required:!0,sizes:[150,50]},title:{required:!0,len:80},sponsoredBy:{required:!0},body:{required:!0}}},video:{enabled:!0,config:{context:"instream",connectiontype:[1,2,6],minduration:10,maxduration:50,battr:[6,7],skip:1,skipmin:10,skipafter:15},partnerConfig:{pubmatic:{outstreamAU:"pubmatic-test"}}}},AU2:{banner:{}}}}},"./src_new/config.js":function(e,t,n){function i(){var e=o.COMMON.PARENT_ADAPTER_PREBID;if(!a.isOwnProperty(r.adapters,e)){var t={};t[o.CONFIG.REV_SHARE]="0.0",t[o.CONFIG.THROTTLE]="100",t[o.CONFIG.KEY_GENERATION_PATTERN]="_DIV_",t[o.CONFIG.KEY_LOOKUP_MAP]={},r.adapters[e]=t}}var r=n("./src_new/conf.js"),o=n("./src_new/constants.js"),a=n("./src_new/util.js"),s=null;s=this,s[o.COMMON.OWVERSION]=r[o.CONFIG.COMMON][o.COMMON.OWVERSION],s[o.COMMON.PBVERSION]=r[o.CONFIG.COMMON][o.COMMON.PBVERSION],t.getPublisherId=function(){return a.trim(r.pwt.pubid)||"0"},t.getMataDataPattern=function(){return a.isString(r[o.CONFIG.COMMON][o.CONFIG.META_DATA_PATTERN])?r[o.CONFIG.COMMON][o.CONFIG.META_DATA_PATTERN]:null},t.getSendAllBidsStatus=function(){return window.parseInt(r[o.CONFIG.COMMON][o.CONFIG.SEND_ALL_BIDS])||0},t.getTimeout=function(){return window.parseInt(r.pwt.t)||1e3},t.getDisableAjaxTimeout=function(){var e=r.pwt;return a.isOwnProperty(e,o.CONFIG.DISABLE_AJAX_TIMEOUT)?1==r.pwt.disableAjaxTimeout:!0},t.getAdapterRevShare=function(e){var t=r.adapters;return a.isOwnProperty(t[e],o.CONFIG.REV_SHARE)?1-window.parseFloat(t[e][o.CONFIG.REV_SHARE])/100:1},t.getAdapterThrottle=function(e){var t=r.adapters;return a.isOwnProperty(t[e],o.CONFIG.THROTTLE)?100-window.parseFloat(t[e][o.CONFIG.THROTTLE]):0},t.isServerSideAdapter=function(e){var t=r.adapters;return t[e]&&a.isOwnProperty(t[e],o.CONFIG.SERVER_SIDE_ENABLED)?1===window.parseInt(t[e][o.CONFIG.SERVER_SIDE_ENABLED]):!1},t.getAdapterMaskBidsStatus=function(e){var t=r.adapters,n={audienceNetwork:1};return a.isOwnProperty(n,e)?n[e]:a.isOwnProperty(t[e],o.CONFIG.MASK_BIDS)?window.parseInt(t[e][o.CONFIG.MASK_BIDS])||0:0},t.getBidPassThroughStatus=function(e){var t=r.adapters;return a.isOwnProperty(t[e],o.CONFIG.BID_PASS_THROUGH)?window.parseInt(t[e][o.CONFIG.BID_PASS_THROUGH]):0},t.getProfileID=function(){return a.trim(r.pwt[o.CONFIG.PROFILE_ID])||"0"},t.getProfileDisplayVersionID=function(){return a.trim(r.pwt[o.CONFIG.PROFILE_VERSION_ID])||"0"},t.getAnalyticsPixelURL=function(){return r.pwt[o.CONFIG.LOGGER_URL]||!1},t.getMonetizationPixelURL=function(){return r.pwt[o.CONFIG.TRACKER_URL]||!1},t.forEachAdapter=function(e){a.forEachOnObject(r.adapters,e)},t.getGdpr=function(){var e=r[o.CONFIG.COMMON][o.CONFIG.GDPR_CONSENT]||o.CONFIG.DEFAULT_GDPR_CONSENT;return"1"===e},t.getCmpApi=function(){return r[o.CONFIG.COMMON][o.CONFIG.GDPR_CMPAPI]||o.CONFIG.DEFAULT_GDPR_CMPAPI},t.getGdprTimeout=function(){var e=r[o.CONFIG.COMMON][o.CONFIG.GDPR_TIMEOUT];return e?window.parseInt(e):o.CONFIG.DEFAULT_GDPR_TIMEOUT},t.getAwc=function(){var e=r[o.CONFIG.COMMON][o.CONFIG.GDPR_AWC]||o.CONFIG.DEFAULT_GDPR_AWC;return"1"===e},t.getOverrideNamespace=function(e,t,n){var i=r[o.CONFIG.COMMON][e];return i?i===t?n:i:n},t.addPrebidAdapter=i,t.initConfig=function(){s.updateABTestConfig(),s.addPrebidAdapter();var e={};a.forEachOnObject(o.CONFIG,(function(t,n){e[n]=""})),a.forEachOnObject(r.adapters,(function(t,n){var i={};a.forEachOnObject(n,(function(t,n){a.isOwnProperty(e,t)||(i[t]=n)})),a.forEachOnObject(n[o.CONFIG.KEY_LOOKUP_MAP],(function(e,t){a.forEachOnObject(i,(function(e,n){t[e]=n}))})),"pubmatic"!=t&&"pubmatic2"!=t&&a.forEachOnObject(n[o.CONFIG.REGEX_KEY_LOOKUP_MAP],(function(e,t){a.forEachOnObject(i,(function(e,n){a.isOwnProperty(t,"rx_config")&&(t.rx_config[e]=n)}))}))}))},t.getNativeConfiguration=function(){return r[o.COMMON.NATIVE_MEDIA_TYPE_CONFIG]},t.getAdServerCurrency=function(){return r[o.CONFIG.COMMON][o.COMMON.AD_SERVER_CURRENCY]},t.isSingleImpressionSettingEnabled=function(){return parseInt(r[o.CONFIG.COMMON][o.COMMON.SINGLE_IMPRESSION]||o.CONFIG.DEFAULT_SINGLE_IMPRESSION)},t.isUserIdModuleEnabled=function(){return parseInt(r[o.CONFIG.COMMON][o.COMMON.ENABLE_USER_ID]||o.CONFIG.DEFAULT_USER_ID_MODULE)},t.getIdentityPartners=function(){return r[o.COMMON.IDENTITY_PARTNERS]},t.isIdentityOnly=function(){return parseInt(r[o.CONFIG.COMMON][o.COMMON.IDENTITY_ONLY]||o.CONFIG.DEFAULT_IDENTITY_ONLY)},t.getIdentityConsumers=function(){return(r[o.CONFIG.COMMON][o.COMMON.IDENTITY_CONSUMERS]||"").toLowerCase()},t.getSlotConfiguration=function(){return r[o.COMMON.SLOT_CONFIG]},t.getAdServer=function(){return r[o.COMMON.ADSERVER]},t.getCCPA=function(){var e=r[o.CONFIG.COMMON][o.CONFIG.CCPA_CONSENT]||o.CONFIG.DEFAULT_CCPA_CONSENT;return"1"===e},t.getCCPACmpApi=function(){return r[o.CONFIG.COMMON][o.CONFIG.CCPA_CMPAPI]||o.CONFIG.DEFAULT_CCPA_CMPAPI},t.getCCPATimeout=function(){var e=r[o.CONFIG.COMMON][o.CONFIG.CCPA_TIMEOUT];return e?window.parseInt(e):o.CONFIG.DEFAULT_CCPA_TIMEOUT},t.getSchainObject=function(){return r[o.CONFIG.COMMON][o.COMMON.SCHAINOBJECT]||{}},t.isSchainEnabled=function(){return window.parseInt(r[o.CONFIG.COMMON][o.COMMON.SCHAIN])||0},t.isFloorPriceModuleEnabled=function(){return 1===window.parseInt(r[o.CONFIG.COMMON][o.CONFIG.FLOOR_PRICE_MODULE_ENABLED])},t.getFloorSource=function(){return r[o.CONFIG.COMMON][o.CONFIG.FLOOR_SOURCE]},t.getFloorJsonUrl=function(){return r[o.CONFIG.COMMON][o.CONFIG.FLOOR_JSON_URL]},t.getFloorAuctionDelay=function(){var e=r[o.CONFIG.COMMON][o.CONFIG.FLOOR_AUCTION_DELAY];return e?window.parseInt(e):o.CONFIG.DEFAULT_FLOOR_AUCTION_DELAY},t.getFloorType=function(){return r[o.CONFIG.COMMON][o.CONFIG.FLOOR_ENFORCE_JS]&&r[o.CONFIG.COMMON][o.CONFIG.FLOOR_ENFORCE_JS].toLowerCase()===o.COMMON.HARD_FLOOR?!0:!1},t.isPrebidPubMaticAnalyticsEnabled=function(){return 1===parseInt(r[o.CONFIG.COMMON][o.CONFIG.ENABLE_PB_PM_ANALYTICS])},t.isUsePrebidKeysEnabled=function(){return 1===parseInt(r[o.CONFIG.COMMON][o.CONFIG.USE_PREBID_KEYS])},t.PBJS_NAMESPACE=r[o.CONFIG.COMMON][o.COMMON.PBJS_NAMESPACE]||"pbjs",t.getPriceGranularity=function(){return r[o.CONFIG.COMMON][o.COMMON.PRICE_GRANULARITY]||null},t.getGranularityMultiplier=function(){return parseFloat(r[o.CONFIG.COMMON][o.COMMON.GRANULARITY_MULTIPLIER])||1},t.isAbTestEnabled=function(){return 1===parseInt(r[o.CONFIG.COMMON][o.CONFIG.AB_TEST_ENABLED])},t.getTestPWTConfig=function(){return r[o.COMMON.TEST_PWT]||{}},t.getTestGroupDetails=function(){return r[o.COMMON.TEST_GROUP_DETAILS]||{}},t.getTestPartnerConfig=function(){return r[o.COMMON.TEST_PARTNER]||{}},t.getTestIdentityPartners=function(){return r[o.COMMON.TEST_IDENTITY_PARTNER]||{}},t.updateABTestConfig=function(){if(s.isAbTestEnabled()){var e=a.getRandomNumberBelow100(),t=s.getTestGroupDetails();t&&t.testGroupSize&&e<t.testGroupSize&&(s.updatePWTConfig(),r.adapters=s.updatePartnerConfig(s.getTestPartnerConfig(),r.adapters),s.getTestIdentityPartners()&&s.getIdentityPartners()&&(Object.keys(s.getTestIdentityPartners()).length>0&&0==Object.keys(s.getIdentityPartners()).length?(a.log(o.MESSAGES.M31,JSON.stringify(s.getTestIdentityPartners())),r.identityPartners=s.getTestIdentityPartners()):0==Object.keys(s.getTestIdentityPartners()).length&&Object.keys(s.getIdentityPartners()).length>0?(a.log(o.MESSAGES.M31,JSON.stringify({})),r.identityPartners={}):r.identityPartners=s.updatePartnerConfig(s.getTestIdentityPartners(),s.getIdentityPartners())),window.PWT.testGroupId=1)}},t.updatePWTConfig=function(){var e=s.getTestPWTConfig();if(e&&Object.keys(e).length>0){a.log(o.MESSAGES.M30,JSON.stringify(e));for(var t in e)r[o.CONFIG.COMMON][t]&&(r[o.CONFIG.COMMON][t]=e[t])}},t.updatePartnerConfig=function(e,t){if(e&&t&&Object.keys(e).length>0&&Object.keys(t).length>0){a.log(o.MESSAGES.M31,JSON.stringify(e));for(var n in e)a.isOwnProperty(e,n)&&a.isObject(e[n])&&(0==Object.keys(e[n]).length&&t[n]&&Object.keys(t[n]).length>0?e[n]=t[n]:Object.keys(e[n]).length>0&&t[n]&&Object.keys(t[n]).length>0&&(e[n]=s.getMergedConfig(e[n],t[n])));return window.PWT.testGroupId=1,e}return t},t.getTestGroupDetails=function(){return r[o.COMMON.TEST_GROUP_DETAILS]||{}},t.getMergedConfig=function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=a.isObject(t[n])||a.isArray(t[n])?JSON.parse(JSON.stringify(t[n])):t[n]);return e},t.forEachBidderAlias=function(e){a.forEachOnObject(r.alias,e)},t.getAdapterNameForAlias=function(e){return r.alias&&r.alias[e]?r.alias[e]:e},t.isSSOEnabled=function(){return 1===parseInt(r[o.CONFIG.COMMON][o.CONFIG.SSO_ENABLED])},t.getServerEnabledAdaptars=function(){var e=Object.keys(r.adapters).filter((function(e){return"1"==r.adapters[e].serverSideEnabled?e:void 0}));return e},t.getTimeoutForPBSRequest=function(){var e=parseInt(r.pwt.ssTimeout),t=o.TIMEOUT_CONFIG.MaxTimeout,n=o.TIMEOUT_CONFIG.MinTimeout;return e>=n&&t>=e?e:e>=n?t:n},t.getPubMaticAndAlias=function(e){var t=e.filter((function(e){return r.alias&&r.alias[e]&&r.alias[e].includes("pubmatic")||e.includes("pubmatic")?e:void 0}));return t},t.usePBSAdapter=function(){return"1"==r.pwt.usePBSAdapter?!0:!1},t.createMacros=function(){return{"[PLATFORM]":a.getDevicePlatform().toString(),"[PROFILE_ID]":s.getProfileID().toString(),"[PROFILE_VERSION]":s.getProfileDisplayVersionID().toString()}},t.getMarketplaceBidders=function(){return r.pwt.marketplaceBidders?r.pwt.marketplaceBidders.split(","):!1}},"./src_new/constants.js":function(e,t){t.COMMON={BID_PRECISION:2,DEAL_KEY_FIRST_PART:"pwtdeal_",DEAL_KEY_VALUE_SEPARATOR:"_-_",PREBID_PREFIX:"PB_",CONFIG:"config",DIV_ID:"divID",PARAMS:"params",SIZES:"sizes",HEIGHT:"height",WIDTH:"width",SLOTS:"slots",KEY_GENERATION_PATTERN_VALUE:"kgpv",KEY_VALUE_PAIRS:"kvp",IMPRESSION_ID:"iid",PARENT_ADAPTER_PREBID:"prebid",ANALYTICS_CURRENCY:"USD",NATIVE_MEDIA_TYPE_CONFIG:"nativeConfig",NATIVE_ONLY:"nativeOnly",OW_CLICK_NATIVE:"openwrap-native-click",BID_ID:"owbidid",AD_SERVER_CURRENCY:"adServerCurrency",SINGLE_IMPRESSION:"singleImpression",OPENWRAP_NAMESPACE:"PWT",IH_OW_NAMESPACE:"IHPWT",PREBID_NAMESPACE:"owpbjs",IH_NAMESPACE:"ihowpbjs",ENABLE_USER_ID:"identityEnabled",IDENTITY_PARTNERS:"identityPartners",IDENTITY_CONSUMERS:"identityConsumers",IDENTITY_ONLY:"identityOnly",PREBID:"prebid",PROTOCOL:"https://",SLOT_CONFIG:"slotConfig",DEFAULT:"default",MCONF_REGEX:"regex",ADSERVER:"adserver",OWVERSION:"owv",PBVERSION:"pbv",SCHAINOBJECT:"sChainObj",SCHAIN:"sChain",PBJS_NAMESPACE:"prebidObjName",TEST_GROUP_DETAILS:"testConfigDetails",TEST_PWT:"test_pwt",PRICE_GRANULARITY:"priceGranularity",GRANULARITY_MULTIPLIER:"granularityMultiplier",TEST_PARTNER:"test_adapters",REDUCE_CODE_SIZE:"reduceCodeSize",TEST_IDENTITY_PARTNER:"test_identityPartners",IH_ANALYTICS_ADAPTER_EXPIRY:"ihAnalyticsAdapterExpiry",IH_ANALYTICS_ADAPTER_DEFAULT_EXPIRY:7,EXTERNAL_FLOOR_WO_CONFIG:"External Floor w/o Config",HARD_FLOOR:"hard"},t.CONFIG={GLOBAL:"global",ADAPTERS:"adapters",COMMON:"pwt",TIMEOUT:"t",KEY_GENERATION_PATTERN:"kgp",REGEX_KEY_GENERATION_PATTERN:"kgp_rx",REGEX_KEY_LOOKUP_MAP:"klm_rx",KEY_LOOKUP_MAP:"klm",SERVER_SIDE_KEY:"sk",PUBLISHER_ID:"pubid",PROFILE_ID:"pid",PROFILE_VERSION_ID:"pdvid",LOGGER_URL:"dataURL",TRACKER_URL:"winURL",REV_SHARE:"rev_share",THROTTLE:"throttle",BID_PASS_THROUGH:"pt",GLOBAL_KEY_VALUE:"gkv",MASK_BIDS:"maksBids",META_DATA_PATTERN:"metaDataPattern",SEND_ALL_BIDS:"sendAllBids",SERVER_SIDE_ENABLED:"serverSideEnabled",GDPR_CONSENT:"gdpr",CONSENT_STRING:"cns",GDPR_CMPAPI:"cmpApi",GDPR_TIMEOUT:"gdprTimeout",GDPR_AWC:"awc",DEFAULT_GDPR_CMPAPI:"iab",DEFAULT_GDPR_TIMEOUT:1e4,DEFAULT_GDPR_AWC:"0",DEFAULT_SINGLE_IMPRESSION:"0",DEFAULT_USER_ID_MODULE:"0",DEFAULT_IDENTITY_ONLY:"0",DEFAULT_GDPR_CONSENT:"0",DISABLE_AJAX_TIMEOUT:"disableAjaxTimeout",CCPA_CONSENT:"ccpa",CCPA_CMPAPI:"ccpaCmpApi",CCPA_TIMEOUT:"ccpaTimeout",DEFAULT_CCPA_CMPAPI:"iab",DEFAULT_CCPA_TIMEOUT:1e4,CACHE_PATH:"/cache",CACHE_URL:"https://ow.pubmatic.com",VIDEO_PARAM:"video",ENABLE_PB_PM_ANALYTICS:"pubAnalyticsAdapter",FLOOR_PRICE_MODULE_ENABLED:"floorPriceModuleEnabled",FLOOR_AUCTION_DELAY:"floorAuctionDelay",DEFAULT_FLOOR_AUCTION_DELAY:100,FLOOR_JSON_URL:"jsonUrl",FLOOR_ENFORCE_JS:"floorType",DEFAULT_FLOOR_ENFORCE_JS:!0,USE_PREBID_KEYS:"usePBJSKeys",AB_TEST_ENABLED:"abTestEnabled",TIMEOUT_ADJUSTMENT:50,SSO_ENABLED:"ssoEnabled",FLOOR_SOURCE:"floorSource",GDPR_ACTION_TIMEOUT:"gdprActionTimeout",PB_GLOBAL_VAR_NAMESPACE:"pbGlobalVarNamespace",OW_GLOBAL_VAR_NAMESPACE:"owGlobalVarNamespace"},t.METADATA_MACROS={WIDTH:"_W_",HEIGHT:"_H_",PARTNER:"_P_",GROSS_ECPM:"_GE_",NET_ECPM:"_NE_",BID_COUNT:"_BC_",PARTNER_COUNT:"_PC_"},t.MACROS={WIDTH:"_W_",HEIGHT:"_H_",AD_UNIT_ID:"_AU_",AD_UNIT_INDEX:"_AUI_",INTEGER:"_I_",DIV:"_DIV_"},t.SLOT_STATUS={CREATED:0,PARTNERS_CALLED:1,TARGETING_ADDED:2,DISPLAYED:3},t.WRAPPER_TARGETING_KEYS={BID_ID:"pwtsid",BID_STATUS:"pwtbst",BID_ECPM:"pwtecp",BID_DEAL_ID:"pwtdid",BID_ADAPTER_ID:"pwtpid",BID_SIZE:"pwtsz",PUBLISHER_ID:"pwtpubid",PROFILE_ID:"pwtprofid",PROFILE_VERSION_ID:"pwtverid",META_DATA:"pwtm",PLATFORM_KEY:"pwtplt",USER_IDS:"pwtuid",CACHE_ID:"pwtcid",CACHE_URL:"pwtcurl",CACHE_PATH:"pwtcpath"},t.IGNORE_PREBID_KEYS={hb_bidder:1,hb_adid:1,hb_pb:1,hb_size:1,hb_deal:1,hb_uuid:1,hb_cache_host:1,hb_cache_id:1,hb_adomain:1},t.LOGGER_PIXEL_PARAMS={TIMESTAMP:"tst",PAGE_URL:"purl",PAGE_DOMAIN:"orig",TIMEOUT:"to"},t.MESSAGES={M1:": In fetchbids.",M2:": Throttled.",M3:": adapter must implement the fetchBids() function.",M4:"BidManager: entry ",M5:": Callback.",M6:"bidAlreadExists : ",M7:": Exiting from fetchBids.",M8:". Config not found, ignored.",M10:"Bid is rejected as ecpm is NULL.",M11:"Bid is rejected as ecpm is NaN: ",M12:"Existing bid ecpm: ",M13:", is lower than new bid ecpm ",M14:", so we are replacing bid from partner ",M15:", is greater than new bid ecpm ",M16:", so we are not replacing bid from partner ",M17:"Post timeout bid, ignored.",M18:"Bid is selected for partner ",M19:": Found winning adapterID: ",M20:"Bid is rejected as ecpm is empty string.",M21:": error in respose handler.",M22:"Bid is rejected as ecpm is <= 0.",M23:"Existing bid is default-bid with zero ecpm, thus replacing it with the new bid from partner ",M24:"Passsed argument is not a bidAdaptor",M25:"Bid details not found for bidID: ",M26:"Currency Module is Activated. Ad Server Currency is: ",M27:"Invalid regex pattern ",M28:"Unable to match regex pattern as kgpv length is not 3",M29:"Unable to parse Partner configuration",M30:"AB Test Enabled With Config",M31:"AB Test Enabled With Partner Config",M32:"Invalid MediaConfig regex pattern : ",IDENTITY:{M1:"Unable to get User Id from OpenIdentity",M2:"Setting UserIds to EB ",M3:"Unable to parse User ID configuration",M4:"User Id Configuration Sent to prebid ",M5:"Identity only enabled, no need to process. Calling Original function ",M6:" function is not available. Make sure userId module is included."}},t.PLATFORM_VALUES={DISPLAY:"display",NATIVE:"native",VIDEO:"video"},t.FORMAT_VALUES={BANNER:"banner",VIDEO:"video",NATIVE:"native",OTHER:"other"},t.HOOKS={PREBID_SET_CONFIG:"HookForPrebidSetConfig",PREBID_REQUEST_BIDS:"HookForPrebidRequestBids",BID_RECEIVED:"HookForBidReceived",POST_AUCTION_KEY_VALUES:"HookForPostAuctionKeyValues"},t.SRA_ENABLED_BIDDERS={rubicon:1,improvedigital:2},t.EXCLUDE_IDENTITY_PARAMS=["rev_share","timeout","throttle"],t.TOLOWERCASE_IDENTITY_PARAMS=["storage.type"],t.JSON_VALUE_KEYS=["params.clientIdentifier"],t.AD_SERVER={DFP:"DFP",CUSTOM:"CUSTOM"},t.SPECIAL_CASE_ID_PARTNERS={intentIqId:{"params.partner":"number"},sharedId:{"params.syncTime":"number"},id5Id:{"params.partner":"number","storage.refreshInSeconds":"number","storage.expires":"number"},parrableId:{"params.timezoneFilter.allowedZones":"array"},imuid:{"params.cid":"number"},identityLink:{"storage.refreshInSeconds":"number"},merkleId:{"params.ssp_ids":"array"},liveIntentId:{"params.requestedAttributesOverrides":"customObject"}},t.ID_PARTNERS_CUSTOM_VALUES={id5Id:[{key:"params.provider",value:"pubmatic-identity-hub"}],identityLink:[{key:"storage.refreshInSeconds",value:"1800"}]},t.EXCLUDE_PARTNER_LIST=["pubProvidedId"],t.MEDIATYPE={BANNER:0,VIDEO:1,NATIVE:2},t.BID_STATUS={BID_REJECTED:"bidRejected"},t.PUBMATIC_ALIASES=["pubmatic2"],t.PBSPARAMS={adapter:"prebidServer",endpoint:"https://ow.pubmatic.com/pbs/openrtb2/auction",syncEndpoint:"https://ow.pubmatic.com/cookie_sync/?sec=1"},t.TIMEOUT_CONFIG={MaxTimeout:500,MinTimeout:200},t.DEFAULT_ALIASES={adg:"adgeneration",districtm:"appnexus",districtmDMX:"dmx",pubmatic2:"pubmatic"},t.YAHOOSSP="yahoossp",t.REGEX_BROWSERS=[/\b(?:crmo|crios)\/([\w\.]+)/i,/edg(?:e|ios|a)?\/([\w\.]+)/i,/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i,/opios[\/ ]+([\w\.]+)/i,/\bopr\/([\w\.]+)/i,/(kindle)\/([\w\.]+)/i,/(lunascape)[\/ ]?([\w\.]*)/i,/(maxthon)[\/ ]?([\w\.]*)/i,/(netfront)[\/ ]?([\w\.]*)/i,/(jasmine)[\/ ]?([\w\.]*)/i,/(blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock)\/([-\w\.]+)/i,/(rockmelt)\/([-\w\.]+)/i,/(midori)\/([-\w\.]+)/i,/(epiphany)\/([-\w\.]+)/i,/(silk)\/([-\w\.]+)/i,/(skyfire)\/([-\w\.]+)/i,/(ovibrowser)\/([-\w\.]+)/i,/(bolt)\/([-\w\.]+)/i,/(iron)\/([-\w\.]+)/i,/(vivaldi)\/([-\w\.]+)/i,/(iridium)\/([-\w\.]+)/i,/(phantomjs)\/([-\w\.]+)/i,/(bowser)\/([-\w\.]+)/i,/(quark)\/([-\w\.]+)/i,/(qupzilla)\/([-\w\.]+)/i,/(falkon)\/([-\w\.]+)/i,/(rekonq)\/([-\w\.]+)/i,/(puffin)\/([-\w\.]+)/i,/(brave)\/([-\w\.]+)/i,/(whale)\/([-\w\.]+)/i,/(qqbrowserlite)\/([-\w\.]+)/i,/(qq)\/([-\w\.]+)/i,/(duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i,/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i,/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i,/konqueror\/([\w\.]+)/i,/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i,/yabrowser\/([\w\.]+)/i,/(avast|avg)\/([\w\.]+)/i,/\bfocus\/([\w\.]+)/i,/\bopt\/([\w\.]+)/i,/coc_coc\w+\/([\w\.]+)/i,/dolfin\/([\w\.]+)/i,/coast\/([\w\.]+)/i,/miuibrowser\/([\w\.]+)/i,/fxios\/([-\w\.]+)/i,/\bqihu|(qi?ho?o?|360)browser/i,/(oculus)browser\/([\w\.]+)/i,/(samsung)browser\/([\w\.]+)/i,/(sailfish)browser\/([\w\.]+)/i,/(huawei)browser\/([\w\.]+)/i,/(comodo_dragon)\/([\w\.]+)/i,/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i,/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i,/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i,/\bgsa\/([\w\.]+) .*safari\//i,/headlesschrome(?:\/([\w\.]+)| )/i,/ wv\).+(chrome)\/([\w\.]+)/i,/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i,/(chrome|chromium|crios)\/v?([\w\.]+)/i,/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i,/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i,/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i,/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i,/(navigator|netscape\d?)\/([-\w\.]+)/i,/mobile vr; rv:([\w\.]+)\).+firefox/i,/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],t.BROWSER_MAPPING=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90]},"./src_new/controllers/custom.js":function(e,t,n){function i(e){I.isObject(e)&&(P=e)}function r(){return P}function o(e){var t=0;try{var n=e.getSlotId().getId().split("_");t=parseInt(n[n.length-1])}catch(i){}return t}function a(e){I.isObject(C.wrapperTargetingKeys)||(C.wrapperTargetingKeys={}),C.wrapperTargetingKeys[e]=""}function s(e){var t={};return I.forEachOnObject(e,(function(e,n){t[n]=""})),t}function d(e){e.PWT.safeFrameMessageListenerAdded||(I.addMessageEventListenerForSafeFrame(e),e.PWT.safeFrameMessageListenerAdded=!0)}function c(e){return I.isObject(e)?I.isString(e.code)?I.isString(e.divId)?I.isString(e.adUnitId)?I.isString(e.adUnitIndex)?I.isObject(e.mediaTypes)?I.isObject(e.mediaTypes.banner)||I.isObject(e.mediaTypes.native)||I.isObject(e.mediaTypes.video)?I.isObject(e.mediaTypes.banner)&&!I.isArray(e.mediaTypes.banner.sizes)?(I.logError("An anAdUnitObject.mediaTypes.banner should have a property named sizes and it should be an array",e),!1):!0:(I.logError("An anAdUnitObject.mediaTypes should atleast have a property named banner or native or video and it should be an object",e),!1):(I.logError("An AdUnitObject should have a property named mediaTypes and it should be an object",e),!1):(I.logError("An AdUnitObject should have a property named adUnitIndex and it should be a string",e),!1):(I.logError("An AdUnitObject should have a property named adUnitId and it should be a string",e),!1):(I.logError("An AdUnitObject should have a property named divId and it should be a string",e),!1):(I.logError("An AdUnitObject should have a property named code and it should be a string",e),!1):(I.logError("An AdUnitObject should be an object",e),!1)}function u(e){if(e&&e.mediaTypes){if(e.mediaTypes.banner&&I.isArray(e.mediaTypes.banner.sizes))return e.mediaTypes.banner.sizes;if(e.mediaTypes.video&&!(I.isArray(e.mediaTypes.video.playerSize)||e.mediaTypes.video.w&&e.mediaTypes.video.h))return I.logError("For slot video playersize or w,h is not defined and may not request bids from SSP for this slot. "+JSON.stringify(e)),[];if(e.mediaTypes.native||e.mediaTypes.video)return e.sizes}return[]}function p(e){var t;t=b===!0?y.getBid(e):v.getBid(e);
var n=t.wb||null,i=t.kvp||null,r=S?{}:E.IGNORE_PREBID_KEYS;b===!1&&n&&n.getNetEcpm()>0&&v.setStandardKeys(n,i),I.forEachOnObject(i,(function(e){I.isOwnProperty(r,e)||I.isOwnProperty({pwtpb:1},e)||n&&"pubmatic"!==n.adapterID&&I.isOwnProperty({hb_buyid_pubmatic:1,pwtbuyid_pubmatic:1},e)?delete i[e]:C.defineWrapperTargetingKey(e)}));var o=null;return n&&(o={},o.adHtml=n.adHtml,o.adapterID=n.adapterID,o.grossEcpm=n.grossEcpm,o.netEcpm=n.netEcpm,o.height=n.height,o.width=n.width),{wb:o,kvp:i}}function l(e,t){if(!I.isArray(e))return I.error("First argument to PWT.requestBids API, arrayOfAdUnits is mandatory and it should be an array."),t(e),void 0;if(!I.isFunction(t))return I.error("Second argument to PWT.requestBids API, callBackFunction is mandatory and it should be a function."),void 0;var n=[],i={},r=[];if(I.forEachOnArray(e,(function(e,t){if(C.validateAdUnitObject(t)){var o=t.code,a=O.createSlot(o);window.PWT.adUnits=window.PWT.adUnits||{},window.PWT.adUnits[o]=t,a.setDivID(t.divId||o),a.setPubAdServerObject(t),a.setAdUnitID(t.adUnitId||""),a.setAdUnitIndex(t.adUnitIndex||0),a.setSizes(C.getAdSlotSizesArray(t)),n.push(a),i[a.getDivID()]=a.getName(),r.push(a.getDivID()),I.createVLogInfoPanel(a.getDivID(),a.getSizes())}})),0==n.length)return I.error("There are no qualifyingSlots, so not calling bidders."),t(e),void 0;y.fetchBids(n);var o=Date.now()+h.getTimeout(),a=window.setInterval((function(){if(v.getAllPartnersBidStatuses(window.PWT.bidMap,r)||Date.now()>=o){clearInterval(a),b===!1&&setTimeout((function(){v.executeAnalyticsPixel()}),2e3);var n={};I.forEachOnArray(r,(function(e,t){var r=i[t];n[r]=C.findWinningBidAndGenerateTargeting(t),setTimeout(I.realignVLogInfoPanel,1e3,t)})),I.forEachOnArray(e,(function(e,t){n.hasOwnProperty(t.code)&&(t.bidData=n[t.code])})),t(e)}}),10)}function g(e,t){window.PWT.isSyncAuction?C.origCustomServerExposedAPI(e,t):setTimeout((function(){C.origCustomServerExposedAPI(e,t)}),0)}function f(e){var t=[];return I.isArray(e)?(I.forEachOnArray(e,(function(e,n){var i="",r="",o="",a=[],s="";if(I.isObject(n)){if(I.isFunction(n.getAdUnitPath)&&(i=n.getAdUnitPath()),I.isFunction(n.getSlotId)){var d=n.getSlotId();r=""+C.getAdUnitIndex(n),d&&I.isFunction(d.getDomId)&&(o=d.getDomId(),s=o)}I.isFunction(n.getSizes)&&I.forEachOnArray(n.getSizes(window.innerWidth,window.innerHeight),(function(e,t){I.isFunction(t.getWidth)&&I.isFunction(t.getHeight)?a.push([t.getWidth(),t.getHeight()]):(I.log(o+", size object does not have getWidth and getHeight method. Ignoring: "),I.log(t))}))}t.push({code:s,divId:o,adUnitId:i,adUnitIndex:r,mediaTypes:I.getAdUnitConfig(a,n).mediaTypeObject,sizes:a})})),t):(I.error("first argument to generateConfForGPT should be an array"),t)}function m(e){I.isArray(e)||I.error("array is expected");var t=[];I.isObject(window.googletag)&&I.isFunction(window.googletag.pubads)&&(t=window.googletag.pubads().getSlots());var n={};I.forEachOnArray(t,(function(e,t){if(I.isFunction(t.getSlotId)){var i=t.getSlotId();i&&I.isFunction(i.getDomId)?n[i.getDomId()]=t:I.error("slotID.getDomId is not a function")}else I.error("googleSlot.getSlotId is not a function")})),I.forEachOnArray(e,(function(e,t){if(I.isOwnProperty(n,t.divId)){var i=n[t.divId];I.isObject(t)&&I.isObject(t.bidData)&&I.isObject(t.bidData.kvp)&&I.forEachOnObject(t.bidData.kvp,(function(e,t){i.setTargeting(e,[t])}))}else I.error("GPT-Slot not found for divId: "+t.divId)}))}function w(e){I.forEachOnArray(e,(function(e,t){var n={};I.isFunction(t.getTargetingKeys)&&I.forEachOnArray(t.getTargetingKeys(),(function(e,i){n[i]=t.getTargeting(i)})),I.isFunction(t.clearTargeting)&&t.clearTargeting(),I.forEachOnObject(n,(function(e,n){I.isOwnProperty(C.wrapperTargetingKeys,e)||I.isFunction(t.setTargeting)&&t.setTargeting(e,n)}))}))}var h=n("./src_new/config.js"),E=n("./src_new/constants.js"),I=n("./src_new/util.js"),v=n("./src_new/bidManager.js"),O=n("./src_new/slot.js"),y=n("./src_new/adapters/prebid.js"),b=h.isPrebidPubMaticAnalyticsEnabled(),S=h.isUsePrebidKeysEnabled(),A={};t.wrapperTargetingKeys=A;var T={};t.slotSizeMapping=T;var P=null,C=this;t.setWindowReference=i,t.getWindowReference=r,t.getAdUnitIndex=o,t.defineWrapperTargetingKey=a,t.defineWrapperTargetingKeys=s,t.initSafeFrameListener=d,t.validateAdUnitObject=c,t.getAdSlotSizesArray=u,t.findWinningBidAndGenerateTargeting=p,t.origCustomServerExposedAPI=l,t.customServerExposedAPI=g,t.generateConfForGPT=f,t.addKeyValuePairsToGPTSlots=m,t.removeKeyValuePairsFromGPTSlots=w,t.init=function(e){return h.initConfig(),I.isObject(e)?(C.setWindowReference(e),C.initSafeFrameListener(e),y.initPbjsConfig(),e.PWT.requestBids=C.customServerExposedAPI,e.PWT.generateConfForGPT=C.generateConfForGPT,e.PWT.addKeyValuePairsToGPTSlots=m,e.PWT.removeKeyValuePairsFromGPTSlots=w,C.wrapperTargetingKeys=C.defineWrapperTargetingKeys(E.WRAPPER_TARGETING_KEYS),!0):!1}},"./src_new/owt.js":function(e,t,n){var i=n("./src_new/util.js"),r=n("./src_new/controllers/custom.js"),o=n("./src_new/bidManager.js"),a=n("./src_new/constants.js"),s=n("./src_new/config.js"),d=n("./node_modules/prebid-universal-creative/dist/creative.js"),c=n("./src_new/conf.js"),u=(n("./src_new/adapters/prebid.js"),i.getMetaInfo(window));window.PWT=window.PWT||{},window.PWT.bidMap=window.PWT.bidMap||{},window.PWT.bidIdMap=window.PWT.bidIdMap||{},window.PWT.adUnits=window.PWT.adUnits||{},window.PWT.floorData=window.PWT.floorData||{},window.PWT.isIframe=window.PWT.isIframe||u.isInIframe,window.PWT.protocol=window.PWT.protocol||u.protocol,window.PWT.secure=window.PWT.secure||u.secure,window.PWT.pageURL=window.PWT.pageURL||u.pageURL,window.PWT.refURL=window.PWT.refURL||u.refURL,window.PWT.isSafeFrame=window.PWT.isSafeFrame||!1,window.PWT.safeFrameMessageListenerAdded=window.PWT.safeFrameMessageListenerAdded||!1,window.PWT.isSyncAuction=window.PWT.isSyncAuction||!1,window.PWT.udpv=window.PWT.udpv||i.findQueryParamInURL(u.isIframe?u.refURL:u.pageURL,"pwtv"),i.findQueryParamInURL(u.isIframe?u.refURL:u.pageURL,"pwtc")&&i.enableDebugLog(),i.findQueryParamInURL(u.isIframe?u.refURL:u.pageURL,"pwtvc")&&i.enableVisualDebugLog();var p=s.isPrebidPubMaticAnalyticsEnabled();window.PWT.displayCreative=function(e,t){i.log("In displayCreative for: "+t),p?window[a.COMMON.PREBID_NAMESPACE].renderAd(e,t):o.displayCreative(e,t)},window.PWT.displayPMPCreative=function(e,t,n){i.log("In displayPMPCreative for: "+t);var r=i.getBididForPMP(t,n);r&&(p?window[a.COMMON.PREBID_NAMESPACE].renderAd(e,r):o.displayCreative(e,r))},window.PWT.sfDisplayCreative=function(e,t){i.log("In sfDisplayCreative for: "+t),d=window.ucTag||{},this.isSafeFrame=!0,d=window.ucTag||{},p?d.renderAd(e,{adId:t,pubUrl:document.referrer}):window.parent.postMessage(JSON.stringify({pwt_type:"1",pwt_bidID:t,pwt_origin:a.COMMON.PROTOCOL+window.location.hostname}),"*")},window.PWT.sfDisplayPMPCreative=function(e,t,n){i.log("In sfDisplayPMPCreative for: "+t),this.isSafeFrame=!0;var r=i.getBididForPMP(t,n);r&&(s.isPrebidPubMaticAnalyticsEnabled()?d.renderAd(e,{adId:r,pubUrl:document.referrer}):window.parent.postMessage(JSON.stringify({pwt_type:"1",pwt_bidID:r,pwt_origin:a.COMMON.PROTOCOL+window.location.hostname}),"*"))},window.PWT.initNativeTrackers=function(e,t){i.log("In startTrackers for: "+t),i.addEventListenerForClass(window,"click",a.COMMON.OW_CLICK_NATIVE,o.loadTrackers),o.executeTracker(t)},window.PWT.getUserIds=function(){return i.getUserIds()},window.OWT={notifyCount:0,externalBidderStatuses:{}},window.OWT.registerExternalBidders=function(e){return window.OWT.notifyCount++,i.forEachOnArray(e,(function(e,t){i.log("registerExternalBidders: "+t),window.OWT.externalBidderStatuses[t]={id:window.OWT.notifyCount,status:!1}})),window.OWT.notifyCount},window.OWT.notifyExternalBiddingComplete=function(e){i.forEachOnObject(window.OWT.externalBidderStatuses,(function(t,n){n&&n.id===e&&(i.log("notify externalBidding complete: "+t),window.OWT.externalBidderStatuses[t]={id:n.id,status:!0})}))},window.PWT.UpdateVastWithTracker=function(e,t){return i.UpdateVastWithTracker(e,t)},window.PWT.generateDFPURL=function(e,t){var n="";e&&i.isObject(e)||i.logError("An AdUnit should be an Object",e),e.bidData&&e.bidData.wb&&e.bidData.kvp?(e.bid=e.bidData.wb,e.bid.adserverTargeting=e.bidData.kvp):i.logWarning("No bid found for given adUnit");var r={adUnit:e,params:{iu:e.adUnitId,cust_params:t,output:"vast"}};return e.bid&&(r.bid=e.bid),n=window.owpbjs.adServers.dfp.buildVideoUrl(r)},window.PWT.getCustomParamsForDFPVideo=function(e,t){return i.getCustomParamsForDFPVideo(e,t)},window.PWT.setAuctionTimeout=function(e){isNaN(e)||(i.log("updating aution timeout from: "+c.pwt.t+" to: "+e),c.pwt.t=e)},window.PWT.versionDetails=i.getOWConfig(),window.PWT.getAdapterNameForAlias=s.getAdapterNameForAlias,window.PWT.browserMapping=o.getBrowser(),r.init(window)},"./src_new/slot.js":function(e,t,n){function i(e){this.name=e,this.status=r.SLOT_STATUS.CREATED,this.divID="",this.adUnitID="",this.adUnitIndex=0,this.sizes=[],this.keyValues={},this.arguments=[],this.pubAdServerObject=null,this.displayFunctionCalled=!1,this.refreshFunctionCalled=!1}var r=n("./src_new/constants.js");i.prototype.getName=function(){return this.name},i.prototype.setStatus=function(e){return this.status=e,this},i.prototype.getStatus=function(){return this.status},i.prototype.setDivID=function(e){return this.divID=e,this},i.prototype.getDivID=function(){return this.divID},i.prototype.setAdUnitID=function(e){return this.adUnitID=e,this},i.prototype.getAdUnitID=function(){return this.adUnitID},i.prototype.setAdUnitIndex=function(e){return this.adUnitIndex=e,this},i.prototype.getAdUnitIndex=function(){return this.adUnitIndex},i.prototype.setSizes=function(e){return this.sizes=e,this},i.prototype.getSizes=function(){return this.sizes},i.prototype.setKeyValue=function(e,t){return this.keyValues[e]=t,this},i.prototype.setKeyValues=function(e){return this.keyValues=e,this},i.prototype.getkeyValues=function(){return this.keyValues},i.prototype.setArguments=function(e){return this.arguments=e,this},i.prototype.getArguments=function(){return this.arguments},i.prototype.setPubAdServerObject=function(e){return this.pubAdServerObject=e,this},i.prototype.getPubAdServerObject=function(){return this.pubAdServerObject},i.prototype.setDisplayFunctionCalled=function(e){return this.displayFunctionCalled=e,this},i.prototype.isDisplayFunctionCalled=function(){return this.displayFunctionCalled},i.prototype.setRefreshFunctionCalled=function(e){return this.refreshFunctionCalled=e,this},i.prototype.isRefreshFunctionCalled=function(){return this.refreshFunctionCalled},i.prototype.updateStatusAfterRendering=function(e){this.status=r.SLOT_STATUS.DISPLAYED,this.arguments=[],e?this.refreshFunctionCalled=!1:this.displayFunctionCalled=!1},e.exports.Slot=i,t.createSlot=function(e){return new i(e)}},"./src_new/util.js":function(e,t,n){function i(e,t){return h.call(e)==="[object "+t+"]"}function r(e,t,n,i,r,o,d,p,l,g,f){var m=n[s.CONFIG.KEY_LOOKUP_MAP]||n[s.CONFIG.REGEX_KEY_LOOKUP_MAP]||null,w=g.indexOf(s.MACROS.WIDTH)>=0&&g.indexOf(s.MACROS.HEIGHT)>=0,h=n[s.CONFIG.REGEX_KEY_LOOKUP_MAP]?!0:!1,I=void 0;const v=a.getAdapterNameForAlias(e);var O=s.PUBMATIC_ALIASES.indexOf(v)>-1?!0:!1,y=!1;E.forEachOnArray(o,(function(r,o){var a=null,g=!1,v=d.getSizes();if(null==m)f&&1==f.length&&(o=f[0]),g=!0;else{if(h){E.debugLogIsEnabled&&E.log(console.time("Time for regexMatching for key "+o));var b=E.getConfigFromRegex(m,o);E.debugLogIsEnabled&&E.log(console.timeEnd("Time for regexMatching for key "+o)),b?(a=b.config,I=b.regexPattern):y=O?!0:!1}else f&&1==f.length&&(a=m[Object.keys(m).filter((function(e){return e.toLowerCase()===f[0].toLowerCase()}))],a&&(o=f[0])),a||(a=m[Object.keys(m).filter((function(e){return e.toLowerCase()===o.toLowerCase()}))]);!a&&!O||y?E.log(e+": "+o+s.MESSAGES.M8):g=!0}if(g){if(1==l){var S=c.createBid(e,o);S.setDefaultBidStatus(1).setReceivedTime(E.getCurrentTimestampInMs()),u.setBidFromBidder(d.getDivID(),S),S.setRegexPattern(I)}p(e,t,n,i,o,w,d,E.getPartnerParams(a),v[r][0],v[r][1],I)}}))}function o(e,t,n,i){t=t||document;var r;r=n?t.getElementsByTagName(n):t.getElementsByTagName("head");try{if(r=r.length?r:t.getElementsByTagName("body"),r.length){r=r[0];var o=i?null:r.firstChild;return r.insertBefore(e,o)}}catch(a){}}var a=n("./src_new/config.js"),s=n("./src_new/constants.js"),d=n("./src_new/conf.js"),c=n("./src_new/bid.js"),u=n("./src_new/bidManager.js"),p=!1;t.debugLogIsEnabled=p;var l=!1;t.visualDebugLogIsEnabled=l;var g="Array",f="String",m="Function",w="Number",h=Object.prototype.toString,E=this;E.idsAppendedToAdUnits=!1;var I={};t.mediaTypeConfig=I;var v=parseInt(d[s.CONFIG.COMMON][s.COMMON.IDENTITY_ONLY]||s.CONFIG.DEFAULT_IDENTITY_ONLY)?s.COMMON.IH_NAMESPACE:s.COMMON.PREBID_NAMESPACE;t.pbNameSpace=v,t.isA=i,t.isFunction=function(e){return E.isA(e,m)},t.isString=function(e){return E.isA(e,f)},t.isArray=function(e){return E.isA(e,g)},t.isNumber=function(e){return E.isA(e,w)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isOwnProperty=function(e,t){return E.isObject(e)&&e.hasOwnProperty?e.hasOwnProperty(t):!1},t.isUndefined=function(e){return"undefined"==typeof e},t.enableDebugLog=function(){E.debugLogIsEnabled=!0},t.isDebugLogEnabled=function(){return E.debugLogIsEnabled},t.enableVisualDebugLog=function(){E.debugLogIsEnabled=!0,E.visualDebugLogIsEnabled=!0},t.isEmptyObject=function(e){return E.isObject(e)&&0===Object.keys(e).length};var O="[OpenWrap] : ",y="[OpenWrap] : [Error]";t.log=function(e){E.debugLogIsEnabled&&console&&this.isFunction(console.log)&&(this.isString(e)?console.log((new Date).getTime()+" : "+O+e):console.log(e))},t.logError=function(e){E.debugLogIsEnabled&&console&&this.isFunction(console.log)&&(this.isString(e)?console.error((new Date).getTime()+" : "+O+e):console.error(e))},t.logWarning=function(e){E.debugLogIsEnabled&&console&&this.isFunction(console.log)&&(this.isString(e)?console.warn((new Date).getTime()+" : "+O+e):console.warn(e))},t.error=function(e){console.log((new Date).getTime()+" : "+y,e)},t.getCurrentTimestampInMs=function(){var e=new window.Date;return e.getTime()},t.getCurrentTimestamp=function(){var e=new Date;return Math.round(e.getTime()/1e3)};var b=(function(){var e=0;return function(){return e++,e}})();t.utilGetIncrementalInteger=b,t.getUniqueIdentifierStr=function(){return b()+window.Math.random().toString(16).substr(2)},t.copyKeyValueObject=function(e,t){if(E.isObject(e)&&E.isObject(t)){var n=E;E.forEachOnObject(t,(function(i,r){if(t[i]=n.isArray(r)?r:[r],n.isOwnProperty(e,i)){if(!E.isArray(e[i])){var o=e[i];e[i]=[o]}e[i].push(r)}else e[i]=[r]}))}},t.getIncrementalInteger=(function(){var e=0;return function(){return e++,e}})(),t.generateUUID=function(){var e=(new window.Date).getTime(),t=window.decodeURIComponent(this.pageURL).toLowerCase().replace(/[^a-z,A-Z,0-9]/gi,""),n=t.length,i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx-zzzzz".replace(/[xyz]/g,(function(i){var r=(e+16*Math.random())%16|0;e=Math.floor(e/16);var o;switch(i){case"x":o=r;break;case"z":o=t[Math.floor(Math.random()*n)];break;default:o=3&r|8}return o.toString(16)}));return i};var S="g",A=new RegExp(s.MACROS.WIDTH,S),T=new RegExp(s.MACROS.HEIGHT,S),P=new RegExp(s.MACROS.AD_UNIT_ID,S),C=new RegExp(s.MACROS.AD_UNIT_INDEX,S),_=new RegExp(s.MACROS.INTEGER,S),D=new RegExp(s.MACROS.DIV,S);t.generateSlotNamesFromPattern=function(e,t,n,i){var r,o,a,s,d=[],c={};if(E.isObject(e)&&E.isFunction(e.getSizes)){o=e.getSizes();var u=E.isFunction(e.getDivID)?e.getDivID():e.getSlotId().getDomId();if(n){o=[].concat(e.getSizes());var p=E.mediaTypeConfig[u];p&&p.video&&o.unshift([0,0])}if(a=o.length,a>0)for(s=0;a>s;s++)if(2==o[s].length&&o[s][0]&&o[s][1]||0==o[s][0]&&0==o[s][1]||E.isFunction(o[s].getWidth)&&E.isFunction(o[s].getHeight)){var l=E.isFunction(e.getAdUnitID)?e.getAdUnitID():e.getSlotId().getAdUnitPath(),u=E.isFunction(e.getDivID)?e.getDivID():e.getSlotId().getDomId(),g=E.isFunction(e.getAdUnitIndex)?e.getAdUnitIndex():e.getSlotId().getId().split("_")[1],f=0==o[s][0]?0:o[s][0]||o[s].getWidth(),m=0==o[s][1]?0:o[s][1]||o[s].getHeight();r=t,r=r.replace(P,l).replace(C,g).replace(_,E.getIncrementalInteger()).replace(D,u).replace(A,f).replace(T,m),0==f&&0==m?i[0]=r:E.isOwnProperty(c,r)||(c[r]="",d.push(r))}}return d},t.forEachGeneratedKey=function(e,t,n,i,r,o,a,d){var c=o.length,u=n[s.CONFIG.KEY_GENERATION_PATTERN]||n[s.CONFIG.REGEX_KEY_GENERATION_PATTERN]||"";c>0&&u.length>3&&E.forEachOnArray(o,(function(o,s){var c=[],p=E.generateSlotNamesFromPattern(s,u,!0,c);p.length>0&&E.callHandlerFunctionForMapping(e,t,n,i,r,p,s,a,d,u,c)}))},t.callHandlerFunctionForMapping=r,t.resizeWindow=function(e,t,n,i){if(n&&t)try{var r=e.defaultView.frameElement,o=[];if(i){var a=document.getElementById(i),s=a.querySelector("div");o.push(s),o.push(s.querySelector("iframe")),r=a.querySelector("iframe")}o.push(r),o.forEach((function(e){e&&(e.width=""+t,e.height=""+n,e.style.width=""+t+"px",e.style.height=""+n+"px")}))}catch(d){E.logError("Creative-Resize; Error in resizing creative")}},t.writeIframe=function(e,t,n,i,r){e.write('<iframe frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" scrolling="no" width="'+n+'" hspace="0" vspace="0" height="'+i+'"'+(r?' style="'+r+'"':"")+' src="'+t+'"></iframe>')},t.displayCreative=function(e,t){t&&t.pbbid&&"video"==t.pbbid.mediaType&&t.renderer&&E.isObject(t.renderer)?E.isFunction(t.renderer.render)&&t.renderer.render(t.getPbBid()):(E.resizeWindow(e,t.width,t.height),t.adHtml?(t.adHtml=E.replaceAuctionPrice(t.adHtml,t.getGrossEcpm()),e.write(t.adHtml)):t.adUrl?(t.adUrl=E.replaceAuctionPrice(t.adUrl,t.getGrossEcpm()),E.writeIframe(e,t.adUrl,t.width,t.height,"")):(E.logError("creative details are not found"),E.logError(t)))},t.forEachOnObject=function(e,t){if(E.isObject(e)&&E.isFunction(t))for(var n in e)E.isOwnProperty(e,n)&&t(n,e[n])},t.forEachOnArray=function(e,t){if(E.isArray(e)&&E.isFunction(t))for(var n=0,i=e.length;i>n;n++)t(n,e[n])},t.trim=function(e){return E.isString(e)?e.replace(/^\s+/g,"").replace(/\s+$/g,""):e},t.getTopFrameOfSameDomain=function(e){try{if(e.parent.document!=e.document)return E.getTopFrameOfSameDomain(e.parent)}catch(t){}return e},t.metaInfo={},t.getMetaInfo=function(e){var t,n={},i=512;n.pageURL="",n.refURL="",n.protocol="https://",n.secure=1,n.isInIframe=E.isIframe(e);try{t=E.getTopFrameOfSameDomain(e),n.refURL=(t.refurl||t.document.referrer||"").substr(0,i),n.pageURL=(t!==window.top&&""!=t.document.referrer?t.document.referrer:t.location.href).substr(0,i),n.protocol=(function(e){return"http:"===e.location.protocol?(n.secure=0,"http://"):(n.secure=1,"https://")})(t)}catch(r){}return n.pageDomain=E.getDomainFromURL(n.pageURL),E.metaInfo=n,n},t.isIframe=function(e){try{return e.self!==e.top}catch(t){return!1}},t.findQueryParamInURL=function(e,t){return E.isOwnProperty(E.parseQueryParams(e),t)},t.parseQueryParams=function(e){var t=E.createDocElement(window,"a");t.href=e;var n={};if(t.search){var i=t.search.replace("?","");i=i.split("&"),E.forEachOnArray(i,(function(e,t){var t=t.split("="),i=t[0]||"",r=t[1]||"";n[i]=r}))}return n},t.createDocElement=function(e,t){return e.document.createElement(t)},t.addHookOnFunction=function(e,t,n,i){var r=e;if(e=t?e.__proto__:e,E.isObject(e)&&E.isFunction(e[n])){var o=e[n];e[n]=i(r,o)}else E.logWarning("in assignNewDefination: oldReference is not a function")},t.getBididForPMP=function(e,t){e=e.split(",");var n=e.length,i=t.length,r="",o="";if(0==n)return this.log("Error: Unable to find bidID as values array is empty."),void 0;for(var a=0;i>a;a++){for(var d=0;n>d;d++)if(e[d].indexOf(t[a])>=0){r=e[d];break}if(""!=r)break}""==r?(r=e[0],this.log("No PMP-Deal was found matching PriorityArray, So Selecting first PMP-Deal: "+r)):this.log("Selecting PMP-Deal: "+r);var c=r.split(s.COMMON.DEAL_KEY_VALUE_SEPARATOR);return 3==c.length&&(o=c[2]),o?o:(this.log("Error: bidID not found in PMP-Deal: "+r),void 0)},t.insertHtmlIntoIframe=function(e){if(e){var t=document.createElement("iframe");t.id=E.getUniqueIdentifierStr(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",o(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close()}},t.createInvisibleIframe=function(){var e=E.createDocElement(window,"iframe");return e.id=E.getUniqueIdentifierStr(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.style="display:none",e},t.addMessageEventListener=function(e,t){return"function"!=typeof t?(E.log("EventHandler should be a function"),!1):(e.addEventListener?e.addEventListener("message",t,!1):e.attachEvent("onmessage",t),!0)},t.safeFrameCommunicationProtocol=function(e){try{var t;if(msgData=window.JSON.parse(e.data),!msgData.pwt_type)return;switch(window.parseInt(msgData.pwt_type)){case 1:if(window.PWT.isSafeFrame)return;var n=t=u.getBidById(msgData.pwt_bidID);if(n){var i=n.bid,r=i.getAdapterID(),o=n.slotid,s={pwt_type:2,pwt_bid:i};E.vLogInfo(o,{type:"disp",adapter:r}),u.executeMonetizationPixel(o,i),i&&i.pbbid&&"video"==i.pbbid.mediaType&&i.renderer&&E.isObject(i.renderer)?E.isFunction(i.renderer.render)&&i.renderer.render(i.getPbBid()):(E.resizeWindow(window.document,i.width,i.height,o),e.source.postMessage(window.JSON.stringify(s),msgData.pwt_origin))}break;case 2:if(!window.PWT.isSafeFrame)return;if(msgData.pwt_bid){var i=msgData.pwt_bid;if(i.adHtml)try{var d=E.createInvisibleIframe(window.document);if(!d)throw{message:"Failed to create invisible frame.",name:""};if(d.setAttribute("width",i.width),d.setAttribute("height",i.height),d.style="",window.document.body.appendChild(d),!d.contentWindow)throw{message:"Unable to access frame window.",name:""};var c=d.contentWindow.document;if(!c)throw{message:"Unable to access frame window document.",name:""};var p='<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><base target="_top" /><script>inDapIF=true;</script></head>';p+="<body>",p+="<script>var $sf = window.parent.$sf;</script>",p+="<script>setInterval(function(){try{var fr = window.document.defaultView.frameElement;fr.width = window.parent.document.defaultView.innerWidth;fr.height = window.parent.document.defaultView.innerHeight;}catch(e){}}, 200);</script>",p+=i.adHtml,p+="</body></html>",c.write(p),c.close()}catch(l){E.logError("Error in rendering creative in safe frame."),E.log(l),E.log("Rendering synchronously."),E.displayCreative(window.document,msgData.pwt_bid)}else i.adUrl?E.writeIframe(window.document,i.adUrl,i.width,i.height,""):(E.logWarning("creative details are not found"),E.log(i))}break;case 3:if(a.isPrebidPubMaticAnalyticsEnabled()){var e={message:"Prebid Native",adId:msgData.pwt_bidID,action:msgData.pwt_action};window.postMessage(JSON.stringify(e),"*")}else{var n=t=u.getBidById(msgData.pwt_bidID);if(n){var i=n.bid,r=i.getAdapterID(),o=n.slotid;E.vLogInfo(o,{type:"disp",adapter:r}),msgData.pwt_action&&"imptrackers"==msgData.pwt_action&&u.executeMonetizationPixel(o,i),u.fireTracker(i,msgData.pwt_action)}}}var g=JSON.parse(localStorage.getItem("PROFILE_AUCTION_INFO_"+window.location.hostname))||{};null!==g&&g.slotLevelFrquencyDepth&&(g.slotLevelFrquencyDepth[g.codeAdUnitMap[t&&t.slotid]].impressionServed=g.slotLevelFrquencyDepth[g.codeAdUnitMap[t&&t.slotid]].impressionServed+1,g.impressionServed=g.impressionServed+1),localStorage.setItem("PROFILE_AUCTION_INFO_"+window.location.hostname,JSON.stringify(g))}catch(l){}},t.addMessageEventListenerForSafeFrame=function(e){E.addMessageEventListener(e,E.safeFrameCommunicationProtocol)},t.getElementLocation=function(e){var t,n=0,i=0;if(E.isFunction(e.getBoundingClientRect))t=e.getBoundingClientRect(),n=Math.floor(t.left),i=Math.floor(t.top);else for(;e;)n+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return{x:n,y:i}},t.createVLogInfoPanel=function(e,t){var n,i,r,o=window.document;if(E.visualDebugLogIsEnabled&&(n=o.getElementById(e),n&&t.length&&t[0][0]&&t[0][1]&&(r=e+"-pwtc-info",!E.isUndefined(o.getElementById(r))))){var a=E.getElementLocation(n);i=o.createElement("div"),i.id=r,i.style="position: absolute; /*top: "+a.y+"px;*/ left: "+a.x+"px; width: "+t[0][0]+"px; height: "+t[0][1]+"px; border: 1px solid rgb(255, 204, 52); padding-left: 11px; background: rgb(247, 248, 224) none repeat scroll 0% 0%; overflow: auto; z-index: 9999997; visibility: hidden;opacity:0.9;font-size:13px;font-family:monospace;";var s=o.createElement("img");s.src=E.metaInfo.protocol+"ads.pubmatic.com/AdServer/js/pwt/close.png",s.style="cursor:pointer; position: absolute; top: 2px; left: "+(a.x+t[0][0]-16-15)+"px; z-index: 9999998;",s.title="close",s.onclick=function(){i.style.display="none"},i.appendChild(s),i.appendChild(o.createElement("br"));for(var d="Slot: "+e+" | ",c=0;c<t.length;c++)d+=(0!=c?", ":"")+t[c][0]+"x"+t[c][1];i.appendChild(o.createTextNode(d)),i.appendChild(o.createElement("br")),n.parentNode.insertBefore(i,n)}},t.realignVLogInfoPanel=function(e){var t,n,i,r=window.document;if(E.visualDebugLogIsEnabled&&(t=r.getElementById(e),t&&(i=e+"-pwtc-info",n=r.getElementById(i)))){var o=E.getElementLocation(t);n.style.visibility="visible",n.style.left=o.x+"px",n.style.height=t.clientHeight+"px"}},t.vLogInfo=function(e,t){var n,i,r=window.document;if(E.visualDebugLogIsEnabled){var o=e+"-pwtc-info";if(n=r.getElementById(o)){switch(t.type){case"bid":var a=t.latency,s=t.bidDetails,d="";0>a&&(a=0),d=t.hasOwnProperty("adServerCurrency")&&void 0!==t.adServerCurrency?0==t.adServerCurrency?"USD":t.adServerCurrency:"USD",i="Bid: "+t.bidder+(t.s2s?"(s2s)":"")+": "+s.getNetEcpm()+"("+s.getGrossEcpm()+")"+d+" :"+a+"ms",s.getPostTimeoutStatus()&&(i+=": POST-TIMEOUT");break;case"win-bid":var s=t.bidDetails,d="";d=t.hasOwnProperty("adServerCurrency")&&void 0!==t.adServerCurrency?0==t.adServerCurrency?"USD":t.adServerCurrency:"USD",i="Winning Bid: "+s.getAdapterID()+": "+s.getNetEcpm()+d;break;case"win-bid-fail":i="There are no bids from PWT";break;case"hr":i="----------------------";break;case"disp":i="Displaying creative from "+t.adapter}n.appendChild(r.createTextNode(i)),n.appendChild(r.createElement("br"))}}},t.getExternalBidderStatus=function(e){var t=!0;return E.forEachOnArray(e,(function(e,n){t=window.OWT.externalBidderStatuses[n]?t&&window.OWT.externalBidderStatuses[n].status:t})),t},t.resetExternalBidderStatus=function(e){E.forEachOnArray(e,(function(e,t){E.log("resetExternalBidderStatus: "+t),window.OWT.externalBidderStatuses[t]=void 0}))},t.ajaxRequest=function(e,t,n,i){try{i=i||{};var r,o=4,a=!0,s=i.method||(n?"POST":"GET");if(window.XMLHttpRequest?(r=new window.XMLHttpRequest,E.isUndefined(r.responseType)&&(a=!1)):a=!1,!a)return E.log("Ajax is not supported"),void 0;r.onreadystatechange=function(){r.readyState===o&&t&&t(r.responseText,r)},r.open(s,e),i.withCredentials&&(r.withCredentials=!0),i.preflight&&r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-Type",i.contentType||"text/plain"),r.send("POST"===s&&n)}catch(d){E.log("Failed in Ajax"),E.log(d)}},t.getAdUnitConfig=function(e,t){function n(){return h?Object.keys(u.config).toString().toLowerCase().indexOf(h.toLowerCase())>-1?!0:!1:void 0}function i(){return u&&1==u[s.COMMON.MCONF_REGEX]?!0:!1}function r(){var e,t=Object.keys(u.config);return t.forEach((function(t){try{if(t.length>0&&t!=s.COMMON.DEFAULT&&h.match(new RegExp(t,"i")))return e=t,void 0}catch(n){E.log(s.MESSAGES.M32+JSON.stringify(t))}})),e?u.config[e]:void 0}function o(){return n()?u.config[h]:i()?r():void 0}var d={},c={},u=a.getSlotConfiguration();if(u)if(u.configPattern&&""!=u.configPattern.trim()||(u.configPattern="_AU_")){var p=u.configPattern,l=!0,g=!0,f=!0,m=void 0,w=E.isFunction(t.getDivID)?t.getDivID():t.getSlotId().getDomId(),h=E.generateSlotNamesFromPattern(t,p,!1)[0];if(E.isOwnProperty(u.config,s.COMMON.DEFAULT)&&(u.config[s.COMMON.DEFAULT].banner&&E.isOwnProperty(u.config[s.COMMON.DEFAULT].banner,"enabled")&&!u.config[s.COMMON.DEFAULT].banner.enabled&&(f=!1),u.config[s.COMMON.DEFAULT].native&&E.isOwnProperty(u.config[s.COMMON.DEFAULT].native,"enabled")&&!u.config[s.COMMON.DEFAULT].native.enabled&&(g=!1),u.config[s.COMMON.DEFAULT].video&&E.isOwnProperty(u.config[s.COMMON.DEFAULT].video,"enabled")&&!u.config[s.COMMON.DEFAULT].video.enabled&&(l=!1),m=u.config[s.COMMON.DEFAULT],m.renderer&&!E.isEmptyObject(m.renderer)&&(d.renderer=m.renderer)),E.isOwnProperty(u.config,h)||n()||i()){const I=o();I&&(m=I),m||(m=u.config[Object.keys(u.config).filter((function(e){return e.toLocaleLowerCase()===h.toLowerCase()}))]),E.log("Config"+JSON.stringify(m)+" found for adSlot: "+JSON.stringify(t))}else E.log("Considering Default Config for "+JSON.stringify(t));if(m){if(g&&m.native&&(!E.isOwnProperty(m.native,"enabled")||m.native.enabled)&&(m.native.config?c["native"]=m.native.config:E.logWarning("Native Config will not be considered as no config has been provided for slot"+JSON.stringify(t)+" or there is no configuration defined in default.")),l&&m.video&&(!E.isOwnProperty(m.video,"enabled")||m.video.enabled)&&(a.getAdServer()!=s.AD_SERVER.DFP?m.video.config?(c.video=m.video.config,m.video.partnerConfig&&(c.partnerConfig=m.video.partnerConfig)):E.logWarning("Video Config will not be considered as no config has been provided for slot"+JSON.stringify(t)+" or there is no configuration defined in default."):E.logWarning("Video Config will not be considered with DFP selected as AdServer.")),m.renderer&&!E.isEmptyObject(m.renderer)&&(d.renderer=m.renderer),!f||m.banner&&E.isOwnProperty(m.banner,"enabled")&&!m.banner.enabled)return E.mediaTypeConfig[w]=c,d.mediaTypeObject=c,d}else E.log("Config not found for adSlot: "+JSON.stringify(t))}else E.logWarning("Slot Type not found in config. Please provide slotType in configuration");return c.banner={sizes:e},E.mediaTypeConfig[w]=c,d.mediaTypeObject=c,d},t.addEventListenerForClass=function(e,t,n,i){if("function"!=typeof i)return E.log("EventHandler should be a function"),!1;var r=E.findElementsByClass(e,n);e.addEventListener||(t="on"+t);for(var o=0;o<r.length;o++)r[o].addEventListener(t,i,!0);return!0},t.findElementsByClass=function(e,t){return e.document.getElementsByClassName(t)||[]},t.getBidFromEvent=function(e){return e&&e.target&&e.target.attributes&&e.target.attributes[s.COMMON.BID_ID]&&e.target.attributes[s.COMMON.BID_ID].value||""},t.getAdFormatFromBidAd=function(e){var t=void 0;if(e&&E.isString(e))try{var n=new RegExp(/VAST\s+version/);if(n.test(e))t=s.FORMAT_VALUES.VIDEO;else{var i=JSON.parse(e.replace(/\\/g,""));i&&i.native&&(t=s.FORMAT_VALUES.NATIVE)}}catch(r){t=s.FORMAT_VALUES.BANNER}return t},t.handleHook=function(e,t){E.isFunction(window.PWT[e])&&(E.log("For Hook-name: "+e+", calling window.PWT."+e+"function."),window.PWT[e].apply(window.PWT,t))},t.getCurrencyToDisplay=function(){var e=a.getAdServerCurrency();if(0==e&&(e="USD"),a.getAdServerCurrency()&&window[s.COMMON.PREBID_NAMESPACE]&&E.isFunction(window[s.COMMON.PREBID_NAMESPACE].getConfig)){var t=window[s.COMMON.PREBID_NAMESPACE].getConfig();if(t&&t.currency&&t.currency.adServerCurrency)return t.currency.adServerCurrency}return e},t.getConfigFromRegex=function(e,t){for(var n=null,i=t.split("@"),r=0;r<e.length;r++){var o=e[r],a=o.rx;if(3==i.length)try{if(i[0].match(new RegExp(a.AU,"i"))&&i[1].match(new RegExp(a.DIV,"i"))&&i[2].match(new RegExp(a.SIZE,"i"))){n={config:o.rx_config,regexPattern:a.AU+"@"+a.DIV+"@"+a.SIZE};break}}catch(d){E.logError(s.MESSAGES.M27+JSON.stringify(a))}else E.logWarning(s.MESSAGES.M28+t)}return n},t.getUserIdConfiguration=function(){var e=[];return window[v].onSSOLogin({}),E.forEachOnObject(a.getIdentityPartners(),(function(t,n){s.EXCLUDE_PARTNER_LIST.indexOf(t)<0&&e.push(E.getUserIdParams(n))})),E.log(s.MESSAGES.IDENTITY.M4+JSON.stringify(e)),e},t.getUserIds=function(){return E.isFunction(window[s.COMMON.PREBID_NAMESPACE].getUserIds)?window[s.COMMON.PREBID_NAMESPACE].getUserIds():(E.logWarning("getUserIds"+s.MESSAGES.IDENTITY.M6),void 0)
},t.getUserIdsAsEids=function(){return E.isFunction(window[s.COMMON.PREBID_NAMESPACE].getUserIdsAsEids)?window[s.COMMON.PREBID_NAMESPACE].getUserIdsAsEids():(E.logWarning("getUserIdsAsEids"+s.MESSAGES.IDENTITY.M6),void 0)},t.getNestedObjectFromArray=function(e,t,n){for(var i=e,r=i,o=0;o<t.length-1;o++)r[t[o]]||(r[t[o]]={}),r=r[t[o]];return r[t[t.length-1]]=n,i},t.getNestedObjectFromString=function(e,t,n,i){var r=n.split(t);return 1==r.length?e[n]=i:e=E.getNestedObjectFromArray(e,r,i),e},t.deleteCustomParams=function(e){return delete e.custom,e},t.getUserIdParams=function(e){var t={};E.applyDataTypeChangesIfApplicable(e),E.applyCustomParamValuesfApplicable(e);for(var n in e)try{-1==s.EXCLUDE_IDENTITY_PARAMS.indexOf(n)&&(s.TOLOWERCASE_IDENTITY_PARAMS.indexOf(n)>-1&&(e[n]=e[n].toLowerCase()),s.JSON_VALUE_KEYS.indexOf(n)>-1&&(e[n]=JSON.parse(e[n])),t=E.getNestedObjectFromString(t,".",n,e[n]))}catch(i){E.logWarning(s.MESSAGES.IDENTITY.M3,i)}return t&&t.params&&"true"==t.params.loadATS&&E.initLiveRampAts(t),t&&t.params&&"true"==t.params.loadIDP&&E.initZeoTapJs(t),t&&t.params&&"true"==t.params.loadLauncher&&E.initLauncherJs(t),t&&t.custom&&"true"==t.custom.loadLaunchPad&&E.initLiveRampLaunchPad(t),E.deleteCustomParams(t)},t.getPartnerParams=function(e){var t={};for(var n in e)try{t=E.getNestedObjectFromString(t,".",n,e[n])}catch(i){E.logWarning(s.MESSAGES.M29,i)}return t},t.getAdDomain=function(e){if(e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0){var t=e.meta.advertiserDomains[0];if(t)try{var n=new URL(t);return n.hostname.replace("www.","")}catch(i){return E.log("Adomain URL (Not a proper URL):"+t),t.split("/")[0].replace("www.","")}}},t.getTgid=function(){var e=parseInt(PWT.testGroupId||0);return 15>=e&&e>=0?e:0},t.generateMonetizationPixel=function(e,t){var n,i,r,o,d,c,p,l=a.getMonetizationPixelURL(),g=a.getPublisherId(),f="";const m=!0,w=t.pbbid&&t.pbbid.prebidBidId||t.prebidBidId;if(l){i=E.isFunction(t.getGrossEcpm)?t.getGrossEcpm(m):a.getAdServerCurrency()&&E.isFunction(t.getCpmInNewCurrency)?window.parseFloat(t.getCpmInNewCurrency(s.COMMON.ANALYTICS_CURRENCY)):a.isPrebidPubMaticAnalyticsEnabled()&&t.originalCpm?t.originalCpm:t.cpm,d=E.isFunction(t.getAdapterID)?t.getAdapterID():t.bidderCode,"pubmaticServer"==d&&(d=t.originalBidder||"pubmatic"),c=a.getAdapterNameForAlias(d),n=E.isFunction(t.getNetEcpm)?t.getNetEcpm(m):window.parseFloat((i*a.getAdapterRevShare(d)).toFixed(s.COMMON.BID_PRECISION)),o=E.isFunction(t.getBidID)?t.getBidID():a.isPrebidPubMaticAnalyticsEnabled()&&t.adId?t.adId:window.PWT.bidMap[e].adapters[d].bids[Object.keys(window.PWT.bidMap[e].adapters[d].bids)[0]].bidID,r=E.isFunction(t.getKGPV)?t.getKGPV():window.PWT.bidMap[e].adapters[d].bids[Object.keys(window.PWT.bidMap[e].adapters[d].bids)[0]].getKGPV(!1,t.mediaType),f=E.isFunction(t.getsspID)?t.getsspID():t.sspID||"";var h=u.getAdUnitInfo(e);p=h.adUnitId||e;var I=window.PWT.bidMap[e].getImpressionID(),v=window.PWT.newAdUnits&&window.PWT.newAdUnits[I]&&window.PWT.newAdUnits[I][e]&&window.PWT.newAdUnits[I][e].pubmaticAutoRefresh&&window.PWT.newAdUnits[I][e].pubmaticAutoRefresh.isRefreshed?1:0;const O=E.getAdDomain(t.pbbid||t)||void 0,y=window.PWT.floorData?window.PWT.floorData[I]?window.PWT.floorData[I].floorRequestData?0==window.PWT.floorData[I].floorRequestData.skipped?0:1:void 0:void 0:void 0;return l+="pubid="+g,l+="&purl="+window.encodeURIComponent(E.metaInfo.pageURL),l+="&tst="+E.getCurrentTimestamp(),l+="&iid="+window.encodeURIComponent(window.PWT.bidMap[e].getImpressionID()),l+="&bidid="+(w?window.encodeURIComponent(w):window.encodeURIComponent(o)),l+="&origbidid="+window.encodeURIComponent(o),l+="&pid="+window.encodeURIComponent(a.getProfileID()),l+="&pdvid="+window.encodeURIComponent(a.getProfileDisplayVersionID()),l+="&slot="+window.encodeURIComponent(e),l+="&au="+window.encodeURIComponent(p),l+="&bc="+window.encodeURIComponent(d),l+="&pn="+window.encodeURIComponent(c),l+="&en="+window.encodeURIComponent(n),l+="&eg="+window.encodeURIComponent(i),l+="&kgpv="+window.encodeURIComponent(r),l+="&piid="+window.encodeURIComponent(f),l+="&rf="+window.encodeURIComponent(v),l+="&plt="+window.encodeURIComponent(E.getDevicePlatform()),l+=E.isFunction(t.getWidth)&&E.isFunction(t.getHeight)?"&psz="+window.encodeURIComponent(t.getWidth()+"x"+t.getHeight()):E.isFunction(t.getSize)?"&psz="+window.encodeURIComponent(t.getSize()):"&psz="+window.encodeURIComponent(t.width+"x"+t.height),l+="&tgid="+window.encodeURIComponent(E.getTgid()),O&&(l+="&adv="+window.encodeURIComponent(O)),l+="&orig="+window.encodeURIComponent(E.metaInfo&&E.metaInfo.pageDomain||""),l+="&ss="+window.encodeURIComponent(E.isFunction(t.getServerSideStatus)?t.getServerSideStatus()?1:0:a.isServerSideAdapter(d)?1:0),void 0!=y&&(l+="&fskp="+window.encodeURIComponent(y)),l+="&af="+window.encodeURIComponent(E.isFunction(t.getAdFormat)?t.getAdFormat():t.mediaType||void 0),s.COMMON.PROTOCOL+l}},t.UpdateVastWithTracker=function(e,t){try{var n=new DOMParser,i=n.parseFromString(t,"application/xml"),r=i.createElement("Impression");return r.innerHTML=a.isPrebidPubMaticAnalyticsEnabled()?"":"<![CDATA["+E.generateMonetizationPixel(e.adUnitCode,e)+"]]>",1==i.getElementsByTagName("Wrapper").length?i.getElementsByTagName("Wrapper")[0].appendChild(r):1==i.getElementsByTagName("InLine").length&&i.getElementsByTagName("InLine")[0].appendChild(r),(new XMLSerializer).serializeToString(i)}catch(o){return t}},t.getDomainFromURL=function(e){var t=window.document.createElement("a");return t.href=e,t.hostname},t.replaceAuctionPrice=function(e,t){return e?e.replace(/\$\{AUCTION_PRICE\}/g,t):void 0},t.getCustomParamsForDFPVideo=function(e,t){const n=t&&t.adserverTargeting||{};var i={};for(var r in n)E.isOwnProperty(n,r)&&(i[r]=E.isArray(n[r])?n[r].join():n[r]);var e=Object.assign({},i,e);return e},t.getDevicePlatform=function(){var e=3;try{var t=navigator.userAgent;if(t&&E.isString(t)&&""!=t.trim()){t=t.toLowerCase().trim();var n=new RegExp("(mobi|tablet|ios).*");e=t.match(n)?2:1}}catch(i){E.logError("Unable to get device platform",i)}return e},t.getOWConfig=function(){var e={timeout:a.getTimeout(),openwrap_version:a[s.COMMON.OWVERSION],prebid_version:a[s.COMMON.PBVERSION],profileId:a.getProfileID(),profileVersionId:a.getProfileDisplayVersionID()};return e},t.updateAdUnits=function(e){E.isArray(e)?e.forEach((function(e){e.bids.forEach((function(e){E.updateUserIds(e)}))})):E.isEmptyObject(e)||e.bids.forEach((function(e){E.updateUserIds(e)}))},t.updateUserIds=function(e){if(E.isUndefined(e.userId)?e.userId=E.getUserIds():e.userId&&(e.userId=Object.assign(e.userId,E.getUserIds())),E.isUndefined(e.userIdAsEids))e.userIdAsEids=E.getUserIdsAsEids();else if(E.isArray(e.userIdAsEids)){var t=new Set,n=E.getUserIdsAsEids().concat(e.userIdAsEids);E.isArray(n)&&n.length>0&&(n=n.filter((function(e){if(e.source){if(t.has(e.source))return!1;t.add(e.source)}return!0}))),e.userIdAsEids=n}},t.getLiverampParams=function(e){e.params.cssSelectors&&e.params.cssSelectors.length>0&&(e.params.cssSelectors=e.params.cssSelectors.split(","));var t=window[v].getUserIdentities()||{},n=a.isSSOEnabled()||!1,i=e.params.detectionMechanism,r="true"===e.params.enableCustomId?!0:!1,o={placementID:e.params.pid,storageType:e.params.storageType,logging:e.params.logging};switch(r&&(o.accountID=e.params.accountID,o.customerIDRegex=e.params.customerIDRegex,o.detectionSubject="customerIdentifier"),i){case void 0:case"detect":o.detectionType=e.params.detectionType,o.urlParameter=e.params.urlParameter,o.cssSelectors=e.params.cssSelectors,o.detectDynamicNodes=e.params.detectDynamicNodes,o.detectionEventType=e.params.detectionEventType,e.params.triggerElements&&e.params.triggerElements.length>0&&(e.params.triggerElements=e.params.triggerElements.split(","),o.triggerElements=e.params.triggerElements);break;case"direct":if(o.emailHashes=void 0,window.PWT&&window.PWT.OVERRIDES_SCRIPT_BASED_MODULES&&window.PWT.OVERRIDES_SCRIPT_BASED_MODULES.includes("identityLink")||void 0===window.PWT.OVERRIDES_SCRIPT_BASED_MODULES){var s=n&&t.emailHash?t.emailHash:t.pubProvidedEmailHash?t.pubProvidedEmailHash:void 0;o.emailHashes=s&&[s.MD5,s.SHA1,s.SHA256]||void 0}r&&E.isFunction(window[v].getUserIdentities)&&void 0!==window[v].getUserIdentities()&&(o.customerID=window[v].getUserIdentities().customerID||void 0)}return o},t.getEmailHashes=function(){var e=window[v].getUserIdentities()||{},t=a.isSSOEnabled()||!1,n=t&&e.emailHash?e.emailHash:e.pubProvidedEmailHash?e.pubProvidedEmailHash:void 0,i=[];return E.forEachOnObject(n,(function(e,t){void 0!==t&&i.push(t)})),i.length>0?i:void 0},t.initLiveRampLaunchPad=function(e){function t(){var e=document.createElement("script");e.onload=function(){__launchpad("addEventListener",1,(function(){var e=!ats.outputCurrentConfiguration().DETECTION_MODULE_INFO||ats.outputCurrentConfiguration().ENVELOPE_MODULE_INFO.ENVELOPE_MODULE_CONFIG.startWithExternalId;if(e&&(window.PWT&&window.PWT.OVERRIDES_SCRIPT_BASED_MODULES&&window.PWT.OVERRIDES_SCRIPT_BASED_MODULES.includes("identityLink")||void 0===window.PWT.OVERRIDES_SCRIPT_BASED_MODULES)){var t=E.getEmailHashes();t&&window.ats.setAdditionalData({type:"emailHashes",id:t})}}),["atsWrapperLoaded"])},e.src=n,document.body.appendChild(e)}var n="https://launchpad-wrapper.privacymanager.io/"+e.custom.configurationId+"/launchpad-liveramp.js";t()},t.getPublinkLauncherParams=function(e){e.params.cssSelectors&&e.params.cssSelectors.length>0&&(e.params.cssSelectors=e.params.cssSelectors.split(","));var t=window[v].getUserIdentities()||{},n=a.isSSOEnabled()||!1,i=e.params.detectionMechanism,r={apiKey:e.params.api_key,siteId:e.params.site_id};switch(i){case void 0:case"detect":r.urlParameter=e.params.urlParameter,r.cssSelectors=e.params.cssSelectors,r.detectionSubject="email";break;case"direct":if(window.PWT&&window.PWT.OVERRIDES_SCRIPT_BASED_MODULES&&window.PWT.OVERRIDES_SCRIPT_BASED_MODULES.includes("publinkId")||void 0===window.PWT.OVERRIDES_SCRIPT_BASED_MODULES){var o=n&&t.emailHash?t.emailHash:t.pubProvidedEmailHash?t.pubProvidedEmailHash:void 0;r.emailHashes=o&&[o.MD5,o.SHA256]||void 0}}return r},t.initLiveRampAts=function(e){function t(){var t=document.createElement("script"),n=E.getLiverampParams(e);t.onload=function(){window.ats&&window.ats.start(n)},t.src="https://ats.rlcdn.com/ats.js",document.body.appendChild(t)}"complete"==document.readyState?t():window.addEventListener("load",(function(){setTimeout(t,1e3)}))},t.initZeoTapJs=function(e){function t(){var t=document,n=window,i=window[v].getUserIdentities()||{},r=a.isSSOEnabled()||!1,o={};(window.PWT&&window.PWT.OVERRIDES_SCRIPT_BASED_MODULES&&window.PWT.OVERRIDES_SCRIPT_BASED_MODULES.includes("zeotapIdPlus")||void 0===window.PWT.OVERRIDES_SCRIPT_BASED_MODULES)&&(o={email:r&&i.emailHash?i.emailHash.SHA256:i.pubProvidedEmailHash?i.pubProvidedEmailHash.SHA256:void 0});var s=t.createElement("script");s.type="text/javascript",s.crossorigin="anonymous",s.async=!0,s.src="https://content.zeotap.com/sdk/idp.min.js",s.onload=function(){},t=t.getElementsByTagName("script")[0];var d={partnerId:e.partnerId,allowIDP:!0,useConsent:a.getCCPA()||a.getGdpr(),checkForCMP:a.getCCPA()||a.getGdpr()};t.parentNode.insertBefore(s,t),t=n.zeotap||{_q:[],_qcmp:[]},!(function(e,t,n){for(var i=0;i<t.length;i++)!(function(t){e[t]=function(){e[n].push([t].concat(Array.prototype.slice.call(arguments,0)))}})(t[i])})(t,["callMethod"],"_q"),n.zeotap=t,n.zeotap.callMethod("init",d),n.zeotap.callMethod("setUserIdentities",o,!0)}"complete"==document.readyState?t():window.addEventListener("load",(function(){setTimeout(t,1e3)}))},t.initLauncherJs=function(e){function t(){var t=document.createElement("script"),n=E.getPublinkLauncherParams(e);t.onload=function(){window.conversant.getLauncherObject=function(){return n},window.conversant&&window.conversant.launch("publink","start",n)},t.src="https://secure.cdn.fastclick.net/js/cnvr-launcher/latest/launcher-stub.min.js",document.body.appendChild(t)}window.cnvr_launcher_options={lid:e.params.launcher_id},"complete"==document.readyState?t():window.addEventListener("load",(function(){setTimeout(t,1e3)}))},t.getRandomNumberBelow100=function(){return Math.floor(100*Math.random())},t.getUpdatedKGPVForVideo=function(e,t){if(t==s.FORMAT_VALUES.VIDEO){var n=["","0x0"],i=e.split("@");if(i.length>1){if(2==i.length){if(i[1].indexOf(":")>-1){var r=i[1].split(":");n[1]=n[1]+":"+r[1]}n[0]=i[0]}e=n.join("@")}}return e},t.applyDataTypeChangesIfApplicable=function(e){var t;if(e.name in s.SPECIAL_CASE_ID_PARTNERS)for(partnerName in s.SPECIAL_CASE_ID_PARTNERS)if(partnerName===e.name)for(key in s.SPECIAL_CASE_ID_PARTNERS[partnerName]){var n=e[key];switch(s.SPECIAL_CASE_ID_PARTNERS[partnerName][key]){case"number":n&&"number"!=typeof n&&(t=parseInt(n),isNaN(t)?E.logError(partnerName+": Invalid parameter value '"+n+"' for parameter "+key):e[key]=t);break;case"array":if(n)if("string"==typeof n){var i=n.split(",").map((function(e){return e.trim()}));i.length>0&&(e[key]=i)}else"number"==typeof n&&(e[key]=[n]);break;case"customObject":n&&"params.requestedAttributesOverrides"===key&&(e[key]={uid2:"true"===n||"1"===n});break;default:return}}},t.applyCustomParamValuesfApplicable=function(e){if(e.name in s.ID_PARTNERS_CUSTOM_VALUES)for(var t=s.ID_PARTNERS_CUSTOM_VALUES[e.name],n=0;n<t.length;n++)e[t[n].key]||(e[t[n].key]=t[n].value)},t.getBrowserDetails=function(){return u.getBrowser().toString()},t.getPltForFloor=function(){return E.getDevicePlatform().toString()},t.getGeoInfo=function(){var e="UINFO",t=1728e5,n="https://ut.pubmatic.com/geo?pubid="+d[s.CONFIG.COMMON][s.CONFIG.PUBLISHER_ID],i=window[v].getDataFromLocalStorage(e,t);i&&JSON.parse(i).cc?window.PWT.CC=JSON.parse(i):window[v].detectLocation(n,(function(t){window[v].setAndStringifyToLocalStorage(e,t),window.PWT.CC=t}))}}});